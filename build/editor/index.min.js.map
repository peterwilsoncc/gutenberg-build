{"version":3,"file":"./build/editor/index.min.js","mappings":"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IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,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","sources":["webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/./node_modules/deepmerge/dist/cjs.js","webpack://wp/./node_modules/fast-deep-equal/index.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/./node_modules/remove-accents/index.js","webpack://wp/external window \"React\"","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"blockEditor\"]","../../packages/editor/src/store/defaults.js","../../packages/editor/src/dataviews/store/reducer.ts","../../packages/editor/src/store/reducer.js","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"date\"]","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/external window [\"wp\",\"deprecated\"]","webpack://wp/external window [\"wp\",\"primitives\"]","webpack://wp/external window \"ReactJSXRuntime\"","../../packages/icons/src/library/layout.js","webpack://wp/external window [\"wp\",\"preferences\"]","../../packages/editor/src/store/constants.ts","../../packages/icons/src/library/header.js","../../packages/icons/src/library/footer.js","../../packages/icons/src/library/sidebar.js","../../packages/icons/src/library/symbol-filled.js","../../packages/editor/src/utils/get-template-part-icon.js","../../packages/editor/src/store/selectors.js","webpack://wp/external window [\"wp\",\"a11y\"]","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/external window [\"wp\",\"notices\"]","webpack://wp/external window [\"wp\",\"i18n\"]","../../packages/editor/src/store/local-autosave.js","webpack://wp/external window [\"wp\",\"privateApis\"]","../../packages/editor/src/lock-unlock.js","../../packages/editor/src/store/actions.js","../../packages/editor/src/store/utils/notice-builder.js","webpack://wp/external window [\"wp\",\"htmlEntities\"]","../../packages/icons/src/library/external.js","../../packages/fields/src/actions/view-post.tsx","../../packages/fields/src/actions/view-post-revisions.tsx","webpack://wp/external window [\"wp\",\"components\"]","../../packages/dataviews/src/field-types/integer.tsx","../../packages/dataviews/src/field-types/text.tsx","../../packages/dataviews/src/field-types/datetime.tsx","../../packages/dataviews/src/dataform-controls/index.tsx","../../packages/dataviews/src/dataform-controls/datetime.tsx","../../packages/dataviews/src/dataform-controls/integer.tsx","../../packages/dataviews/src/dataform-controls/radio.tsx","../../packages/dataviews/src/dataform-controls/select.tsx","../../packages/dataviews/src/dataform-controls/text.tsx","../../packages/dataviews/src/normalize-fields.ts","../../packages/dataviews/src/field-types/index.tsx","../../packages/icons/src/library/close-small.js","../../packages/dataviews/src/dataforms-layouts/panel/index.tsx","../../packages/dataviews/src/dataforms-layouts/index.tsx","../../packages/dataviews/src/dataforms-layouts/regular/index.tsx","../../packages/dataviews/src/components/dataform/index.tsx","../../packages/fields/src/actions/utils.ts","../../packages/fields/src/fields/title/index.ts","../../packages/fields/src/actions/duplicate-post.tsx","webpack://wp/external window [\"wp\",\"patterns\"]","../../packages/fields/src/lock-unlock.ts","../../packages/fields/src/actions/duplicate-pattern.tsx","../../packages/fields/src/actions/rename-post.tsx","../../packages/dataviews/src/validation.ts","../../packages/fields/src/fields/order/index.ts","../../packages/fields/src/actions/reorder-page.tsx","webpack://wp/./node_modules/tslib/tslib.es6.mjs","webpack://wp/./node_modules/lower-case/src/index.ts","webpack://wp/./node_modules/no-case/src/index.ts","webpack://wp/./node_modules/param-case/src/index.ts","webpack://wp/./node_modules/dot-case/src/index.ts","webpack://wp/./node_modules/client-zip/index.js","webpack://wp/external window [\"wp\",\"blob\"]","../../packages/icons/src/library/download.js","../../packages/fields/src/actions/export-pattern.tsx","../../packages/icons/src/library/backup.js","../../packages/fields/src/actions/restore-post.tsx","../../packages/fields/src/actions/reset-post.tsx","../../packages/icons/src/library/trash.js","../../packages/fields/src/actions/delete-post.tsx","../../packages/fields/src/mutation/index.ts","../../packages/fields/src/actions/trash-post.tsx","../../packages/fields/src/actions/permanently-delete-post.tsx","../../packages/icons/src/library/check.js","../../packages/editor/src/components/create-template-part-modal/utils.js","../../packages/editor/src/components/create-template-part-modal/index.js","../../packages/editor/src/dataviews/actions/utils.ts","../../packages/editor/src/dataviews/actions/duplicate-template-part.tsx","../../packages/editor/src/dataviews/store/private-actions.ts","../../packages/editor/src/store/private-actions.js","../../packages/editor/src/store/utils/is-template-revertable.js","../../packages/icons/src/library/symbol.js","../../packages/icons/src/library/navigation.js","../../packages/icons/src/library/page.js","../../packages/icons/src/library/verse.js","../../packages/editor/src/dataviews/store/private-selectors.ts","../../packages/editor/src/store/private-selectors.js","../../packages/editor/src/store/index.js","../../packages/editor/src/components/autocompleters/user.js","../../packages/editor/src/hooks/custom-sources-backwards-compatibility.js","../../packages/editor/src/hooks/default-autocompleters.js","webpack://wp/external window [\"wp\",\"mediaUtils\"]","../../packages/editor/src/hooks/media-upload.js","../../packages/editor/src/hooks/pattern-overrides.js","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","webpack://wp/./node_modules/clsx/dist/clsx.mjs","../../packages/icons/src/library/star-filled.js","../../packages/icons/src/library/star-empty.js","webpack://wp/external window [\"wp\",\"viewport\"]","../../packages/interface/src/store/deprecated.js","../../packages/interface/src/store/actions.js","../../packages/interface/src/store/selectors.js","../../packages/interface/src/store/reducer.js","../../packages/interface/src/store/index.js","../../packages/interface/src/store/constants.js","webpack://wp/external window [\"wp\",\"plugins\"]","../../packages/interface/src/components/complementary-area-context/index.js","../../packages/interface/src/components/complementary-area-toggle/index.js","../../packages/interface/src/components/complementary-area-header/index.js","../../packages/interface/src/components/action-item/index.js","../../packages/interface/src/components/complementary-area-more-menu-item/index.js","../../packages/interface/src/components/pinned-items/index.js","../../packages/interface/src/components/complementary-area/index.js","../../packages/interface/src/components/fullscreen-mode/index.js","../../packages/interface/src/components/navigable-region/index.js","../../packages/interface/src/components/interface-skeleton/index.js","../../packages/editor/src/components/global-keyboard-shortcuts/index.js","../../packages/editor/src/components/autosave-monitor/index.js","../../packages/icons/src/library/chevron-right-small.js","../../packages/icons/src/library/chevron-left-small.js","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/external window [\"wp\",\"commands\"]","../../packages/editor/src/components/document-bar/index.js","webpack://wp/external window [\"wp\",\"richText\"]","../../packages/editor/src/components/document-outline/item.js","../../packages/editor/src/components/document-outline/index.js","../../packages/editor/src/components/document-outline/check.js","../../packages/editor/src/components/global-keyboard-shortcuts/register-shortcuts.js","../../packages/icons/src/library/redo.js","../../packages/icons/src/library/undo.js","../../packages/editor/src/components/editor-history/redo.js","../../packages/editor/src/components/editor-history/undo.js","../../packages/editor/src/components/template-validation-notice/index.js","../../packages/editor/src/components/editor-notices/index.js","../../packages/editor/src/components/editor-snackbars/index.js","../../packages/editor/src/components/entities-saved-states/entity-record-item.js","../../packages/editor/src/components/entities-saved-states/entity-type-list.js","../../packages/editor/src/components/entities-saved-states/hooks/use-is-dirty.js","../../packages/editor/src/components/entities-saved-states/index.js","../../packages/editor/src/components/error-boundary/index.js","../../packages/editor/src/components/local-autosave-monitor/index.js","../../packages/editor/src/components/page-attributes/check.js","../../packages/editor/src/components/post-type-support-check/index.js","../../packages/editor/src/components/page-attributes/order.js","../../packages/editor/src/components/post-panel-row/index.js","../../packages/editor/src/utils/terms.js","../../packages/editor/src/components/page-attributes/parent.js","../../packages/editor/src/components/page-attributes/panel.js","../../packages/icons/src/library/add-template.js","../../packages/editor/src/components/post-template/create-new-template-modal.js","../../packages/editor/src/components/post-template/hooks.js","../../packages/editor/src/components/post-template/classic-theme.js","../../packages/editor/src/components/preferences-modal/enable-panel.js","webpack://wp/external window [\"wp\",\"warning\"]","../../packages/editor/src/components/preferences-modal/enable-plugin-document-setting-panel.js","../../packages/editor/src/components/plugin-document-setting-panel/index.js","../../packages/editor/src/components/block-settings-menu/plugin-block-settings-menu-item.js","../../packages/editor/src/components/plugin-more-menu-item/index.js","../../packages/editor/src/components/plugin-post-publish-panel/index.js","../../packages/editor/src/components/plugin-post-status-info/index.js","../../packages/editor/src/components/plugin-pre-publish-panel/index.js","../../packages/editor/src/components/plugin-preview-menu-item/index.js","../../packages/editor/src/components/plugin-sidebar/index.js","../../packages/editor/src/components/plugin-sidebar-more-menu-item/index.js","../../packages/editor/src/components/post-template/swap-template-button.js","../../packages/editor/src/components/post-template/reset-default-template.js","../../packages/editor/src/components/post-template/create-new-template.js","../../packages/editor/src/components/post-template/block-theme.js","../../packages/editor/src/components/post-template/panel.js","../../packages/editor/src/components/post-author/constants.js","../../packages/editor/src/components/post-author/hook.js","../../packages/editor/src/components/post-author/combobox.js","../../packages/editor/src/components/post-author/select.js","../../packages/editor/src/components/post-author/index.js","../../packages/editor/src/components/post-author/check.js","../../packages/editor/src/components/post-author/panel.js","../../packages/editor/src/components/post-comments/index.js","../../packages/editor/src/components/post-pingbacks/index.js","../../packages/editor/src/components/post-discussion/panel.js","../../packages/editor/src/components/post-excerpt/index.js","../../packages/editor/src/components/post-excerpt/check.js","../../packages/editor/src/components/post-excerpt/plugin.js","../../packages/editor/src/components/post-excerpt/panel.js","../../packages/editor/src/components/theme-support-check/index.js","../../packages/editor/src/components/post-featured-image/check.js","../../packages/editor/src/components/post-featured-image/index.js","../../packages/editor/src/components/post-featured-image/panel.js","../../packages/editor/src/components/post-format/check.js","../../packages/editor/src/components/post-format/index.js","../../packages/editor/src/components/post-last-revision/check.js","../../packages/editor/src/components/post-last-revision/index.js","../../packages/editor/src/components/post-last-revision/panel.js","../../packages/editor/src/components/post-locked-modal/index.js","../../packages/editor/src/components/post-pending-status/check.js","../../packages/editor/src/components/post-pending-status/index.js","../../packages/editor/src/components/post-preview-button/index.js","../../packages/editor/src/components/post-publish-button/label.js","../../packages/editor/src/components/post-publish-button/index.js","../../packages/icons/src/library/wordpress.js","../../packages/editor/src/components/post-visibility/utils.js","../../packages/editor/src/components/post-visibility/index.js","../../packages/editor/src/components/post-visibility/label.js","webpack://wp/./node_modules/date-fns/toDate.mjs","webpack://wp/./node_modules/date-fns/startOfMonth.mjs","webpack://wp/./node_modules/date-fns/endOfMonth.mjs","webpack://wp/./node_modules/date-fns/constants.mjs","webpack://wp/./node_modules/date-fns/parseISO.mjs","../../packages/editor/src/components/post-schedule/index.js","../../packages/editor/src/components/post-schedule/label.js","../../packages/editor/src/components/post-taxonomies/most-used-terms.js","../../packages/editor/src/components/post-taxonomies/flat-term-selector.js","../../packages/editor/src/components/post-publish-panel/maybe-tags-panel.js","../../packages/editor/src/components/post-publish-panel/maybe-post-format-panel.js","../../packages/editor/src/components/post-taxonomies/hierarchical-term-selector.js","../../packages/editor/src/components/post-publish-panel/maybe-category-panel.js","webpack://wp/./node_modules/uuid/dist/esm-browser/native.js","webpack://wp/./node_modules/uuid/dist/esm-browser/rng.js","webpack://wp/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://wp/./node_modules/uuid/dist/esm-browser/v4.js","../../packages/editor/src/components/post-publish-panel/maybe-upload-media.js","../../packages/editor/src/components/post-publish-panel/media-util.js","../../packages/editor/src/components/post-publish-panel/prepublish.js","../../packages/editor/src/components/post-publish-panel/postpublish.js","../../packages/editor/src/components/post-publish-panel/index.js","../../packages/icons/src/library/cloud-upload.js","../../packages/icons/src/icon/index.js","../../packages/icons/src/library/cloud.js","../../packages/icons/src/library/drafts.js","../../packages/icons/src/library/pending.js","../../packages/icons/src/library/not-allowed.js","../../packages/icons/src/library/scheduled.js","../../packages/icons/src/library/published.js","../../packages/editor/src/components/post-sticky/check.js","../../packages/editor/src/components/post-sticky/index.js","../../packages/editor/src/components/post-status/index.js","../../packages/editor/src/components/post-saved-state/index.js","../../packages/editor/src/components/post-schedule/check.js","../../packages/editor/src/components/post-schedule/panel.js","../../packages/editor/src/components/post-slug/check.js","../../packages/editor/src/components/post-slug/index.js","../../packages/editor/src/components/post-switch-to-draft-button/index.js","../../packages/editor/src/components/post-sync-status/index.js","../../packages/editor/src/components/post-taxonomies/index.js","../../packages/editor/src/components/post-taxonomies/check.js","../../packages/editor/src/components/post-taxonomies/panel.js","../../packages/editor/src/components/post-text-editor/index.js","webpack://wp/external window [\"wp\",\"dom\"]","../../packages/editor/src/components/post-title/constants.js","../../packages/editor/src/components/post-title/use-post-title-focus.js","../../packages/editor/src/components/post-title/use-post-title.js","../../packages/editor/src/components/post-title/index.js","../../packages/editor/src/components/post-title/post-title-raw.js","../../packages/editor/src/components/post-trash/check.js","../../packages/editor/src/components/post-trash/index.js","../../packages/icons/src/library/copy-small.js","../../packages/editor/src/components/post-url/index.js","../../packages/editor/src/components/post-url/check.js","../../packages/editor/src/components/post-url/label.js","../../packages/editor/src/components/post-url/panel.js","../../packages/editor/src/components/post-visibility/check.js","../../packages/icons/src/library/info.js","webpack://wp/external window [\"wp\",\"wordcount\"]","../../packages/editor/src/components/word-count/index.js","../../packages/editor/src/components/time-to-read/index.js","../../packages/editor/src/components/character-count/index.js","../../packages/editor/src/components/table-of-contents/panel.js","../../packages/editor/src/components/table-of-contents/index.js","../../packages/editor/src/components/unsaved-changes-warning/index.js","../../packages/editor/src/components/provider/with-registry-provider.js","../../packages/editor/src/components/media-categories/index.js","../../packages/editor/src/utils/media-upload/index.js","webpack://wp/./node_modules/is-plain-object/dist/is-plain-object.mjs","../../packages/editor/src/components/global-styles-provider/index.js","../../packages/editor/src/components/provider/use-block-editor-settings.js","../../packages/editor/src/components/provider/use-post-content-blocks.js","../../packages/editor/src/components/provider/disable-non-page-content-blocks.js","../../packages/editor/src/components/provider/navigation-block-editing-mode.js","../../packages/editor/src/components/provider/use-hide-blocks-from-inserter.js","../../packages/icons/src/library/keyboard.js","../../packages/icons/src/library/list-view.js","../../packages/icons/src/library/code.js","../../packages/icons/src/library/drawer-left.js","../../packages/icons/src/library/drawer-right.js","../../packages/icons/src/library/block-default.js","../../packages/icons/src/library/format-list-bullets.js","../../packages/icons/src/library/edit.js","../../packages/icons/src/library/pencil.js","../../packages/editor/src/components/pattern-rename-modal/index.js","../../packages/editor/src/components/pattern-duplicate-modal/index.js","../../packages/editor/src/components/commands/index.js","../../packages/editor/src/components/block-removal-warnings/index.js","../../packages/editor/src/components/start-page-options/index.js","../../packages/editor/src/components/keyboard-shortcut-help-modal/config.js","../../packages/editor/src/components/keyboard-shortcut-help-modal/shortcut.js","../../packages/editor/src/components/keyboard-shortcut-help-modal/dynamic-shortcut.js","../../packages/editor/src/components/keyboard-shortcut-help-modal/index.js","../../packages/editor/src/components/block-settings-menu/content-only-settings-menu.js","../../packages/editor/src/components/start-template-options/index.js","../../packages/editor/src/components/template-part-menu-items/convert-to-regular.js","../../packages/editor/src/components/template-part-menu-items/convert-to-template-part.js","../../packages/editor/src/components/template-part-menu-items/index.js","../../packages/editor/src/components/provider/index.js","webpack://wp/external window [\"wp\",\"serverSideRender\"]","../../packages/editor/src/components/deprecated.js","../../packages/editor/src/components/index.js","../../packages/editor/src/utils/url.js","../../packages/editor/src/components/editor-interface/content-slot-fill.js","../../packages/editor/src/components/header/back-button.js","../../packages/icons/src/library/next.js","../../packages/icons/src/library/previous.js","../../packages/editor/src/components/collapsible-block-toolbar/index.js","../../packages/icons/src/library/plus.js","../../packages/editor/src/components/document-tools/index.js","../../packages/icons/src/library/more-vertical.js","../../packages/editor/src/components/more-menu/copy-content-menu-item.js","../../packages/editor/src/components/mode-switcher/index.js","../../packages/editor/src/components/more-menu/tools-more-menu-group.js","../../packages/editor/src/components/more-menu/view-more-menu-group.js","../../packages/editor/src/components/more-menu/index.js","../../packages/editor/src/components/post-publish-button/post-publish-button-or-toggle.js","../../packages/editor/src/components/post-view-link/index.js","../../packages/icons/src/library/desktop.js","../../packages/icons/src/library/mobile.js","../../packages/icons/src/library/tablet.js","../../packages/editor/src/components/preview-dropdown/index.js","../../packages/icons/src/library/square.js","../../packages/editor/src/components/zoom-out-toggle/index.js","../../packages/editor/src/components/header/index.js","../../packages/editor/src/components/inserter-sidebar/index.js","../../packages/editor/src/components/list-view-sidebar/list-view-outline.js","../../packages/editor/src/components/list-view-sidebar/index.js","../../packages/editor/src/components/save-publish-panels/index.js","../../packages/editor/src/components/text-editor/index.js","../../packages/editor/src/components/visual-editor/edit-template-blocks-notification.js","../../packages/editor/src/components/resizable-editor/resize-handle.js","../../packages/editor/src/components/resizable-editor/index.js","../../packages/editor/src/components/visual-editor/use-select-nearest-editable-block.js","../../packages/editor/src/components/visual-editor/index.js","../../packages/editor/src/components/editor-interface/index.js","../../packages/editor/src/components/pattern-overrides-panel/index.js","../../packages/editor/src/components/post-actions/actions.js","../../packages/editor/src/components/post-actions/index.js","../../packages/editor/src/components/post-card-panel/index.js","../../packages/editor/src/components/post-content-information/index.js","../../packages/editor/src/components/post-format/panel.js","../../packages/editor/src/components/post-last-edited-panel/index.js","../../packages/editor/src/components/post-panel-section/index.js","../../packages/editor/src/components/blog-title/index.js","../../packages/editor/src/components/posts-per-page/index.js","../../packages/editor/src/components/site-discussion/index.js","../../packages/editor/src/components/sidebar/post-summary.js","../../packages/editor/src/components/post-transform-panel/hooks.js","../../packages/editor/src/components/post-transform-panel/index.js","../../packages/editor/src/components/sidebar/constants.js","../../packages/editor/src/components/sidebar/header.js","../../packages/editor/src/components/template-content-panel/index.js","../../packages/editor/src/components/template-part-content-panel/index.js","../../packages/editor/src/components/provider/use-auto-switch-editor-sidebars.js","../../packages/editor/src/components/sidebar/index.js","../../packages/editor/src/components/preferences-modal/enable-publish-sidebar.js","../../packages/editor/src/components/block-manager/checklist.js","../../packages/editor/src/components/block-manager/category.js","../../packages/editor/src/components/block-manager/index.js","../../packages/editor/src/components/preferences-modal/index.js","../../packages/editor/src/bindings/pattern-overrides.js","../../packages/editor/src/bindings/post-meta.js","../../packages/editor/src/private-apis.js","../../packages/editor/src/dataviews/api.js","../../packages/editor/src/components/editor/index.js","../../packages/editor/src/bindings/api.js"],"sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = null;\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea && autosize(_this.textarea); });\n        }\n        else {\n            this.textarea && autosize(this.textarea);\n        }\n        if (this.textarea) {\n            this.textarea.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea) {\n            this.textarea.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _this = this;\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: function (element) {\n                _this.textarea = element;\n                if (typeof _this.props.innerRef === 'function') {\n                    _this.props.innerRef(element);\n                }\n                else if (_this.props.innerRef) {\n                    _this.props.innerRef.current = element;\n                }\n            } }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea && autosize.update(this.textarea);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.any,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1.TextareaAutosize;\n","var characterMap = {\n\t\"À\": \"A\",\n\t\"Á\": \"A\",\n\t\"Â\": \"A\",\n\t\"Ã\": \"A\",\n\t\"Ä\": \"A\",\n\t\"Å\": \"A\",\n\t\"Ấ\": \"A\",\n\t\"Ắ\": \"A\",\n\t\"Ẳ\": \"A\",\n\t\"Ẵ\": \"A\",\n\t\"Ặ\": \"A\",\n\t\"Æ\": \"AE\",\n\t\"Ầ\": \"A\",\n\t\"Ằ\": \"A\",\n\t\"Ȃ\": \"A\",\n\t\"Ả\": \"A\",\n\t\"Ạ\": \"A\",\n\t\"Ẩ\": \"A\",\n\t\"Ẫ\": \"A\",\n\t\"Ậ\": \"A\",\n\t\"Ç\": \"C\",\n\t\"Ḉ\": \"C\",\n\t\"È\": \"E\",\n\t\"É\": \"E\",\n\t\"Ê\": \"E\",\n\t\"Ë\": \"E\",\n\t\"Ế\": \"E\",\n\t\"Ḗ\": \"E\",\n\t\"Ề\": \"E\",\n\t\"Ḕ\": \"E\",\n\t\"Ḝ\": \"E\",\n\t\"Ȇ\": \"E\",\n\t\"Ẻ\": \"E\",\n\t\"Ẽ\": \"E\",\n\t\"Ẹ\": \"E\",\n\t\"Ể\": \"E\",\n\t\"Ễ\": \"E\",\n\t\"Ệ\": \"E\",\n\t\"Ì\": \"I\",\n\t\"Í\": \"I\",\n\t\"Î\": \"I\",\n\t\"Ï\": \"I\",\n\t\"Ḯ\": \"I\",\n\t\"Ȋ\": \"I\",\n\t\"Ỉ\": \"I\",\n\t\"Ị\": \"I\",\n\t\"Ð\": \"D\",\n\t\"Ñ\": \"N\",\n\t\"Ò\": \"O\",\n\t\"Ó\": \"O\",\n\t\"Ô\": \"O\",\n\t\"Õ\": \"O\",\n\t\"Ö\": \"O\",\n\t\"Ø\": \"O\",\n\t\"Ố\": \"O\",\n\t\"Ṍ\": \"O\",\n\t\"Ṓ\": \"O\",\n\t\"Ȏ\": \"O\",\n\t\"Ỏ\": \"O\",\n\t\"Ọ\": \"O\",\n\t\"Ổ\": \"O\",\n\t\"Ỗ\": \"O\",\n\t\"Ộ\": \"O\",\n\t\"Ờ\": \"O\",\n\t\"Ở\": \"O\",\n\t\"Ỡ\": \"O\",\n\t\"Ớ\": \"O\",\n\t\"Ợ\": \"O\",\n\t\"Ù\": \"U\",\n\t\"Ú\": \"U\",\n\t\"Û\": \"U\",\n\t\"Ü\": \"U\",\n\t\"Ủ\": \"U\",\n\t\"Ụ\": \"U\",\n\t\"Ử\": \"U\",\n\t\"Ữ\": \"U\",\n\t\"Ự\": \"U\",\n\t\"Ý\": \"Y\",\n\t\"à\": \"a\",\n\t\"á\": \"a\",\n\t\"â\": \"a\",\n\t\"ã\": \"a\",\n\t\"ä\": \"a\",\n\t\"å\": \"a\",\n\t\"ấ\": \"a\",\n\t\"ắ\": \"a\",\n\t\"ẳ\": \"a\",\n\t\"ẵ\": \"a\",\n\t\"ặ\": \"a\",\n\t\"æ\": \"ae\",\n\t\"ầ\": \"a\",\n\t\"ằ\": \"a\",\n\t\"ȃ\": \"a\",\n\t\"ả\": \"a\",\n\t\"ạ\": \"a\",\n\t\"ẩ\": \"a\",\n\t\"ẫ\": \"a\",\n\t\"ậ\": \"a\",\n\t\"ç\": \"c\",\n\t\"ḉ\": \"c\",\n\t\"è\": \"e\",\n\t\"é\": \"e\",\n\t\"ê\": \"e\",\n\t\"ë\": \"e\",\n\t\"ế\": \"e\",\n\t\"ḗ\": \"e\",\n\t\"ề\": \"e\",\n\t\"ḕ\": \"e\",\n\t\"ḝ\": \"e\",\n\t\"ȇ\": \"e\",\n\t\"ẻ\": \"e\",\n\t\"ẽ\": \"e\",\n\t\"ẹ\": \"e\",\n\t\"ể\": \"e\",\n\t\"ễ\": \"e\",\n\t\"ệ\": \"e\",\n\t\"ì\": \"i\",\n\t\"í\": \"i\",\n\t\"î\": \"i\",\n\t\"ï\": \"i\",\n\t\"ḯ\": \"i\",\n\t\"ȋ\": \"i\",\n\t\"ỉ\": \"i\",\n\t\"ị\": \"i\",\n\t\"ð\": \"d\",\n\t\"ñ\": \"n\",\n\t\"ò\": \"o\",\n\t\"ó\": \"o\",\n\t\"ô\": \"o\",\n\t\"õ\": \"o\",\n\t\"ö\": \"o\",\n\t\"ø\": \"o\",\n\t\"ố\": \"o\",\n\t\"ṍ\": \"o\",\n\t\"ṓ\": \"o\",\n\t\"ȏ\": \"o\",\n\t\"ỏ\": \"o\",\n\t\"ọ\": \"o\",\n\t\"ổ\": \"o\",\n\t\"ỗ\": \"o\",\n\t\"ộ\": \"o\",\n\t\"ờ\": \"o\",\n\t\"ở\": \"o\",\n\t\"ỡ\": \"o\",\n\t\"ớ\": \"o\",\n\t\"ợ\": \"o\",\n\t\"ù\": \"u\",\n\t\"ú\": \"u\",\n\t\"û\": \"u\",\n\t\"ü\": \"u\",\n\t\"ủ\": \"u\",\n\t\"ụ\": \"u\",\n\t\"ử\": \"u\",\n\t\"ữ\": \"u\",\n\t\"ự\": \"u\",\n\t\"ý\": \"y\",\n\t\"ÿ\": \"y\",\n\t\"Ā\": \"A\",\n\t\"ā\": \"a\",\n\t\"Ă\": \"A\",\n\t\"ă\": \"a\",\n\t\"Ą\": \"A\",\n\t\"ą\": \"a\",\n\t\"Ć\": \"C\",\n\t\"ć\": \"c\",\n\t\"Ĉ\": \"C\",\n\t\"ĉ\": \"c\",\n\t\"Ċ\": \"C\",\n\t\"ċ\": \"c\",\n\t\"Č\": \"C\",\n\t\"č\": \"c\",\n\t\"C̆\": \"C\",\n\t\"c̆\": \"c\",\n\t\"Ď\": \"D\",\n\t\"ď\": \"d\",\n\t\"Đ\": \"D\",\n\t\"đ\": \"d\",\n\t\"Ē\": \"E\",\n\t\"ē\": \"e\",\n\t\"Ĕ\": \"E\",\n\t\"ĕ\": \"e\",\n\t\"Ė\": \"E\",\n\t\"ė\": \"e\",\n\t\"Ę\": \"E\",\n\t\"ę\": \"e\",\n\t\"Ě\": \"E\",\n\t\"ě\": \"e\",\n\t\"Ĝ\": \"G\",\n\t\"Ǵ\": \"G\",\n\t\"ĝ\": \"g\",\n\t\"ǵ\": \"g\",\n\t\"Ğ\": \"G\",\n\t\"ğ\": \"g\",\n\t\"Ġ\": \"G\",\n\t\"ġ\": \"g\",\n\t\"Ģ\": \"G\",\n\t\"ģ\": \"g\",\n\t\"Ĥ\": \"H\",\n\t\"ĥ\": \"h\",\n\t\"Ħ\": \"H\",\n\t\"ħ\": \"h\",\n\t\"Ḫ\": \"H\",\n\t\"ḫ\": \"h\",\n\t\"Ĩ\": \"I\",\n\t\"ĩ\": \"i\",\n\t\"Ī\": \"I\",\n\t\"ī\": \"i\",\n\t\"Ĭ\": \"I\",\n\t\"ĭ\": \"i\",\n\t\"Į\": \"I\",\n\t\"į\": \"i\",\n\t\"İ\": \"I\",\n\t\"ı\": \"i\",\n\t\"Ĳ\": \"IJ\",\n\t\"ĳ\": \"ij\",\n\t\"Ĵ\": \"J\",\n\t\"ĵ\": \"j\",\n\t\"Ķ\": \"K\",\n\t\"ķ\": \"k\",\n\t\"Ḱ\": \"K\",\n\t\"ḱ\": \"k\",\n\t\"K̆\": \"K\",\n\t\"k̆\": \"k\",\n\t\"Ĺ\": \"L\",\n\t\"ĺ\": \"l\",\n\t\"Ļ\": \"L\",\n\t\"ļ\": \"l\",\n\t\"Ľ\": \"L\",\n\t\"ľ\": \"l\",\n\t\"Ŀ\": \"L\",\n\t\"ŀ\": \"l\",\n\t\"Ł\": \"l\",\n\t\"ł\": \"l\",\n\t\"Ḿ\": \"M\",\n\t\"ḿ\": \"m\",\n\t\"M̆\": \"M\",\n\t\"m̆\": \"m\",\n\t\"Ń\": \"N\",\n\t\"ń\": \"n\",\n\t\"Ņ\": \"N\",\n\t\"ņ\": \"n\",\n\t\"Ň\": \"N\",\n\t\"ň\": \"n\",\n\t\"ŉ\": \"n\",\n\t\"N̆\": \"N\",\n\t\"n̆\": \"n\",\n\t\"Ō\": \"O\",\n\t\"ō\": \"o\",\n\t\"Ŏ\": \"O\",\n\t\"ŏ\": \"o\",\n\t\"Ő\": \"O\",\n\t\"ő\": \"o\",\n\t\"Œ\": \"OE\",\n\t\"œ\": \"oe\",\n\t\"P̆\": \"P\",\n\t\"p̆\": \"p\",\n\t\"Ŕ\": \"R\",\n\t\"ŕ\": \"r\",\n\t\"Ŗ\": \"R\",\n\t\"ŗ\": \"r\",\n\t\"Ř\": \"R\",\n\t\"ř\": \"r\",\n\t\"R̆\": \"R\",\n\t\"r̆\": \"r\",\n\t\"Ȓ\": \"R\",\n\t\"ȓ\": \"r\",\n\t\"Ś\": \"S\",\n\t\"ś\": \"s\",\n\t\"Ŝ\": \"S\",\n\t\"ŝ\": \"s\",\n\t\"Ş\": \"S\",\n\t\"Ș\": \"S\",\n\t\"ș\": \"s\",\n\t\"ş\": \"s\",\n\t\"Š\": \"S\",\n\t\"š\": \"s\",\n\t\"Ţ\": \"T\",\n\t\"ţ\": \"t\",\n\t\"ț\": \"t\",\n\t\"Ț\": \"T\",\n\t\"Ť\": \"T\",\n\t\"ť\": \"t\",\n\t\"Ŧ\": \"T\",\n\t\"ŧ\": \"t\",\n\t\"T̆\": \"T\",\n\t\"t̆\": \"t\",\n\t\"Ũ\": \"U\",\n\t\"ũ\": \"u\",\n\t\"Ū\": \"U\",\n\t\"ū\": \"u\",\n\t\"Ŭ\": \"U\",\n\t\"ŭ\": \"u\",\n\t\"Ů\": \"U\",\n\t\"ů\": \"u\",\n\t\"Ű\": \"U\",\n\t\"ű\": \"u\",\n\t\"Ų\": \"U\",\n\t\"ų\": \"u\",\n\t\"Ȗ\": \"U\",\n\t\"ȗ\": \"u\",\n\t\"V̆\": \"V\",\n\t\"v̆\": \"v\",\n\t\"Ŵ\": \"W\",\n\t\"ŵ\": \"w\",\n\t\"Ẃ\": \"W\",\n\t\"ẃ\": \"w\",\n\t\"X̆\": \"X\",\n\t\"x̆\": \"x\",\n\t\"Ŷ\": \"Y\",\n\t\"ŷ\": \"y\",\n\t\"Ÿ\": \"Y\",\n\t\"Y̆\": \"Y\",\n\t\"y̆\": \"y\",\n\t\"Ź\": \"Z\",\n\t\"ź\": \"z\",\n\t\"Ż\": \"Z\",\n\t\"ż\": \"z\",\n\t\"Ž\": \"Z\",\n\t\"ž\": \"z\",\n\t\"ſ\": \"s\",\n\t\"ƒ\": \"f\",\n\t\"Ơ\": \"O\",\n\t\"ơ\": \"o\",\n\t\"Ư\": \"U\",\n\t\"ư\": \"u\",\n\t\"Ǎ\": \"A\",\n\t\"ǎ\": \"a\",\n\t\"Ǐ\": \"I\",\n\t\"ǐ\": \"i\",\n\t\"Ǒ\": \"O\",\n\t\"ǒ\": \"o\",\n\t\"Ǔ\": \"U\",\n\t\"ǔ\": \"u\",\n\t\"Ǖ\": \"U\",\n\t\"ǖ\": \"u\",\n\t\"Ǘ\": \"U\",\n\t\"ǘ\": \"u\",\n\t\"Ǚ\": \"U\",\n\t\"ǚ\": \"u\",\n\t\"Ǜ\": \"U\",\n\t\"ǜ\": \"u\",\n\t\"Ứ\": \"U\",\n\t\"ứ\": \"u\",\n\t\"Ṹ\": \"U\",\n\t\"ṹ\": \"u\",\n\t\"Ǻ\": \"A\",\n\t\"ǻ\": \"a\",\n\t\"Ǽ\": \"AE\",\n\t\"ǽ\": \"ae\",\n\t\"Ǿ\": \"O\",\n\t\"ǿ\": \"o\",\n\t\"Þ\": \"TH\",\n\t\"þ\": \"th\",\n\t\"Ṕ\": \"P\",\n\t\"ṕ\": \"p\",\n\t\"Ṥ\": \"S\",\n\t\"ṥ\": \"s\",\n\t\"X́\": \"X\",\n\t\"x́\": \"x\",\n\t\"Ѓ\": \"Г\",\n\t\"ѓ\": \"г\",\n\t\"Ќ\": \"К\",\n\t\"ќ\": \"к\",\n\t\"A̋\": \"A\",\n\t\"a̋\": \"a\",\n\t\"E̋\": \"E\",\n\t\"e̋\": \"e\",\n\t\"I̋\": \"I\",\n\t\"i̋\": \"i\",\n\t\"Ǹ\": \"N\",\n\t\"ǹ\": \"n\",\n\t\"Ồ\": \"O\",\n\t\"ồ\": \"o\",\n\t\"Ṑ\": \"O\",\n\t\"ṑ\": \"o\",\n\t\"Ừ\": \"U\",\n\t\"ừ\": \"u\",\n\t\"Ẁ\": \"W\",\n\t\"ẁ\": \"w\",\n\t\"Ỳ\": \"Y\",\n\t\"ỳ\": \"y\",\n\t\"Ȁ\": \"A\",\n\t\"ȁ\": \"a\",\n\t\"Ȅ\": \"E\",\n\t\"ȅ\": \"e\",\n\t\"Ȉ\": \"I\",\n\t\"ȉ\": \"i\",\n\t\"Ȍ\": \"O\",\n\t\"ȍ\": \"o\",\n\t\"Ȑ\": \"R\",\n\t\"ȑ\": \"r\",\n\t\"Ȕ\": \"U\",\n\t\"ȕ\": \"u\",\n\t\"B̌\": \"B\",\n\t\"b̌\": \"b\",\n\t\"Č̣\": \"C\",\n\t\"č̣\": \"c\",\n\t\"Ê̌\": \"E\",\n\t\"ê̌\": \"e\",\n\t\"F̌\": \"F\",\n\t\"f̌\": \"f\",\n\t\"Ǧ\": \"G\",\n\t\"ǧ\": \"g\",\n\t\"Ȟ\": \"H\",\n\t\"ȟ\": \"h\",\n\t\"J̌\": \"J\",\n\t\"ǰ\": \"j\",\n\t\"Ǩ\": \"K\",\n\t\"ǩ\": \"k\",\n\t\"M̌\": \"M\",\n\t\"m̌\": \"m\",\n\t\"P̌\": \"P\",\n\t\"p̌\": \"p\",\n\t\"Q̌\": \"Q\",\n\t\"q̌\": \"q\",\n\t\"Ř̩\": \"R\",\n\t\"ř̩\": \"r\",\n\t\"Ṧ\": \"S\",\n\t\"ṧ\": \"s\",\n\t\"V̌\": \"V\",\n\t\"v̌\": \"v\",\n\t\"W̌\": \"W\",\n\t\"w̌\": \"w\",\n\t\"X̌\": \"X\",\n\t\"x̌\": \"x\",\n\t\"Y̌\": \"Y\",\n\t\"y̌\": \"y\",\n\t\"A̧\": \"A\",\n\t\"a̧\": \"a\",\n\t\"B̧\": \"B\",\n\t\"b̧\": \"b\",\n\t\"Ḑ\": \"D\",\n\t\"ḑ\": \"d\",\n\t\"Ȩ\": \"E\",\n\t\"ȩ\": \"e\",\n\t\"Ɛ̧\": \"E\",\n\t\"ɛ̧\": \"e\",\n\t\"Ḩ\": \"H\",\n\t\"ḩ\": \"h\",\n\t\"I̧\": \"I\",\n\t\"i̧\": \"i\",\n\t\"Ɨ̧\": \"I\",\n\t\"ɨ̧\": \"i\",\n\t\"M̧\": \"M\",\n\t\"m̧\": \"m\",\n\t\"O̧\": \"O\",\n\t\"o̧\": \"o\",\n\t\"Q̧\": \"Q\",\n\t\"q̧\": \"q\",\n\t\"U̧\": \"U\",\n\t\"u̧\": \"u\",\n\t\"X̧\": \"X\",\n\t\"x̧\": \"x\",\n\t\"Z̧\": \"Z\",\n\t\"z̧\": \"z\",\n\t\"й\":\"и\",\n\t\"Й\":\"И\",\n\t\"ё\":\"е\",\n\t\"Ё\":\"Е\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","/**\n * WordPress dependencies\n */\nimport { SETTINGS_DEFAULTS } from '@wordpress/block-editor';\n\n/**\n * The default post editor settings.\n *\n * @property {boolean|Array} allowedBlockTypes     Allowed block types\n * @property {boolean}       richEditingEnabled    Whether rich editing is enabled or not\n * @property {boolean}       codeEditingEnabled    Whether code editing is enabled or not\n * @property {boolean}       fontLibraryEnabled    Whether the font library is enabled or not.\n * @property {boolean}       enableCustomFields    Whether the WordPress custom fields are enabled or not.\n *                                                 true  = the user has opted to show the Custom Fields panel at the bottom of the editor.\n *                                                 false = the user has opted to hide the Custom Fields panel at the bottom of the editor.\n *                                                 undefined = the current environment does not support Custom Fields, so the option toggle in Preferences -> Panels to enable the Custom Fields panel is not displayed.\n * @property {number}        autosaveInterval      How often in seconds the post will be auto-saved via the REST API.\n * @property {number}        localAutosaveInterval How often in seconds the post will be backed up to sessionStorage.\n * @property {Array?}        availableTemplates    The available post templates\n * @property {boolean}       disablePostFormats    Whether or not the post formats are disabled\n * @property {Array?}        allowedMimeTypes      List of allowed mime types and file extensions\n * @property {number}        maxUploadFileSize     Maximum upload file size\n * @property {boolean}       supportsLayout        Whether the editor supports layouts.\n */\nexport const EDITOR_SETTINGS_DEFAULTS = {\n\t...SETTINGS_DEFAULTS,\n\n\trichEditingEnabled: true,\n\tcodeEditingEnabled: true,\n\tfontLibraryEnabled: true,\n\tenableCustomFields: undefined,\n\tdefaultRenderingMode: 'post-only',\n};\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\nimport type { Action } from '@wordpress/dataviews';\n\ntype ReduxAction =\n\t| ReturnType< typeof import('./private-actions').registerEntityAction >\n\t| ReturnType< typeof import('./private-actions').unregisterEntityAction >\n\t| ReturnType< typeof import('./private-actions').setIsReady >;\n\nexport type ActionState = Record< string, Record< string, Action< any >[] > >;\nexport type ReadyState = Record< string, Record< string, boolean > >;\nexport type State = {\n\tactions: ActionState;\n\tisReady: ReadyState;\n};\n\nfunction isReady( state: ReadyState = {}, action: ReduxAction ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_READY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: true,\n\t\t\t\t},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nfunction actions( state: ActionState = {}, action: ReduxAction ) {\n\tswitch ( action.type ) {\n\t\tcase 'REGISTER_ENTITY_ACTION':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: [\n\t\t\t\t\t\t...(\n\t\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\n\t\t\t\t\t\t).filter(\n\t\t\t\t\t\t\t( _action ) => _action.id !== action.config.id\n\t\t\t\t\t\t),\n\t\t\t\t\t\taction.config,\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\t\tcase 'UNREGISTER_ENTITY_ACTION': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t...state[ action.kind ],\n\t\t\t\t\t[ action.name ]: (\n\t\t\t\t\t\tstate[ action.kind ]?.[ action.name ] ?? []\n\t\t\t\t\t).filter( ( _action ) => _action.id !== action.actionId ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tactions,\n\tisReady,\n} );\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { EDITOR_SETTINGS_DEFAULTS } from './defaults';\nimport dataviewsReducer from '../dataviews/store/reducer';\n\n/**\n * Returns a post attribute value, flattening nested rendered content using its\n * raw value in place of its original object form.\n *\n * @param {*} value Original value.\n *\n * @return {*} Raw value.\n */\nexport function getPostRawValue( value ) {\n\tif ( value && 'object' === typeof value && 'raw' in value ) {\n\t\treturn value.raw;\n\t}\n\n\treturn value;\n}\n\n/**\n * Returns true if the two object arguments have the same keys, or false\n * otherwise.\n *\n * @param {Object} a First object.\n * @param {Object} b Second object.\n *\n * @return {boolean} Whether the two objects have the same keys.\n */\nexport function hasSameKeys( a, b ) {\n\tconst keysA = Object.keys( a ).sort();\n\tconst keysB = Object.keys( b ).sort();\n\treturn (\n\t\tkeysA.length === keysB.length &&\n\t\tkeysA.every( ( key, index ) => keysB[ index ] === key )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are editing the same post property, or\n * false otherwise.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether actions are updating the same post property.\n */\nexport function isUpdatingSamePostProperty( action, previousAction ) {\n\treturn (\n\t\taction.type === 'EDIT_POST' &&\n\t\thasSameKeys( action.edits, previousAction.edits )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are modifying the same property such that\n * undo history should be batched.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether to overwrite present state.\n */\nexport function shouldOverwriteState( action, previousAction ) {\n\tif ( action.type === 'RESET_EDITOR_BLOCKS' ) {\n\t\treturn ! action.shouldCreateUndoLevel;\n\t}\n\n\tif ( ! previousAction || action.type !== previousAction.type ) {\n\t\treturn false;\n\t}\n\n\treturn isUpdatingSamePostProperty( action, previousAction );\n}\n\nexport function postId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn action.postId;\n\t}\n\n\treturn state;\n}\n\nexport function templateId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CURRENT_TEMPLATE_ID':\n\t\t\treturn action.id;\n\t}\n\n\treturn state;\n}\n\nexport function postType( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn action.postType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the post blocks match the defined template or not.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function template( state = { isValid: true }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE_VALIDITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisValid: action.isValid,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning current network request state (whether a request to\n * the WP REST API is in progress, successful, or failed).\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function saving( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_UPDATE_START':\n\t\tcase 'REQUEST_POST_UPDATE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_UPDATE_START',\n\t\t\t\toptions: action.options || {},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning deleting post request state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deleting( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_DELETE_START':\n\t\tcase 'REQUEST_POST_DELETE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_DELETE_START',\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Post Lock State.\n *\n * @typedef {Object} PostLockState\n *\n * @property {boolean}  isLocked       Whether the post is locked.\n * @property {?boolean} isTakeover     Whether the post editing has been taken over.\n * @property {?boolean} activePostLock Active post lock value.\n * @property {?Object}  user           User that took over the post.\n */\n\n/**\n * Reducer returning the post lock status.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postLock( state = { isLocked: false }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_POST_LOCK':\n\t\t\treturn action.lock;\n\t}\n\n\treturn state;\n}\n\n/**\n * Post saving lock.\n *\n * When post saving is locked, the post cannot be published or updated.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postSavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_SAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_SAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\treturn state;\n}\n\n/**\n * Post autosaving lock.\n *\n * When post autosaving is locked, the post will not autosave.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postAutosavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_AUTOSAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_AUTOSAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\treturn state;\n}\n\n/**\n * Reducer returning the post editor setting.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editorSettings( state = EDITOR_SETTINGS_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_EDITOR_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport function renderingMode( state = 'post-only', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_RENDERING_MODE':\n\t\t\treturn action.mode;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer storing the list of all programmatically removed panels.\n *\n * @param {Array}  state  Current state.\n * @param {Object} action Action object.\n *\n * @return {Array} Updated state.\n */\nexport function removedPanels( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REMOVE_PANEL':\n\t\t\tif ( ! state.includes( action.panelName ) ) {\n\t\t\t\treturn [ ...state, action.panelName ];\n\t\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the list view panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the inserter panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the list view toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the list view toggle button.\n */\nexport function listViewToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the inserter sidebar toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the inserter sidebar toggle button.\n */\nexport function inserterSidebarToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\nexport function publishSidebarActive( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_PUBLISH_SIDEBAR':\n\t\t\treturn true;\n\t\tcase 'CLOSE_PUBLISH_SIDEBAR':\n\t\t\treturn false;\n\t\tcase 'TOGGLE_PUBLISH_SIDEBAR':\n\t\t\treturn ! state;\n\t}\n\treturn state;\n}\n\nexport default combineReducers( {\n\tpostId,\n\tpostType,\n\ttemplateId,\n\tsaving,\n\tdeleting,\n\tpostLock,\n\ttemplate,\n\tpostSavingLock,\n\teditorSettings,\n\tpostAutosavingLock,\n\trenderingMode,\n\tdeviceType,\n\tremovedPanels,\n\tblockInserterPanel,\n\tinserterSidebarToggleRef,\n\tlistViewPanel,\n\tlistViewToggleRef,\n\tpublishSidebarActive,\n\tdataviews: dataviewsReducer,\n} );\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"date\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"deprecated\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst layout = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default layout;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"preferences\"];","/**\n * Set of post properties for which edits should assume a merging behavior,\n * assuming an object value.\n *\n * @type {Set}\n */\nexport const EDIT_MERGE_PROPERTIES = new Set( [ 'meta' ] );\n\n/**\n * Constant for the store module (or reducer) key.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/editor';\n\nexport const SAVE_POST_NOTICE_ID = 'SAVE_POST_NOTICE_ID';\nexport const TRASH_POST_NOTICE_ID = 'TRASH_POST_NOTICE_ID';\nexport const PERMALINK_POSTNAME_REGEX = /%(?:postname|pagename)%/;\nexport const ONE_MINUTE_IN_MS = 60 * 1000;\nexport const AUTOSAVE_PROPERTIES = [ 'title', 'excerpt', 'content' ];\nexport const TEMPLATE_PART_AREA_DEFAULT_CATEGORY = 'uncategorized';\nexport const TEMPLATE_POST_TYPE = 'wp_template';\nexport const TEMPLATE_PART_POST_TYPE = 'wp_template_part';\nexport const PATTERN_POST_TYPE = 'wp_block';\nexport const NAVIGATION_POST_TYPE = 'wp_navigation';\nexport const TEMPLATE_ORIGINS = {\n\tcustom: 'custom',\n\ttheme: 'theme',\n\tplugin: 'plugin',\n};\nexport const TEMPLATE_POST_TYPES = [ 'wp_template', 'wp_template_part' ];\nexport const GLOBAL_POST_TYPES = [\n\t...TEMPLATE_POST_TYPES,\n\t'wp_block',\n\t'wp_navigation',\n];\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst header = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default header;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst footer = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default footer;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst sidebar = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default sidebar;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbolFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbolFilled;\n","/**\n * WordPress dependencies\n */\nimport {\n\theader as headerIcon,\n\tfooter as footerIcon,\n\tsidebar as sidebarIcon,\n\tsymbolFilled as symbolFilledIcon,\n} from '@wordpress/icons';\n/**\n * Helper function to retrieve the corresponding icon by name.\n *\n * @param {string} iconName The name of the icon.\n *\n * @return {Object} The corresponding icon.\n */\nexport function getTemplatePartIcon( iconName ) {\n\tif ( 'header' === iconName ) {\n\t\treturn headerIcon;\n\t} else if ( 'footer' === iconName ) {\n\t\treturn footerIcon;\n\t} else if ( 'sidebar' === iconName ) {\n\t\treturn sidebarIcon;\n\t}\n\treturn symbolFilledIcon;\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tgetFreeformContentHandlerName,\n\tgetDefaultBlockName,\n\t__unstableSerializeAndClean,\n\tparse,\n} from '@wordpress/blocks';\nimport { isInTheFuture, getDate } from '@wordpress/date';\nimport { addQueryArgs, cleanForSlug } from '@wordpress/url';\nimport { createSelector, createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { Platform } from '@wordpress/element';\nimport { layout } from '@wordpress/icons';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tEDIT_MERGE_PROPERTIES,\n\tPERMALINK_POSTNAME_REGEX,\n\tONE_MINUTE_IN_MS,\n\tAUTOSAVE_PROPERTIES,\n} from './constants';\nimport { getPostRawValue } from './reducer';\nimport { getTemplatePartIcon } from '../utils/get-template-part-icon';\n\n/**\n * Shared reference to an empty object for cases where it is important to avoid\n * returning a new object reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n */\nconst EMPTY_OBJECT = {};\n\n/**\n * Returns true if any past editor history snapshots exist, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether undo history exists.\n */\nexport const hasEditorUndo = createRegistrySelector( ( select ) => () => {\n\treturn select( coreStore ).hasUndo();\n} );\n\n/**\n * Returns true if any future editor history snapshots exist, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether redo history exists.\n */\nexport const hasEditorRedo = createRegistrySelector( ( select ) => () => {\n\treturn select( coreStore ).hasRedo();\n} );\n\n/**\n * Returns true if the currently edited post is yet to be saved, or false if\n * the post has been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is new.\n */\nexport function isEditedPostNew( state ) {\n\treturn getCurrentPost( state ).status === 'auto-draft';\n}\n\n/**\n * Returns true if content includes unsaved changes, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether content includes unsaved changes.\n */\nexport function hasChangedContent( state ) {\n\tconst edits = getPostEdits( state );\n\treturn 'content' in edits;\n}\n\n/**\n * Returns true if there are unsaved values for the current edit session, or\n * false if the editing state matches the saved or new post.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether unsaved values exist.\n */\nexport const isEditedPostDirty = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// Edits should contain only fields which differ from the saved post (reset\n\t\t// at initial load and save complete). Thus, a non-empty edits state can be\n\t\t// inferred to contain unsaved values.\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn select( coreStore ).hasEditsForEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if there are unsaved edits for entities other than\n * the editor's post, and false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether there are edits or not.\n */\nexport const hasNonPostEntityChanges = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst dirtyEntityRecords =\n\t\t\tselect( coreStore ).__experimentalGetDirtyEntityRecords();\n\t\tconst { type, id } = getCurrentPost( state );\n\t\treturn dirtyEntityRecords.some(\n\t\t\t( entityRecord ) =>\n\t\t\t\tentityRecord.kind !== 'postType' ||\n\t\t\t\tentityRecord.name !== type ||\n\t\t\t\tentityRecord.key !== id\n\t\t);\n\t}\n);\n\n/**\n * Returns true if there are no unsaved values for the current edit session and\n * if the currently edited post is new (has never been saved before).\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether new post and unsaved values exist.\n */\nexport function isCleanNewPost( state ) {\n\treturn ! isEditedPostDirty( state ) && isEditedPostNew( state );\n}\n\n/**\n * Returns the post currently being edited in its last known saved state, not\n * including unsaved edits. Returns an object containing relevant default post\n * values if the post has not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Post object.\n */\nexport const getCurrentPost = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\n\t\tconst post = select( coreStore ).getRawEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( post ) {\n\t\t\treturn post;\n\t\t}\n\n\t\t// This exists for compatibility with the previous selector behavior\n\t\t// which would guarantee an object return based on the editor reducer's\n\t\t// default empty object state.\n\t\treturn EMPTY_OBJECT;\n\t}\n);\n\n/**\n * Returns the post type of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post type.\n */\nexport function getCurrentPostType( state ) {\n\treturn state.postType;\n}\n\n/**\n * Returns the ID of the post currently being edited, or null if the post has\n * not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of current post.\n */\nexport function getCurrentPostId( state ) {\n\treturn state.postId;\n}\n\n/**\n * Returns the template ID currently being rendered/edited\n *\n * @param {Object} state Global application state.\n *\n * @return {string?} Template ID.\n */\nexport function getCurrentTemplateId( state ) {\n\treturn state.templateId;\n}\n\n/**\n * Returns the number of revisions of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {number} Number of revisions.\n */\nexport function getCurrentPostRevisionsCount( state ) {\n\treturn (\n\t\tgetCurrentPost( state )._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0\n\t);\n}\n\n/**\n * Returns the last revision ID of the post currently being edited,\n * or null if the post has no revisions.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of the last revision.\n */\nexport function getCurrentPostLastRevisionId( state ) {\n\treturn (\n\t\tgetCurrentPost( state )._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ??\n\t\tnull\n\t);\n}\n\n/**\n * Returns any post values which have been changed in the editor but not yet\n * been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Object of key value pairs comprising unsaved edits.\n */\nexport const getPostEdits = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\treturn (\n\t\tselect( coreStore ).getEntityRecordEdits(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t) || EMPTY_OBJECT\n\t);\n} );\n\n/**\n * Returns an attribute value of the saved post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getCurrentPostAttribute( state, attributeName ) {\n\tswitch ( attributeName ) {\n\t\tcase 'type':\n\t\t\treturn getCurrentPostType( state );\n\n\t\tcase 'id':\n\t\t\treturn getCurrentPostId( state );\n\n\t\tdefault:\n\t\t\tconst post = getCurrentPost( state );\n\t\t\tif ( ! post.hasOwnProperty( attributeName ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn getPostRawValue( post[ attributeName ] );\n\t}\n}\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but merging with the attribute value for the last known\n * saved state of the post (this is needed for some nested attributes like meta).\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nconst getNestedEditedPostProperty = createSelector(\n\t( state, attributeName ) => {\n\t\tconst edits = getPostEdits( state );\n\t\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\t\treturn getCurrentPostAttribute( state, attributeName );\n\t\t}\n\n\t\treturn {\n\t\t\t...getCurrentPostAttribute( state, attributeName ),\n\t\t\t...edits[ attributeName ],\n\t\t};\n\t},\n\t( state, attributeName ) => [\n\t\tgetCurrentPostAttribute( state, attributeName ),\n\t\tgetPostEdits( state )[ attributeName ],\n\t]\n);\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but falling back to the attribute for the last known\n * saved state of the post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getEditedPostAttribute( state, attributeName ) {\n\t// Special cases.\n\tswitch ( attributeName ) {\n\t\tcase 'content':\n\t\t\treturn getEditedPostContent( state );\n\t}\n\n\t// Fall back to saved post value if not edited.\n\tconst edits = getPostEdits( state );\n\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\treturn getCurrentPostAttribute( state, attributeName );\n\t}\n\n\t// Merge properties are objects which contain only the patch edit in state,\n\t// and thus must be merged with the current post attribute.\n\tif ( EDIT_MERGE_PROPERTIES.has( attributeName ) ) {\n\t\treturn getNestedEditedPostProperty( state, attributeName );\n\t}\n\n\treturn edits[ attributeName ];\n}\n\n/**\n * Returns an attribute value of the current autosave revision for a post, or\n * null if there is no autosave for the post.\n *\n * @deprecated since 5.6. Callers should use the `getAutosave( postType, postId, userId )` selector\n * \t\t\t   from the '@wordpress/core-data' package and access properties on the returned\n * \t\t\t   autosave object using getPostRawValue.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Autosave attribute name.\n *\n * @return {*} Autosave attribute value.\n */\nexport const getAutosaveAttribute = createRegistrySelector(\n\t( select ) => ( state, attributeName ) => {\n\t\tif (\n\t\t\t! AUTOSAVE_PROPERTIES.includes( attributeName ) &&\n\t\t\tattributeName !== 'preview_link'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst postType = getCurrentPostType( state );\n\n\t\t// Currently template autosaving is not supported.\n\t\tif ( postType === 'wp_template' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst currentUserId = select( coreStore ).getCurrentUser()?.id;\n\t\tconst autosave = select( coreStore ).getAutosave(\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\tcurrentUserId\n\t\t);\n\n\t\tif ( autosave ) {\n\t\t\treturn getPostRawValue( autosave[ attributeName ] );\n\t\t}\n\t}\n);\n\n/**\n * Returns the current visibility of the post being edited, preferring the\n * unsaved value if different than the saved post. The return value is one of\n * \"private\", \"password\", or \"public\".\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post visibility.\n */\nexport function getEditedPostVisibility( state ) {\n\tconst status = getEditedPostAttribute( state, 'status' );\n\tif ( status === 'private' ) {\n\t\treturn 'private';\n\t}\n\n\tconst password = getEditedPostAttribute( state, 'password' );\n\tif ( password ) {\n\t\treturn 'password';\n\t}\n\n\treturn 'public';\n}\n\n/**\n * Returns true if post is pending review.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is pending review.\n */\nexport function isCurrentPostPending( state ) {\n\treturn getCurrentPost( state ).status === 'pending';\n}\n\n/**\n * Return true if the current post has already been published.\n *\n * @param {Object}  state       Global application state.\n * @param {Object?} currentPost Explicit current post for bypassing registry selector.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isCurrentPostPublished( state, currentPost ) {\n\tconst post = currentPost || getCurrentPost( state );\n\n\treturn (\n\t\t[ 'publish', 'private' ].indexOf( post.status ) !== -1 ||\n\t\t( post.status === 'future' &&\n\t\t\t! isInTheFuture(\n\t\t\t\tnew Date( Number( getDate( post.date ) ) - ONE_MINUTE_IN_MS )\n\t\t\t) )\n\t);\n}\n\n/**\n * Returns true if post is already scheduled.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is scheduled to be posted.\n */\nexport function isCurrentPostScheduled( state ) {\n\treturn (\n\t\tgetCurrentPost( state ).status === 'future' &&\n\t\t! isCurrentPostPublished( state )\n\t);\n}\n\n/**\n * Return true if the post being edited can be published.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can been published.\n */\nexport function isEditedPostPublishable( state ) {\n\tconst post = getCurrentPost( state );\n\n\t// TODO: Post being publishable should be superset of condition of post\n\t// being saveable. Currently this restriction is imposed at UI.\n\t//\n\t//  See: <PostPublishButton /> (`isButtonEnabled` assigned by `isSaveable`).\n\n\treturn (\n\t\tisEditedPostDirty( state ) ||\n\t\t[ 'publish', 'private', 'future' ].indexOf( post.status ) === -1\n\t);\n}\n\n/**\n * Returns true if the post can be saved, or false otherwise. A post must\n * contain a title, an excerpt, or non-empty content to be valid for save.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can be saved.\n */\nexport function isEditedPostSaveable( state ) {\n\tif ( isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\n\t// TODO: Post should not be saveable if not dirty. Cannot be added here at\n\t// this time since posts where meta boxes are present can be saved even if\n\t// the post is not dirty. Currently this restriction is imposed at UI, but\n\t// should be moved here.\n\t//\n\t//  See: `isEditedPostPublishable` (includes `isEditedPostDirty` condition)\n\t//  See: <PostSavedState /> (`forceIsDirty` prop)\n\t//  See: <PostPublishButton /> (`forceIsDirty` prop)\n\t//  See: https://github.com/WordPress/gutenberg/pull/4184.\n\n\treturn (\n\t\t!! getEditedPostAttribute( state, 'title' ) ||\n\t\t!! getEditedPostAttribute( state, 'excerpt' ) ||\n\t\t! isEditedPostEmpty( state ) ||\n\t\tPlatform.OS === 'native'\n\t);\n}\n\n/**\n * Returns true if the edited post has content. A post has content if it has at\n * least one saveable block or otherwise has a non-empty content property\n * assigned.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post has content.\n */\nexport const isEditedPostEmpty = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// While the condition of truthy content string is sufficient to determine\n\t\t// emptiness, testing saveable blocks length is a trivial operation. Since\n\t\t// this function can be called frequently, optimize for the fast case as a\n\t\t// condition of the mere existence of blocks. Note that the value of edited\n\t\t// content takes precedent over block content, and must fall through to the\n\t\t// default logic.\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst record = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( typeof record.content !== 'function' ) {\n\t\t\treturn ! record.content;\n\t\t}\n\n\t\tconst blocks = getEditedPostAttribute( state, 'blocks' );\n\n\t\tif ( blocks.length === 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Pierce the abstraction of the serializer in knowing that blocks are\n\t\t// joined with newlines such that even if every individual block\n\t\t// produces an empty save result, the serialized content is non-empty.\n\t\tif ( blocks.length > 1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// There are two conditions under which the optimization cannot be\n\t\t// assumed, and a fallthrough to getEditedPostContent must occur:\n\t\t//\n\t\t// 1. getBlocksForSerialization has special treatment in omitting a\n\t\t//    single unmodified default block.\n\t\t// 2. Comment delimiters are omitted for a freeform or unregistered\n\t\t//    block in its serialization. The freeform block specifically may\n\t\t//    produce an empty string in its saved output.\n\t\t//\n\t\t// For all other content, the single block is assumed to make a post\n\t\t// non-empty, if only by virtue of its own comment delimiters.\n\t\tconst blockName = blocks[ 0 ].name;\n\t\tif (\n\t\t\tblockName !== getDefaultBlockName() &&\n\t\t\tblockName !== getFreeformContentHandlerName()\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! getEditedPostContent( state );\n\t}\n);\n\n/**\n * Returns true if the post can be autosaved, or false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {Object} autosave A raw autosave object from the REST API.\n *\n * @return {boolean} Whether the post can be autosaved.\n */\nexport const isEditedPostAutosaveable = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// A post must contain a title, an excerpt, or non-empty content to be valid for autosaving.\n\t\tif ( ! isEditedPostSaveable( state ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// A post is not autosavable when there is a post autosave lock.\n\t\tif ( isPostAutosavingLocked( state ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postType = getCurrentPostType( state );\n\n\t\t// Currently template autosaving is not supported.\n\t\tif ( postType === 'wp_template' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst hasFetchedAutosave = select( coreStore ).hasFetchedAutosaves(\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tconst currentUserId = select( coreStore ).getCurrentUser()?.id;\n\n\t\t// Disable reason - this line causes the side-effect of fetching the autosave\n\t\t// via a resolver, moving below the return would result in the autosave never\n\t\t// being fetched.\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\t\tconst autosave = select( coreStore ).getAutosave(\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\tcurrentUserId\n\t\t);\n\n\t\t// If any existing autosaves have not yet been fetched, this function is\n\t\t// unable to determine if the post is autosaveable, so return false.\n\t\tif ( ! hasFetchedAutosave ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If we don't already have an autosave, the post is autosaveable.\n\t\tif ( ! autosave ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// To avoid an expensive content serialization, use the content dirtiness\n\t\t// flag in place of content field comparison against the known autosave.\n\t\t// This is not strictly accurate, and relies on a tolerance toward autosave\n\t\t// request failures for unnecessary saves.\n\t\tif ( hasChangedContent( state ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If title, excerpt, or meta have changed, the post is autosaveable.\n\t\treturn [ 'title', 'excerpt', 'meta' ].some(\n\t\t\t( field ) =>\n\t\t\t\tgetPostRawValue( autosave[ field ] ) !==\n\t\t\t\tgetEditedPostAttribute( state, field )\n\t\t);\n\t}\n);\n\n/**\n * Return true if the post being edited is being scheduled. Preferring the\n * unsaved status values.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isEditedPostBeingScheduled( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\t// Offset the date by one minute (network latency).\n\tconst checkedDate = new Date(\n\t\tNumber( getDate( date ) ) - ONE_MINUTE_IN_MS\n\t);\n\n\treturn isInTheFuture( checkedDate );\n}\n\n/**\n * Returns whether the current post should be considered to have a \"floating\"\n * date (i.e. that it would publish \"Immediately\" rather than at a set time).\n *\n * Unlike in the PHP backend, the REST API returns a full date string for posts\n * where the 0000-00-00T00:00:00 placeholder is present in the database. To\n * infer that a post is set to publish \"Immediately\" we check whether the date\n * and modified date are the same.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the edited post has a floating date value.\n */\nexport function isEditedPostDateFloating( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\tconst modified = getEditedPostAttribute( state, 'modified' );\n\n\t// This should be the status of the persisted post\n\t// It shouldn't use the \"edited\" status otherwise it breaks the\n\t// inferred post data floating status\n\t// See https://github.com/WordPress/gutenberg/issues/28083.\n\tconst status = getCurrentPost( state ).status;\n\tif (\n\t\tstatus === 'draft' ||\n\t\tstatus === 'auto-draft' ||\n\t\tstatus === 'pending'\n\t) {\n\t\treturn date === modified || date === null;\n\t}\n\treturn false;\n}\n\n/**\n * Returns true if the post is currently being deleted, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether post is being deleted.\n */\nexport function isDeletingPost( state ) {\n\treturn !! state.deleting.pending;\n}\n\n/**\n * Returns true if the post is currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being saved.\n */\nexport function isSavingPost( state ) {\n\treturn !! state.saving.pending;\n}\n\n/**\n * Returns true if non-post entities are currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether non-post entities are being saved.\n */\nexport const isSavingNonPostEntityChanges = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst entitiesBeingSaved =\n\t\t\tselect( coreStore ).__experimentalGetEntitiesBeingSaved();\n\t\tconst { type, id } = getCurrentPost( state );\n\t\treturn entitiesBeingSaved.some(\n\t\t\t( entityRecord ) =>\n\t\t\t\tentityRecord.kind !== 'postType' ||\n\t\t\t\tentityRecord.name !== type ||\n\t\t\t\tentityRecord.key !== id\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted successfully, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post was saved successfully.\n */\nexport const didPostSaveRequestSucceed = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn ! select( coreStore ).getLastEntitySaveError(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted but failed, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post save failed.\n */\nexport const didPostSaveRequestFail = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn !! select( coreStore ).getLastEntitySaveError(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the post is autosaving, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is autosaving.\n */\nexport function isAutosavingPost( state ) {\n\treturn isSavingPost( state ) && Boolean( state.saving.options?.isAutosave );\n}\n\n/**\n * Returns true if the post is being previewed, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is being previewed.\n */\nexport function isPreviewingPost( state ) {\n\treturn isSavingPost( state ) && Boolean( state.saving.options?.isPreview );\n}\n\n/**\n * Returns the post preview link\n *\n * @param {Object} state Global application state.\n *\n * @return {string | undefined} Preview Link.\n */\nexport function getEditedPostPreviewLink( state ) {\n\tif ( state.saving.pending || isSavingPost( state ) ) {\n\t\treturn;\n\t}\n\n\tlet previewLink = getAutosaveAttribute( state, 'preview_link' );\n\t// Fix for issue: https://github.com/WordPress/gutenberg/issues/33616\n\t// If the post is draft, ignore the preview link from the autosave record,\n\t// because the preview could be a stale autosave if the post was switched from\n\t// published to draft.\n\t// See: https://github.com/WordPress/gutenberg/pull/37952.\n\tif ( ! previewLink || 'draft' === getCurrentPost( state ).status ) {\n\t\tpreviewLink = getEditedPostAttribute( state, 'link' );\n\t\tif ( previewLink ) {\n\t\t\tpreviewLink = addQueryArgs( previewLink, { preview: true } );\n\t\t}\n\t}\n\tconst featuredImageId = getEditedPostAttribute( state, 'featured_media' );\n\n\tif ( previewLink && featuredImageId ) {\n\t\treturn addQueryArgs( previewLink, { _thumbnail_id: featuredImageId } );\n\t}\n\n\treturn previewLink;\n}\n\n/**\n * Returns a suggested post format for the current post, inferred only if there\n * is a single block within the post and it is of a type known to match a\n * default post format. Returns null if the format cannot be determined.\n *\n * @return {?string} Suggested post format.\n */\nexport const getSuggestedPostFormat = createRegistrySelector(\n\t( select ) => () => {\n\t\tconst blocks = select( blockEditorStore ).getBlocks();\n\n\t\tif ( blocks.length > 2 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet name;\n\t\t// If there is only one block in the content of the post grab its name\n\t\t// so we can derive a suitable post format from it.\n\t\tif ( blocks.length === 1 ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t\t// Check for core/embed `video` and `audio` eligible suggestions.\n\t\t\tif ( name === 'core/embed' ) {\n\t\t\t\tconst provider = blocks[ 0 ].attributes?.providerNameSlug;\n\t\t\t\tif ( [ 'youtube', 'vimeo' ].includes( provider ) ) {\n\t\t\t\t\tname = 'core/video';\n\t\t\t\t} else if ( [ 'spotify', 'soundcloud' ].includes( provider ) ) {\n\t\t\t\t\tname = 'core/audio';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If there are two blocks in the content and the last one is a text blocks\n\t\t// grab the name of the first one to also suggest a post format from it.\n\t\tif ( blocks.length === 2 && blocks[ 1 ].name === 'core/paragraph' ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t}\n\n\t\t// We only convert to default post formats in core.\n\t\tswitch ( name ) {\n\t\t\tcase 'core/image':\n\t\t\t\treturn 'image';\n\t\t\tcase 'core/quote':\n\t\t\tcase 'core/pullquote':\n\t\t\t\treturn 'quote';\n\t\t\tcase 'core/gallery':\n\t\t\t\treturn 'gallery';\n\t\t\tcase 'core/video':\n\t\t\t\treturn 'video';\n\t\t\tcase 'core/audio':\n\t\t\t\treturn 'audio';\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n);\n\n/**\n * Returns the content of the post being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post content.\n */\nexport const getEditedPostContent = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst record = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( record ) {\n\t\t\tif ( typeof record.content === 'function' ) {\n\t\t\t\treturn record.content( record );\n\t\t\t} else if ( record.blocks ) {\n\t\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t\t} else if ( record.content ) {\n\t\t\t\treturn record.content;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n);\n\n/**\n * Returns true if the post is being published, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being published.\n */\nexport function isPublishingPost( state ) {\n\treturn (\n\t\tisSavingPost( state ) &&\n\t\t! isCurrentPostPublished( state ) &&\n\t\tgetEditedPostAttribute( state, 'status' ) === 'publish'\n\t);\n}\n\n/**\n * Returns whether the permalink is editable or not.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether or not the permalink is editable.\n */\nexport function isPermalinkEditable( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute(\n\t\tstate,\n\t\t'permalink_template'\n\t);\n\n\treturn PERMALINK_POSTNAME_REGEX.test( permalinkTemplate );\n}\n\n/**\n * Returns the permalink for the post.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} The permalink, or null if the post is not viewable.\n */\nexport function getPermalink( state ) {\n\tconst permalinkParts = getPermalinkParts( state );\n\tif ( ! permalinkParts ) {\n\t\treturn null;\n\t}\n\n\tconst { prefix, postName, suffix } = permalinkParts;\n\n\tif ( isPermalinkEditable( state ) ) {\n\t\treturn prefix + postName + suffix;\n\t}\n\n\treturn prefix;\n}\n\n/**\n * Returns the slug for the post being edited, preferring a manually edited\n * value if one exists, then a sanitized version of the current post title, and\n * finally the post ID.\n *\n * @param {Object} state Editor state.\n *\n * @return {string} The current slug to be displayed in the editor\n */\nexport function getEditedPostSlug( state ) {\n\treturn (\n\t\tgetEditedPostAttribute( state, 'slug' ) ||\n\t\tcleanForSlug( getEditedPostAttribute( state, 'title' ) ) ||\n\t\tgetCurrentPostId( state )\n\t);\n}\n\n/**\n * Returns the permalink for a post, split into its three parts: the prefix,\n * the postName, and the suffix.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} An object containing the prefix, postName, and suffix for\n *                  the permalink, or null if the post is not viewable.\n */\nexport function getPermalinkParts( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute(\n\t\tstate,\n\t\t'permalink_template'\n\t);\n\tif ( ! permalinkTemplate ) {\n\t\treturn null;\n\t}\n\n\tconst postName =\n\t\tgetEditedPostAttribute( state, 'slug' ) ||\n\t\tgetEditedPostAttribute( state, 'generated_slug' );\n\n\tconst [ prefix, suffix ] = permalinkTemplate.split(\n\t\tPERMALINK_POSTNAME_REGEX\n\t);\n\n\treturn {\n\t\tprefix,\n\t\tpostName,\n\t\tsuffix,\n\t};\n}\n\n/**\n * Returns whether the post is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostLocked( state ) {\n\treturn state.postLock.isLocked;\n}\n\n/**\n * Returns whether post saving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostSavingLocked( state ) {\n\treturn Object.keys( state.postSavingLock ).length > 0;\n}\n\n/**\n * Returns whether post autosaving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostAutosavingLocked( state ) {\n\treturn Object.keys( state.postAutosavingLock ).length > 0;\n}\n\n/**\n * Returns whether the edition of the post has been taken over.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is post lock takeover.\n */\nexport function isPostLockTakeover( state ) {\n\treturn state.postLock.isTakeover;\n}\n\n/**\n * Returns details about the post lock user.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} A user object.\n */\nexport function getPostLockUser( state ) {\n\treturn state.postLock.user;\n}\n\n/**\n * Returns the active post lock.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The lock object.\n */\nexport function getActivePostLock( state ) {\n\treturn state.postLock.activePostLock;\n}\n\n/**\n * Returns whether or not the user has the unfiltered_html capability.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the user can or can't post unfiltered HTML.\n */\nexport function canUserUseUnfilteredHTML( state ) {\n\treturn Boolean(\n\t\tgetCurrentPost( state )._links?.hasOwnProperty(\n\t\t\t'wp:action-unfiltered-html'\n\t\t)\n\t);\n}\n\n/**\n * Returns whether the pre-publish panel should be shown\n * or skipped when the user clicks the \"publish\" button.\n *\n * @return {boolean} Whether the pre-publish panel should be shown or not.\n */\nexport const isPublishSidebarEnabled = createRegistrySelector(\n\t( select ) => () =>\n\t\t!! select( preferencesStore ).get( 'core', 'isPublishSidebarEnabled' )\n);\n\n/**\n * Return the current block list.\n *\n * @param {Object} state\n * @return {Array} Block list.\n */\nexport const getEditorBlocks = createSelector(\n\t( state ) => {\n\t\treturn (\n\t\t\tgetEditedPostAttribute( state, 'blocks' ) ||\n\t\t\tparse( getEditedPostContent( state ) )\n\t\t);\n\t},\n\t( state ) => [\n\t\tgetEditedPostAttribute( state, 'blocks' ),\n\t\tgetEditedPostContent( state ),\n\t]\n);\n\n/**\n * Returns true if the given panel was programmatically removed, or false otherwise.\n * All panels are not removed by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is removed.\n */\nexport function isEditorPanelRemoved( state, panelName ) {\n\treturn state.removedPanels.includes( panelName );\n}\n\n/**\n * Returns true if the given panel is enabled, or false otherwise. Panels are\n * enabled by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is enabled.\n */\nexport const isEditorPanelEnabled = createRegistrySelector(\n\t( select ) => ( state, panelName ) => {\n\t\t// For backward compatibility, we check edit-post\n\t\t// even though now this is in \"editor\" package.\n\t\tconst inactivePanels = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'inactivePanels'\n\t\t);\n\t\treturn (\n\t\t\t! isEditorPanelRemoved( state, panelName ) &&\n\t\t\t! inactivePanels?.includes( panelName )\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the given panel is open, or false otherwise. Panels are\n * closed by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is open.\n */\nexport const isEditorPanelOpened = createRegistrySelector(\n\t( select ) => ( state, panelName ) => {\n\t\t// For backward compatibility, we check edit-post\n\t\t// even though now this is in \"editor\" package.\n\t\tconst openPanels = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'openPanels'\n\t\t);\n\t\treturn !! openPanels?.includes( panelName );\n\t}\n);\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n/**\n * Returns the current selection start.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection start.\n *\n * @deprecated since Gutenberg 10.0.0.\n */\nexport function getEditorSelectionStart( state ) {\n\tdeprecated( \"select('core/editor').getEditorSelectionStart\", {\n\t\tsince: '5.8',\n\t\talternative: \"select('core/editor').getEditorSelection\",\n\t} );\n\treturn getEditedPostAttribute( state, 'selection' )?.selectionStart;\n}\n\n/**\n * Returns the current selection end.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection end.\n *\n * @deprecated since Gutenberg 10.0.0.\n */\nexport function getEditorSelectionEnd( state ) {\n\tdeprecated( \"select('core/editor').getEditorSelectionStart\", {\n\t\tsince: '5.8',\n\t\talternative: \"select('core/editor').getEditorSelection\",\n\t} );\n\treturn getEditedPostAttribute( state, 'selection' )?.selectionEnd;\n}\n\n/**\n * Returns the current selection.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection end.\n */\nexport function getEditorSelection( state ) {\n\treturn getEditedPostAttribute( state, 'selection' );\n}\n\n/**\n * Is the editor ready\n *\n * @param {Object} state\n * @return {boolean} is Ready.\n */\nexport function __unstableIsEditorReady( state ) {\n\treturn !! state.postId;\n}\n\n/**\n * Returns the post editor settings.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} The editor settings object.\n */\nexport function getEditorSettings( state ) {\n\treturn state.editorSettings;\n}\n\n/**\n * Returns the post editor's rendering mode.\n *\n * @param {Object} state Editor state.\n *\n * @return {string} Rendering mode.\n */\nexport function getRenderingMode( state ) {\n\treturn state.renderingMode;\n}\n\n/**\n * Returns the current editing canvas device type.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport const getDeviceType = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst editorMode = select( blockEditorStore ).__unstableGetEditorMode();\n\t\tif ( editorMode === 'zoom-out' ) {\n\t\t\treturn 'Desktop';\n\t\t}\n\t\treturn state.deviceType;\n\t}\n);\n\n/**\n * Returns true if the list view is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the list view is opened.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/**\n * Returns the current editing mode.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Editing mode.\n */\nexport const getEditorMode = createRegistrySelector(\n\t( select ) => () =>\n\t\tselect( preferencesStore ).get( 'core', 'editorMode' ) ?? 'visual'\n);\n\n/*\n * Backward compatibility\n */\n\n/**\n * Returns state object prior to a specified optimist transaction ID, or `null`\n * if the transaction corresponding to the given ID cannot be found.\n *\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function getStateBeforeOptimisticTransaction() {\n\tdeprecated( \"select('core/editor').getStateBeforeOptimisticTransaction\", {\n\t\tsince: '5.7',\n\t\thint: 'No state history is kept on this store anymore',\n\t} );\n\n\treturn null;\n}\n/**\n * Returns true if an optimistic transaction is pending commit, for which the\n * before state satisfies the given predicate function.\n *\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function inSomeHistory() {\n\tdeprecated( \"select('core/editor').inSomeHistory\", {\n\t\tsince: '5.7',\n\t\thint: 'No state history is kept on this store anymore',\n\t} );\n\treturn false;\n}\n\nfunction getBlockEditorSelector( name ) {\n\treturn createRegistrySelector( ( select ) => ( state, ...args ) => {\n\t\tdeprecated( \"`wp.data.select( 'core/editor' ).\" + name + '`', {\n\t\t\tsince: '5.3',\n\t\t\talternative: \"`wp.data.select( 'core/block-editor' ).\" + name + '`',\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn select( blockEditorStore )[ name ]( ...args );\n\t} );\n}\n\n/**\n * @see getBlockName in core/block-editor store.\n */\nexport const getBlockName = getBlockEditorSelector( 'getBlockName' );\n\n/**\n * @see isBlockValid in core/block-editor store.\n */\nexport const isBlockValid = getBlockEditorSelector( 'isBlockValid' );\n\n/**\n * @see getBlockAttributes in core/block-editor store.\n */\nexport const getBlockAttributes =\n\tgetBlockEditorSelector( 'getBlockAttributes' );\n\n/**\n * @see getBlock in core/block-editor store.\n */\nexport const getBlock = getBlockEditorSelector( 'getBlock' );\n\n/**\n * @see getBlocks in core/block-editor store.\n */\nexport const getBlocks = getBlockEditorSelector( 'getBlocks' );\n\n/**\n * @see getClientIdsOfDescendants in core/block-editor store.\n */\nexport const getClientIdsOfDescendants = getBlockEditorSelector(\n\t'getClientIdsOfDescendants'\n);\n\n/**\n * @see getClientIdsWithDescendants in core/block-editor store.\n */\nexport const getClientIdsWithDescendants = getBlockEditorSelector(\n\t'getClientIdsWithDescendants'\n);\n\n/**\n * @see getGlobalBlockCount in core/block-editor store.\n */\nexport const getGlobalBlockCount = getBlockEditorSelector(\n\t'getGlobalBlockCount'\n);\n\n/**\n * @see getBlocksByClientId in core/block-editor store.\n */\nexport const getBlocksByClientId = getBlockEditorSelector(\n\t'getBlocksByClientId'\n);\n\n/**\n * @see getBlockCount in core/block-editor store.\n */\nexport const getBlockCount = getBlockEditorSelector( 'getBlockCount' );\n\n/**\n * @see getBlockSelectionStart in core/block-editor store.\n */\nexport const getBlockSelectionStart = getBlockEditorSelector(\n\t'getBlockSelectionStart'\n);\n\n/**\n * @see getBlockSelectionEnd in core/block-editor store.\n */\nexport const getBlockSelectionEnd = getBlockEditorSelector(\n\t'getBlockSelectionEnd'\n);\n\n/**\n * @see getSelectedBlockCount in core/block-editor store.\n */\nexport const getSelectedBlockCount = getBlockEditorSelector(\n\t'getSelectedBlockCount'\n);\n\n/**\n * @see hasSelectedBlock in core/block-editor store.\n */\nexport const hasSelectedBlock = getBlockEditorSelector( 'hasSelectedBlock' );\n\n/**\n * @see getSelectedBlockClientId in core/block-editor store.\n */\nexport const getSelectedBlockClientId = getBlockEditorSelector(\n\t'getSelectedBlockClientId'\n);\n\n/**\n * @see getSelectedBlock in core/block-editor store.\n */\nexport const getSelectedBlock = getBlockEditorSelector( 'getSelectedBlock' );\n\n/**\n * @see getBlockRootClientId in core/block-editor store.\n */\nexport const getBlockRootClientId = getBlockEditorSelector(\n\t'getBlockRootClientId'\n);\n\n/**\n * @see getBlockHierarchyRootClientId in core/block-editor store.\n */\nexport const getBlockHierarchyRootClientId = getBlockEditorSelector(\n\t'getBlockHierarchyRootClientId'\n);\n\n/**\n * @see getAdjacentBlockClientId in core/block-editor store.\n */\nexport const getAdjacentBlockClientId = getBlockEditorSelector(\n\t'getAdjacentBlockClientId'\n);\n\n/**\n * @see getPreviousBlockClientId in core/block-editor store.\n */\nexport const getPreviousBlockClientId = getBlockEditorSelector(\n\t'getPreviousBlockClientId'\n);\n\n/**\n * @see getNextBlockClientId in core/block-editor store.\n */\nexport const getNextBlockClientId = getBlockEditorSelector(\n\t'getNextBlockClientId'\n);\n\n/**\n * @see getSelectedBlocksInitialCaretPosition in core/block-editor store.\n */\nexport const getSelectedBlocksInitialCaretPosition = getBlockEditorSelector(\n\t'getSelectedBlocksInitialCaretPosition'\n);\n\n/**\n * @see getMultiSelectedBlockClientIds in core/block-editor store.\n */\nexport const getMultiSelectedBlockClientIds = getBlockEditorSelector(\n\t'getMultiSelectedBlockClientIds'\n);\n\n/**\n * @see getMultiSelectedBlocks in core/block-editor store.\n */\nexport const getMultiSelectedBlocks = getBlockEditorSelector(\n\t'getMultiSelectedBlocks'\n);\n\n/**\n * @see getFirstMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getFirstMultiSelectedBlockClientId = getBlockEditorSelector(\n\t'getFirstMultiSelectedBlockClientId'\n);\n\n/**\n * @see getLastMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getLastMultiSelectedBlockClientId = getBlockEditorSelector(\n\t'getLastMultiSelectedBlockClientId'\n);\n\n/**\n * @see isFirstMultiSelectedBlock in core/block-editor store.\n */\nexport const isFirstMultiSelectedBlock = getBlockEditorSelector(\n\t'isFirstMultiSelectedBlock'\n);\n\n/**\n * @see isBlockMultiSelected in core/block-editor store.\n */\nexport const isBlockMultiSelected = getBlockEditorSelector(\n\t'isBlockMultiSelected'\n);\n\n/**\n * @see isAncestorMultiSelected in core/block-editor store.\n */\nexport const isAncestorMultiSelected = getBlockEditorSelector(\n\t'isAncestorMultiSelected'\n);\n\n/**\n * @see getMultiSelectedBlocksStartClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksStartClientId = getBlockEditorSelector(\n\t'getMultiSelectedBlocksStartClientId'\n);\n\n/**\n * @see getMultiSelectedBlocksEndClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksEndClientId = getBlockEditorSelector(\n\t'getMultiSelectedBlocksEndClientId'\n);\n\n/**\n * @see getBlockOrder in core/block-editor store.\n */\nexport const getBlockOrder = getBlockEditorSelector( 'getBlockOrder' );\n\n/**\n * @see getBlockIndex in core/block-editor store.\n */\nexport const getBlockIndex = getBlockEditorSelector( 'getBlockIndex' );\n\n/**\n * @see isBlockSelected in core/block-editor store.\n */\nexport const isBlockSelected = getBlockEditorSelector( 'isBlockSelected' );\n\n/**\n * @see hasSelectedInnerBlock in core/block-editor store.\n */\nexport const hasSelectedInnerBlock = getBlockEditorSelector(\n\t'hasSelectedInnerBlock'\n);\n\n/**\n * @see isBlockWithinSelection in core/block-editor store.\n */\nexport const isBlockWithinSelection = getBlockEditorSelector(\n\t'isBlockWithinSelection'\n);\n\n/**\n * @see hasMultiSelection in core/block-editor store.\n */\nexport const hasMultiSelection = getBlockEditorSelector( 'hasMultiSelection' );\n\n/**\n * @see isMultiSelecting in core/block-editor store.\n */\nexport const isMultiSelecting = getBlockEditorSelector( 'isMultiSelecting' );\n\n/**\n * @see isSelectionEnabled in core/block-editor store.\n */\nexport const isSelectionEnabled =\n\tgetBlockEditorSelector( 'isSelectionEnabled' );\n\n/**\n * @see getBlockMode in core/block-editor store.\n */\nexport const getBlockMode = getBlockEditorSelector( 'getBlockMode' );\n\n/**\n * @see isTyping in core/block-editor store.\n */\nexport const isTyping = getBlockEditorSelector( 'isTyping' );\n\n/**\n * @see isCaretWithinFormattedText in core/block-editor store.\n */\nexport const isCaretWithinFormattedText = getBlockEditorSelector(\n\t'isCaretWithinFormattedText'\n);\n\n/**\n * @see getBlockInsertionPoint in core/block-editor store.\n */\nexport const getBlockInsertionPoint = getBlockEditorSelector(\n\t'getBlockInsertionPoint'\n);\n\n/**\n * @see isBlockInsertionPointVisible in core/block-editor store.\n */\nexport const isBlockInsertionPointVisible = getBlockEditorSelector(\n\t'isBlockInsertionPointVisible'\n);\n\n/**\n * @see isValidTemplate in core/block-editor store.\n */\nexport const isValidTemplate = getBlockEditorSelector( 'isValidTemplate' );\n\n/**\n * @see getTemplate in core/block-editor store.\n */\nexport const getTemplate = getBlockEditorSelector( 'getTemplate' );\n\n/**\n * @see getTemplateLock in core/block-editor store.\n */\nexport const getTemplateLock = getBlockEditorSelector( 'getTemplateLock' );\n\n/**\n * @see canInsertBlockType in core/block-editor store.\n */\nexport const canInsertBlockType =\n\tgetBlockEditorSelector( 'canInsertBlockType' );\n\n/**\n * @see getInserterItems in core/block-editor store.\n */\nexport const getInserterItems = getBlockEditorSelector( 'getInserterItems' );\n\n/**\n * @see hasInserterItems in core/block-editor store.\n */\nexport const hasInserterItems = getBlockEditorSelector( 'hasInserterItems' );\n\n/**\n * @see getBlockListSettings in core/block-editor store.\n */\nexport const getBlockListSettings = getBlockEditorSelector(\n\t'getBlockListSettings'\n);\n\n/**\n * Returns the default template types.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The template types.\n */\nexport function __experimentalGetDefaultTemplateTypes( state ) {\n\treturn getEditorSettings( state )?.defaultTemplateTypes;\n}\n\n/**\n * Returns the default template part areas.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The template part areas.\n */\nexport const __experimentalGetDefaultTemplatePartAreas = createSelector(\n\t( state ) => {\n\t\tconst areas =\n\t\t\tgetEditorSettings( state )?.defaultTemplatePartAreas ?? [];\n\t\treturn areas.map( ( item ) => {\n\t\t\treturn { ...item, icon: getTemplatePartIcon( item.icon ) };\n\t\t} );\n\t},\n\t( state ) => [ getEditorSettings( state )?.defaultTemplatePartAreas ]\n);\n\n/**\n * Returns a default template type searched by slug.\n *\n * @param {Object} state Global application state.\n * @param {string} slug  The template type slug.\n *\n * @return {Object} The template type.\n */\nexport const __experimentalGetDefaultTemplateType = createSelector(\n\t( state, slug ) => {\n\t\tconst templateTypes = __experimentalGetDefaultTemplateTypes( state );\n\t\tif ( ! templateTypes ) {\n\t\t\treturn EMPTY_OBJECT;\n\t\t}\n\n\t\treturn (\n\t\t\tObject.values( templateTypes ).find(\n\t\t\t\t( type ) => type.slug === slug\n\t\t\t) ?? EMPTY_OBJECT\n\t\t);\n\t},\n\t( state ) => [ __experimentalGetDefaultTemplateTypes( state ) ]\n);\n\n/**\n * Given a template entity, return information about it which is ready to be\n * rendered, such as the title, description, and icon.\n *\n * @param {Object} state    Global application state.\n * @param {Object} template The template for which we need information.\n * @return {Object} Information about the template, including title, description, and icon.\n */\nexport const __experimentalGetTemplateInfo = createSelector(\n\t( state, template ) => {\n\t\tif ( ! template ) {\n\t\t\treturn EMPTY_OBJECT;\n\t\t}\n\n\t\tconst { description, slug, title, area } = template;\n\t\tconst { title: defaultTitle, description: defaultDescription } =\n\t\t\t__experimentalGetDefaultTemplateType( state, slug );\n\n\t\tconst templateTitle =\n\t\t\ttypeof title === 'string' ? title : title?.rendered;\n\t\tconst templateDescription =\n\t\t\ttypeof description === 'string' ? description : description?.raw;\n\t\tconst templateIcon =\n\t\t\t__experimentalGetDefaultTemplatePartAreas( state ).find(\n\t\t\t\t( item ) => area === item.area\n\t\t\t)?.icon || layout;\n\n\t\treturn {\n\t\t\ttitle:\n\t\t\t\ttemplateTitle && templateTitle !== slug\n\t\t\t\t\t? templateTitle\n\t\t\t\t\t: defaultTitle || slug,\n\t\t\tdescription: templateDescription || defaultDescription,\n\t\t\ticon: templateIcon,\n\t\t};\n\t},\n\t( state ) => [\n\t\t__experimentalGetDefaultTemplateTypes( state ),\n\t\t__experimentalGetDefaultTemplatePartAreas( state ),\n\t]\n);\n\n/**\n * Returns a post type label depending on the current post.\n *\n * @param {Object} state Global application state.\n *\n * @return {string|undefined} The post type label if available, otherwise undefined.\n */\nexport const getPostTypeLabel = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst currentPostType = getCurrentPostType( state );\n\t\tconst postType = select( coreStore ).getPostType( currentPostType );\n\t\t// Disable reason: Post type labels object is shaped like this.\n\t\t// eslint-disable-next-line camelcase\n\t\treturn postType?.labels?.singular_name;\n\t}\n);\n\n/**\n * Returns true if the publish sidebar is opened.\n *\n * @param {Object} state Global application state\n *\n * @return {boolean} Whether the publish sidebar is open.\n */\nexport function isPublishSidebarOpened( state ) {\n\treturn state.publishSidebarActive;\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","/**\n * Function returning a sessionStorage key to set or retrieve a given post's\n * automatic session backup.\n *\n * Keys are crucially prefixed with 'wp-autosave-' so that wp-login.php's\n * `loggedout` handler can clear sessionStorage of any user-private content.\n *\n * @see https://github.com/WordPress/wordpress-develop/blob/6dad32d2aed47e6c0cf2aee8410645f6d7aba6bd/src/wp-login.php#L103\n *\n * @param {string}  postId    Post ID.\n * @param {boolean} isPostNew Whether post new.\n *\n * @return {string} sessionStorage key\n */\nfunction postKey( postId, isPostNew ) {\n\treturn `wp-autosave-block-editor-post-${\n\t\tisPostNew ? 'auto-draft' : postId\n\t}`;\n}\n\nexport function localAutosaveGet( postId, isPostNew ) {\n\treturn window.sessionStorage.getItem( postKey( postId, isPostNew ) );\n}\n\nexport function localAutosaveSet( postId, isPostNew, title, content, excerpt ) {\n\twindow.sessionStorage.setItem(\n\t\tpostKey( postId, isPostNew ),\n\t\tJSON.stringify( {\n\t\t\tpost_title: title,\n\t\t\tcontent,\n\t\t\texcerpt,\n\t\t} )\n\t);\n}\n\nexport function localAutosaveClear( postId, isPostNew ) {\n\twindow.sessionStorage.removeItem( postKey( postId, isPostNew ) );\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"privateApis\"];","/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/editor'\n\t);\n","/**\n * WordPress dependencies\n */\nimport { speak } from '@wordpress/a11y';\nimport apiFetch from '@wordpress/api-fetch';\nimport deprecated from '@wordpress/deprecated';\nimport {\n\tparse,\n\tsynchronizeBlocksWithTemplate,\n\t__unstableSerializeAndClean,\n} from '@wordpress/blocks';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport {\n\tapplyFilters,\n\tapplyFiltersAsync,\n\tdoActionAsync,\n} from '@wordpress/hooks';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { TRASH_POST_NOTICE_ID } from './constants';\nimport { localAutosaveSet } from './local-autosave';\nimport {\n\tgetNotificationArgumentsForSaveSuccess,\n\tgetNotificationArgumentsForSaveFail,\n\tgetNotificationArgumentsForTrashFail,\n} from './utils/notice-builder';\nimport { unlock } from '../lock-unlock';\n/**\n * Returns an action generator used in signalling that editor has initialized with\n * the specified post object and editor settings.\n *\n * @param {Object} post     Post object.\n * @param {Object} edits    Initial edited attributes object.\n * @param {Array?} template Block Template.\n */\nexport const setupEditor =\n\t( post, edits, template ) =>\n\t( { dispatch } ) => {\n\t\tdispatch.setEditedPost( post.type, post.id );\n\t\t// Apply a template for new posts only, if exists.\n\t\tconst isNewPost = post.status === 'auto-draft';\n\t\tif ( isNewPost && template ) {\n\t\t\t// In order to ensure maximum of a single parse during setup, edits are\n\t\t\t// included as part of editor setup action. Assume edited content as\n\t\t\t// canonical if provided, falling back to post.\n\t\t\tlet content;\n\t\t\tif ( 'content' in edits ) {\n\t\t\t\tcontent = edits.content;\n\t\t\t} else {\n\t\t\t\tcontent = post.content.raw;\n\t\t\t}\n\t\t\tlet blocks = parse( content );\n\t\t\tblocks = synchronizeBlocksWithTemplate( blocks, template );\n\t\t\tdispatch.resetEditorBlocks( blocks, {\n\t\t\t\t__unstableShouldCreateUndoLevel: false,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tedits &&\n\t\t\tObject.values( edits ).some(\n\t\t\t\t( [ key, edit ] ) =>\n\t\t\t\t\tedit !== ( post[ key ]?.raw ?? post[ key ] )\n\t\t\t)\n\t\t) {\n\t\t\tdispatch.editPost( edits );\n\t\t}\n\t};\n\n/**\n * Returns an action object signalling that the editor is being destroyed and\n * that any necessary state or side-effect cleanup should occur.\n *\n * @deprecated\n *\n * @return {Object} Action object.\n */\nexport function __experimentalTearDownEditor() {\n\tdeprecated(\n\t\t\"wp.data.dispatch( 'core/editor' ).__experimentalTearDownEditor\",\n\t\t{\n\t\t\tsince: '6.5',\n\t\t}\n\t);\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Returns an action object used in signalling that the latest version of the\n * post has been received, either by initialization or save.\n *\n * @deprecated Since WordPress 6.0.\n */\nexport function resetPost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).resetPost\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Initialize the editor with the setupEditorState action',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Returns an action object used in signalling that a patch of updates for the\n * latest version of the post have been received.\n *\n * @return {Object} Action object.\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function updatePost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).updatePost\", {\n\t\tsince: '5.7',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn {\n\t\ttype: 'DO_NOTHING',\n\t};\n}\n\n/**\n * Setup the editor state.\n *\n * @deprecated\n *\n * @param {Object} post Post object.\n */\nexport function setupEditorState( post ) {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).setupEditorState\", {\n\t\tsince: '6.5',\n\t\talternative: \"wp.data.dispatch( 'core/editor' ).setEditedPost\",\n\t} );\n\treturn setEditedPost( post.type, post.id );\n}\n\n/**\n * Returns an action that sets the current post Type and post ID.\n *\n * @param {string} postType Post Type.\n * @param {string} postId   Post ID.\n *\n * @return {Object} Action object.\n */\nexport function setEditedPost( postType, postId ) {\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType,\n\t\tpostId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that attributes of the post have\n * been edited.\n *\n * @param {Object} edits   Post attributes to edit.\n * @param {Object} options Options for the edit.\n */\nexport const editPost =\n\t( edits, options ) =>\n\t( { select, registry } ) => {\n\t\tconst { id, type } = select.getCurrentPost();\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord( 'postType', type, id, edits, options );\n\t};\n\n/**\n * Action for saving the current post in the editor.\n *\n * @param {Object} options\n */\nexport const savePost =\n\t( options = {} ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tif ( ! select.isEditedPostSaveable() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst content = select.getEditedPostContent();\n\n\t\tif ( ! options.isAutosave ) {\n\t\t\tdispatch.editPost( { content }, { undoIgnore: true } );\n\t\t}\n\n\t\tconst previousRecord = select.getCurrentPost();\n\t\tlet edits = {\n\t\t\tid: previousRecord.id,\n\t\t\t...registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityRecordNonTransientEdits(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\tpreviousRecord.id\n\t\t\t\t),\n\t\t\tcontent,\n\t\t};\n\t\tdispatch( { type: 'REQUEST_POST_UPDATE_START', options } );\n\n\t\tlet error = false;\n\t\ttry {\n\t\t\tedits = await applyFiltersAsync(\n\t\t\t\t'editor.preSavePost',\n\t\t\t\tedits,\n\t\t\t\toptions\n\t\t\t);\n\t\t} catch ( err ) {\n\t\t\terror = err;\n\t\t}\n\n\t\tif ( ! error ) {\n\t\t\ttry {\n\t\t\t\tawait registry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.saveEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\t\tedits,\n\t\t\t\t\t\toptions\n\t\t\t\t\t);\n\t\t\t} catch ( err ) {\n\t\t\t\terror =\n\t\t\t\t\terr.message && err.code !== 'unknown_error'\n\t\t\t\t\t\t? err.message\n\t\t\t\t\t\t: __( 'An error occurred while updating.' );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! error ) {\n\t\t\terror = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getLastEntitySaveError(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\tpreviousRecord.id\n\t\t\t\t);\n\t\t}\n\n\t\t// Run the hook with legacy unstable name for backward compatibility\n\t\tif ( ! error ) {\n\t\t\ttry {\n\t\t\t\tawait applyFilters(\n\t\t\t\t\t'editor.__unstableSavePost',\n\t\t\t\t\tPromise.resolve(),\n\t\t\t\t\toptions\n\t\t\t\t);\n\t\t\t} catch ( err ) {\n\t\t\t\terror = err;\n\t\t\t}\n\t\t}\n\n\t\tif ( ! error ) {\n\t\t\ttry {\n\t\t\t\tawait doActionAsync( 'editor.savePost', options );\n\t\t\t} catch ( err ) {\n\t\t\t\terror = err;\n\t\t\t}\n\t\t}\n\t\tdispatch( { type: 'REQUEST_POST_UPDATE_FINISH', options } );\n\n\t\tif ( error ) {\n\t\t\tconst args = getNotificationArgumentsForSaveFail( {\n\t\t\t\tpost: previousRecord,\n\t\t\t\tedits,\n\t\t\t\terror,\n\t\t\t} );\n\t\t\tif ( args.length ) {\n\t\t\t\tregistry.dispatch( noticesStore ).createErrorNotice( ...args );\n\t\t\t}\n\t\t} else {\n\t\t\tconst updatedRecord = select.getCurrentPost();\n\t\t\tconst args = getNotificationArgumentsForSaveSuccess( {\n\t\t\t\tpreviousPost: previousRecord,\n\t\t\t\tpost: updatedRecord,\n\t\t\t\tpostType: await registry\n\t\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t\t.getPostType( updatedRecord.type ),\n\t\t\t\toptions,\n\t\t\t} );\n\t\t\tif ( args.length ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( ...args );\n\t\t\t}\n\t\t\t// Make sure that any edits after saving create an undo level and are\n\t\t\t// considered for change detection.\n\t\t\tif ( ! options.isAutosave ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( blockEditorStore )\n\t\t\t\t\t.__unstableMarkLastChangeAsPersistent();\n\t\t\t}\n\t\t}\n\t};\n\n/**\n * Action for refreshing the current post.\n *\n * @deprecated Since WordPress 6.0.\n */\nexport function refreshPost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).refreshPost\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Action for trashing the current post in the editor.\n */\nexport const trashPost =\n\t() =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst postTypeSlug = select.getCurrentPostType();\n\t\tconst postType = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getPostType( postTypeSlug );\n\t\tregistry.dispatch( noticesStore ).removeNotice( TRASH_POST_NOTICE_ID );\n\t\tconst { rest_base: restBase, rest_namespace: restNamespace = 'wp/v2' } =\n\t\t\tpostType;\n\t\tdispatch( { type: 'REQUEST_POST_DELETE_START' } );\n\t\ttry {\n\t\t\tconst post = select.getCurrentPost();\n\t\t\tawait apiFetch( {\n\t\t\t\tpath: `/${ restNamespace }/${ restBase }/${ post.id }`,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t} );\n\n\t\t\tawait dispatch.savePost();\n\t\t} catch ( error ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice(\n\t\t\t\t\t...getNotificationArgumentsForTrashFail( { error } )\n\t\t\t\t);\n\t\t}\n\t\tdispatch( { type: 'REQUEST_POST_DELETE_FINISH' } );\n\t};\n\n/**\n * Action that autosaves the current post.  This\n * includes server-side autosaving (default) and client-side (a.k.a. local)\n * autosaving (e.g. on the Web, the post might be committed to Session\n * Storage).\n *\n * @param {Object?} options Extra flags to identify the autosave.\n */\nexport const autosave =\n\t( { local = false, ...options } = {} ) =>\n\tasync ( { select, dispatch } ) => {\n\t\tconst post = select.getCurrentPost();\n\n\t\t// Currently template autosaving is not supported.\n\t\tif ( post.type === 'wp_template' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( local ) {\n\t\t\tconst isPostNew = select.isEditedPostNew();\n\t\t\tconst title = select.getEditedPostAttribute( 'title' );\n\t\t\tconst content = select.getEditedPostAttribute( 'content' );\n\t\t\tconst excerpt = select.getEditedPostAttribute( 'excerpt' );\n\t\t\tlocalAutosaveSet( post.id, isPostNew, title, content, excerpt );\n\t\t} else {\n\t\t\tawait dispatch.savePost( { isAutosave: true, ...options } );\n\t\t}\n\t};\n\nexport const __unstableSaveForPreview =\n\t( { forceIsAutosaveable } = {} ) =>\n\tasync ( { select, dispatch } ) => {\n\t\tif (\n\t\t\t( forceIsAutosaveable || select.isEditedPostAutosaveable() ) &&\n\t\t\t! select.isPostLocked()\n\t\t) {\n\t\t\tconst isDraft = [ 'draft', 'auto-draft' ].includes(\n\t\t\t\tselect.getEditedPostAttribute( 'status' )\n\t\t\t);\n\t\t\tif ( isDraft ) {\n\t\t\t\tawait dispatch.savePost( { isPreview: true } );\n\t\t\t} else {\n\t\t\t\tawait dispatch.autosave( { isPreview: true } );\n\t\t\t}\n\t\t}\n\n\t\treturn select.getEditedPostPreviewLink();\n\t};\n\n/**\n * Action that restores last popped state in undo history.\n */\nexport const redo =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( coreStore ).redo();\n\t};\n\n/**\n * Action that pops a record from undo history and undoes the edit.\n */\nexport const undo =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( coreStore ).undo();\n\t};\n\n/**\n * Action that creates an undo history record.\n *\n * @deprecated Since WordPress 6.0\n */\nexport function createUndoLevel() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).createUndoLevel\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Action that locks the editor.\n *\n * @param {Object} lock Details about the post lock status, user, and nonce.\n * @return {Object} Action object.\n */\nexport function updatePostLock( lock ) {\n\treturn {\n\t\ttype: 'UPDATE_POST_LOCK',\n\t\tlock,\n\t};\n}\n\n/**\n * Enable the publish sidebar.\n */\nexport const enablePublishSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'isPublishSidebarEnabled', true );\n\t};\n\n/**\n * Disables the publish sidebar.\n */\nexport const disablePublishSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'isPublishSidebarEnabled', false );\n\t};\n\n/**\n * Action that locks post saving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * const { subscribe } = wp.data;\n *\n * const initialPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n *\n * // Only allow publishing posts that are set to a future date.\n * if ( 'publish' !== initialPostStatus ) {\n *\n * \t// Track locking.\n * \tlet locked = false;\n *\n * \t// Watch for the publish event.\n * \tlet unssubscribe = subscribe( () => {\n * \t\tconst currentPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n * \t\tif ( 'publish' !== currentPostStatus ) {\n *\n * \t\t\t// Compare the post date to the current date, lock the post if the date isn't in the future.\n * \t\t\tconst postDate = new Date( wp.data.select( 'core/editor' ).getEditedPostAttribute( 'date' ) );\n * \t\t\tconst currentDate = new Date();\n * \t\t\tif ( postDate.getTime() <= currentDate.getTime() ) {\n * \t\t\t\tif ( ! locked ) {\n * \t\t\t\t\tlocked = true;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).lockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t} else {\n * \t\t\t\tif ( locked ) {\n * \t\t\t\t\tlocked = false;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).unlockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t}\n * \t\t}\n * \t} );\n * }\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that unlocks post saving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostSaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that locks post autosaving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Lock post autosaving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).lockPostAutosaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostAutosaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_AUTOSAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that unlocks post autosaving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostAutosaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostAutosaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_AUTOSAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Returns an action object used to signal that the blocks have been updated.\n *\n * @param {Array}   blocks  Block Array.\n * @param {?Object} options Optional options.\n */\nexport const resetEditorBlocks =\n\t( blocks, options = {} ) =>\n\t( { select, dispatch, registry } ) => {\n\t\tconst { __unstableShouldCreateUndoLevel, selection } = options;\n\t\tconst edits = { blocks, selection };\n\n\t\tif ( __unstableShouldCreateUndoLevel !== false ) {\n\t\t\tconst { id, type } = select.getCurrentPost();\n\t\t\tconst noChange =\n\t\t\t\tregistry\n\t\t\t\t\t.select( coreStore )\n\t\t\t\t\t.getEditedEntityRecord( 'postType', type, id ).blocks ===\n\t\t\t\tedits.blocks;\n\t\t\tif ( noChange ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.__unstableCreateUndoLevel( 'postType', type, id );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We create a new function here on every persistent edit\n\t\t\t// to make sure the edit makes the post dirty and creates\n\t\t\t// a new undo level.\n\t\t\tedits.content = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\t\t}\n\n\t\tdispatch.editPost( edits );\n\t};\n\n/*\n * Returns an action object used in signalling that the post editor settings have been updated.\n *\n * @param {Object} settings Updated settings\n *\n * @return {Object} Action object\n */\nexport function updateEditorSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_EDITOR_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Returns an action used to set the rendering mode of the post editor. We support multiple rendering modes:\n *\n * -   `post-only`: This mode extracts the post blocks from the template and renders only those. The idea is to allow the user to edit the post/page in isolation without the wrapping template.\n * -   `template-locked`: This mode renders both the template and the post blocks but the template blocks are locked and can't be edited. The post blocks are editable.\n *\n * @param {string} mode Mode (one of 'post-only' or 'template-locked').\n */\nexport const setRenderingMode =\n\t( mode ) =>\n\t( { dispatch, registry, select } ) => {\n\t\tif ( select.__unstableIsEditorReady() ) {\n\t\t\t// We clear the block selection but we also need to clear the selection from the core store.\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t\tdispatch.editPost( { selection: undefined }, { undoIgnore: true } );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_RENDERING_MODE',\n\t\t\tmode,\n\t\t} );\n\t};\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport function setDeviceType( deviceType ) {\n\treturn {\n\t\ttype: 'SET_DEVICE_TYPE',\n\t\tdeviceType,\n\t};\n}\n\n/**\n * Returns an action object used to enable or disable a panel in the editor.\n *\n * @param {string} panelName A string that identifies the panel to enable or disable.\n *\n * @return {Object} Action object.\n */\nexport const toggleEditorPanelEnabled =\n\t( panelName ) =>\n\t( { registry } ) => {\n\t\tconst inactivePanels =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'inactivePanels' ) ?? [];\n\n\t\tconst isPanelInactive = !! inactivePanels?.includes( panelName );\n\n\t\t// If the panel is inactive, remove it to enable it, else add it to\n\t\t// make it inactive.\n\t\tlet updatedInactivePanels;\n\t\tif ( isPanelInactive ) {\n\t\t\tupdatedInactivePanels = inactivePanels.filter(\n\t\t\t\t( invactivePanelName ) => invactivePanelName !== panelName\n\t\t\t);\n\t\t} else {\n\t\t\tupdatedInactivePanels = [ ...inactivePanels, panelName ];\n\t\t}\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'inactivePanels', updatedInactivePanels );\n\t};\n\n/**\n * Opens a closed panel and closes an open panel.\n *\n * @param {string} panelName A string that identifies the panel to open or close.\n */\nexport const toggleEditorPanelOpened =\n\t( panelName ) =>\n\t( { registry } ) => {\n\t\tconst openPanels =\n\t\t\tregistry.select( preferencesStore ).get( 'core', 'openPanels' ) ??\n\t\t\t[];\n\n\t\tconst isPanelOpen = !! openPanels?.includes( panelName );\n\n\t\t// If the panel is open, remove it to close it, else add it to\n\t\t// make it open.\n\t\tlet updatedOpenPanels;\n\t\tif ( isPanelOpen ) {\n\t\t\tupdatedOpenPanels = openPanels.filter(\n\t\t\t\t( openPanelName ) => openPanelName !== panelName\n\t\t\t);\n\t\t} else {\n\t\t\tupdatedOpenPanels = [ ...openPanels, panelName ];\n\t\t}\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'openPanels', updatedOpenPanels );\n\t};\n\n/**\n * Returns an action object used to remove a panel from the editor.\n *\n * @param {string} panelName A string that identifies the panel to remove.\n *\n * @return {Object} Action object.\n */\nexport function removeEditorPanel( panelName ) {\n\treturn {\n\t\ttype: 'REMOVE_PANEL',\n\t\tpanelName,\n\t};\n}\n\n/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n * @param {string}         value.filterValue    A query to filter the inserter results.\n * @param {Function}       value.onSelect       A callback when an item is selected.\n * @param {string}         value.tab            The tab to open in the inserter.\n * @param {string}         value.category       The category to initialize in the inserter.\n *\n * @return {Object} Action object.\n */\nexport const setIsInserterOpened =\n\t( value ) =>\n\t( { dispatch, registry } ) => {\n\t\tif (\n\t\t\ttypeof value === 'object' &&\n\t\t\tvalue.hasOwnProperty( 'rootClientId' ) &&\n\t\t\tvalue.hasOwnProperty( 'insertionIndex' )\n\t\t) {\n\t\t\tunlock( registry.dispatch( blockEditorStore ) ).setInsertionPoint( {\n\t\t\t\trootClientId: value.rootClientId,\n\t\t\t\tindex: value.insertionIndex,\n\t\t\t} );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\t\tvalue,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used to open/close the list view.\n *\n * @param {boolean} isOpen A boolean representing whether the list view should be opened or closed.\n * @return {Object} Action object.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Action that toggles Distraction free mode.\n * Distraction free mode expects there are no sidebars, as due to the\n * z-index values set, you can't close sidebars.\n */\nexport const toggleDistractionFree =\n\t() =>\n\t( { dispatch, registry } ) => {\n\t\tconst isDistractionFree = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( 'core', 'distractionFree' );\n\t\tif ( isDistractionFree ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( 'core', 'fixedToolbar', false );\n\t\t}\n\t\tif ( ! isDistractionFree ) {\n\t\t\tregistry.batch( () => {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t.set( 'core', 'fixedToolbar', true );\n\t\t\t\tdispatch.setIsInserterOpened( false );\n\t\t\t\tdispatch.setIsListViewOpened( false );\n\t\t\t} );\n\t\t}\n\t\tregistry.batch( () => {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( 'core', 'distractionFree', ! isDistractionFree );\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createInfoNotice(\n\t\t\t\t\tisDistractionFree\n\t\t\t\t\t\t? __( 'Distraction free off.' )\n\t\t\t\t\t\t: __( 'Distraction free on.' ),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'core/editor/distraction-free-mode/notice',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\t\tregistry.batch( () => {\n\t\t\t\t\t\t\t\t\t\tregistry\n\t\t\t\t\t\t\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t\t\t\t\t\t\t.set(\n\t\t\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t\t\t'fixedToolbar',\n\t\t\t\t\t\t\t\t\t\t\t\tisDistractionFree ? true : false\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tregistry\n\t\t\t\t\t\t\t\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t\t\t\t\t\t\t\t.toggle(\n\t\t\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t\t\t'distractionFree'\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t} );\n\t};\n\n/**\n * Triggers an action used to switch editor mode.\n *\n * @param {string} mode The editor mode.\n */\nexport const switchEditorMode =\n\t( mode ) =>\n\t( { dispatch, registry } ) => {\n\t\tregistry.dispatch( preferencesStore ).set( 'core', 'editorMode', mode );\n\n\t\t// Unselect blocks when we switch to a non visual mode.\n\t\tif ( mode !== 'visual' ) {\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t}\n\n\t\tif ( mode === 'visual' ) {\n\t\t\tspeak( __( 'Visual editor selected' ), 'assertive' );\n\t\t} else if ( mode === 'text' ) {\n\t\t\tconst isDistractionFree = registry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'distractionFree' );\n\t\t\tif ( isDistractionFree ) {\n\t\t\t\tdispatch.toggleDistractionFree();\n\t\t\t}\n\t\t\tspeak( __( 'Code editor selected' ), 'assertive' );\n\t\t}\n\t};\n\n/**\n * Returns an action object used in signalling that the user opened the publish\n * sidebar.\n *\n * @return {Object} Action object\n */\nexport function openPublishSidebar() {\n\treturn {\n\t\ttype: 'OPEN_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user closed the\n * publish sidebar.\n *\n * @return {Object} Action object.\n */\nexport function closePublishSidebar() {\n\treturn {\n\t\ttype: 'CLOSE_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user toggles the publish sidebar.\n *\n * @return {Object} Action object\n */\nexport function togglePublishSidebar() {\n\treturn {\n\t\ttype: 'TOGGLE_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Backward compatibility\n */\n\nconst getBlockEditorAction =\n\t( name ) =>\n\t( ...args ) =>\n\t( { registry } ) => {\n\t\tdeprecated( \"`wp.data.dispatch( 'core/editor' ).\" + name + '`', {\n\t\t\tsince: '5.3',\n\t\t\talternative:\n\t\t\t\t\"`wp.data.dispatch( 'core/block-editor' ).\" + name + '`',\n\t\t\tversion: '6.2',\n\t\t} );\n\t\tregistry.dispatch( blockEditorStore )[ name ]( ...args );\n\t};\n\n/**\n * @see resetBlocks in core/block-editor store.\n */\nexport const resetBlocks = getBlockEditorAction( 'resetBlocks' );\n\n/**\n * @see receiveBlocks in core/block-editor store.\n */\nexport const receiveBlocks = getBlockEditorAction( 'receiveBlocks' );\n\n/**\n * @see updateBlock in core/block-editor store.\n */\nexport const updateBlock = getBlockEditorAction( 'updateBlock' );\n\n/**\n * @see updateBlockAttributes in core/block-editor store.\n */\nexport const updateBlockAttributes = getBlockEditorAction(\n\t'updateBlockAttributes'\n);\n\n/**\n * @see selectBlock in core/block-editor store.\n */\nexport const selectBlock = getBlockEditorAction( 'selectBlock' );\n\n/**\n * @see startMultiSelect in core/block-editor store.\n */\nexport const startMultiSelect = getBlockEditorAction( 'startMultiSelect' );\n\n/**\n * @see stopMultiSelect in core/block-editor store.\n */\nexport const stopMultiSelect = getBlockEditorAction( 'stopMultiSelect' );\n\n/**\n * @see multiSelect in core/block-editor store.\n */\nexport const multiSelect = getBlockEditorAction( 'multiSelect' );\n\n/**\n * @see clearSelectedBlock in core/block-editor store.\n */\nexport const clearSelectedBlock = getBlockEditorAction( 'clearSelectedBlock' );\n\n/**\n * @see toggleSelection in core/block-editor store.\n */\nexport const toggleSelection = getBlockEditorAction( 'toggleSelection' );\n\n/**\n * @see replaceBlocks in core/block-editor store.\n */\nexport const replaceBlocks = getBlockEditorAction( 'replaceBlocks' );\n\n/**\n * @see replaceBlock in core/block-editor store.\n */\nexport const replaceBlock = getBlockEditorAction( 'replaceBlock' );\n\n/**\n * @see moveBlocksDown in core/block-editor store.\n */\nexport const moveBlocksDown = getBlockEditorAction( 'moveBlocksDown' );\n\n/**\n * @see moveBlocksUp in core/block-editor store.\n */\nexport const moveBlocksUp = getBlockEditorAction( 'moveBlocksUp' );\n\n/**\n * @see moveBlockToPosition in core/block-editor store.\n */\nexport const moveBlockToPosition = getBlockEditorAction(\n\t'moveBlockToPosition'\n);\n\n/**\n * @see insertBlock in core/block-editor store.\n */\nexport const insertBlock = getBlockEditorAction( 'insertBlock' );\n\n/**\n * @see insertBlocks in core/block-editor store.\n */\nexport const insertBlocks = getBlockEditorAction( 'insertBlocks' );\n\n/**\n * @see showInsertionPoint in core/block-editor store.\n */\nexport const showInsertionPoint = getBlockEditorAction( 'showInsertionPoint' );\n\n/**\n * @see hideInsertionPoint in core/block-editor store.\n */\nexport const hideInsertionPoint = getBlockEditorAction( 'hideInsertionPoint' );\n\n/**\n * @see setTemplateValidity in core/block-editor store.\n */\nexport const setTemplateValidity = getBlockEditorAction(\n\t'setTemplateValidity'\n);\n\n/**\n * @see synchronizeTemplate in core/block-editor store.\n */\nexport const synchronizeTemplate = getBlockEditorAction(\n\t'synchronizeTemplate'\n);\n\n/**\n * @see mergeBlocks in core/block-editor store.\n */\nexport const mergeBlocks = getBlockEditorAction( 'mergeBlocks' );\n\n/**\n * @see removeBlocks in core/block-editor store.\n */\nexport const removeBlocks = getBlockEditorAction( 'removeBlocks' );\n\n/**\n * @see removeBlock in core/block-editor store.\n */\nexport const removeBlock = getBlockEditorAction( 'removeBlock' );\n\n/**\n * @see toggleBlockMode in core/block-editor store.\n */\nexport const toggleBlockMode = getBlockEditorAction( 'toggleBlockMode' );\n\n/**\n * @see startTyping in core/block-editor store.\n */\nexport const startTyping = getBlockEditorAction( 'startTyping' );\n\n/**\n * @see stopTyping in core/block-editor store.\n */\nexport const stopTyping = getBlockEditorAction( 'stopTyping' );\n\n/**\n * @see enterFormattedText in core/block-editor store.\n */\nexport const enterFormattedText = getBlockEditorAction( 'enterFormattedText' );\n\n/**\n * @see exitFormattedText in core/block-editor store.\n */\nexport const exitFormattedText = getBlockEditorAction( 'exitFormattedText' );\n\n/**\n * @see insertDefaultBlock in core/block-editor store.\n */\nexport const insertDefaultBlock = getBlockEditorAction( 'insertDefaultBlock' );\n\n/**\n * @see updateBlockListSettings in core/block-editor store.\n */\nexport const updateBlockListSettings = getBlockEditorAction(\n\t'updateBlockListSettings'\n);\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { SAVE_POST_NOTICE_ID, TRASH_POST_NOTICE_ID } from '../constants';\n\n/**\n * Builds the arguments for a success notification dispatch.\n *\n * @param {Object} data Incoming data to build the arguments from.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveSuccess( data ) {\n\tconst { previousPost, post, postType } = data;\n\t// Autosaves are neither shown a notice nor redirected.\n\tif ( data.options?.isAutosave ) {\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.includes( previousPost.status );\n\tconst willPublish = publishStatus.includes( post.status );\n\tconst willTrash =\n\t\tpost.status === 'trash' && previousPost.status !== 'trash';\n\n\tlet noticeMessage;\n\tlet shouldShowLink = postType?.viewable ?? false;\n\tlet isDraft;\n\n\t// Always should a notice, which will be spoken for accessibility.\n\tif ( willTrash ) {\n\t\tnoticeMessage = postType.labels.item_trashed;\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && ! willPublish ) {\n\t\t// If saving a non-published post, don't show notice.\n\t\tnoticeMessage = __( 'Draft saved.' );\n\t\tisDraft = true;\n\t} else if ( isPublished && ! willPublish ) {\n\t\t// If undoing publish status, show specific notice.\n\t\tnoticeMessage = postType.labels.item_reverted_to_draft;\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && willPublish ) {\n\t\t// If publishing or scheduling a post, show the corresponding\n\t\t// publish message.\n\t\tnoticeMessage = {\n\t\t\tpublish: postType.labels.item_published,\n\t\t\tprivate: postType.labels.item_published_privately,\n\t\t\tfuture: postType.labels.item_scheduled,\n\t\t}[ post.status ];\n\t} else {\n\t\t// Generic fallback notice.\n\t\tnoticeMessage = postType.labels.item_updated;\n\t}\n\n\tconst actions = [];\n\tif ( shouldShowLink ) {\n\t\tactions.push( {\n\t\t\tlabel: isDraft ? __( 'View Preview' ) : postType.labels.view_item,\n\t\t\turl: post.link,\n\t\t} );\n\t}\n\treturn [\n\t\tnoticeMessage,\n\t\t{\n\t\t\tid: SAVE_POST_NOTICE_ID,\n\t\t\ttype: 'snackbar',\n\t\t\tactions,\n\t\t},\n\t];\n}\n\n/**\n * Builds the fail notification arguments for dispatch.\n *\n * @param {Object} data Incoming data to build the arguments with.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveFail( data ) {\n\tconst { post, edits, error } = data;\n\tif ( error && 'rest_autosave_no_changes' === error.code ) {\n\t\t// Autosave requested a new autosave, but there were no changes. This shouldn't\n\t\t// result in an error notice for the user.\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.indexOf( post.status ) !== -1;\n\t// If the post was being published, we show the corresponding publish error message\n\t// Unless we publish an \"updating failed\" message.\n\tconst messages = {\n\t\tpublish: __( 'Publishing failed.' ),\n\t\tprivate: __( 'Publishing failed.' ),\n\t\tfuture: __( 'Scheduling failed.' ),\n\t};\n\tlet noticeMessage =\n\t\t! isPublished && publishStatus.indexOf( edits.status ) !== -1\n\t\t\t? messages[ edits.status ]\n\t\t\t: __( 'Updating failed.' );\n\n\t// Check if message string contains HTML. Notice text is currently only\n\t// supported as plaintext, and stripping the tags may muddle the meaning.\n\tif ( error.message && ! /<\\/?[^>]*>/.test( error.message ) ) {\n\t\tnoticeMessage = [ noticeMessage, error.message ].join( ' ' );\n\t}\n\treturn [\n\t\tnoticeMessage,\n\t\t{\n\t\t\tid: SAVE_POST_NOTICE_ID,\n\t\t},\n\t];\n}\n\n/**\n * Builds the trash fail notification arguments for dispatch.\n *\n * @param {Object} data\n *\n * @return {Array} Arguments for dispatch.\n */\nexport function getNotificationArgumentsForTrashFail( data ) {\n\treturn [\n\t\tdata.error.message && data.error.code !== 'unknown_error'\n\t\t\t? data.error.message\n\t\t\t: __( 'Trashing failed' ),\n\t\t{\n\t\t\tid: TRASH_POST_NOTICE_ID,\n\t\t},\n\t];\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { external } from '@wordpress/icons';\nimport { _x } from '@wordpress/i18n';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../types';\n\nconst viewPost: Action< BasePost > = {\n\tid: 'view-post',\n\tlabel: _x( 'View', 'verb' ),\n\tisPrimary: true,\n\ticon: external,\n\tisEligible( post ) {\n\t\treturn post.status !== 'trash';\n\t},\n\tcallback( posts, { onActionPerformed } ) {\n\t\tconst post = posts[ 0 ];\n\t\twindow.open( post?.link, '_blank' );\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nexport default viewPost;\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\nimport { __, sprintf } from '@wordpress/i18n';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { Post } from '../types';\n\nconst viewPostRevisions: Action< Post > = {\n\tid: 'view-post-revisions',\n\tcontext: 'list',\n\tlabel( items ) {\n\t\tconst revisionsCount =\n\t\t\titems[ 0 ]._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn sprintf(\n\t\t\t/* translators: %s: number of revisions */\n\t\t\t__( 'View revisions (%s)' ),\n\t\t\trevisionsCount\n\t\t);\n\t},\n\tisEligible( post ) {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst lastRevisionId =\n\t\t\tpost?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ?? null;\n\t\tconst revisionsCount =\n\t\t\tpost?._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0;\n\t\treturn !! lastRevisionId && revisionsCount > 1;\n\t},\n\tcallback( posts, { onActionPerformed } ) {\n\t\tconst post = posts[ 0 ];\n\t\tconst href = addQueryArgs( 'revision.php', {\n\t\t\trevision: post?._links?.[ 'predecessor-version' ]?.[ 0 ]?.id,\n\t\t} );\n\t\tdocument.location.href = href;\n\t\tif ( onActionPerformed ) {\n\t\t\tonActionPerformed( posts );\n\t\t}\n\t},\n};\n\nexport default viewPostRevisions;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","/**\n * Internal dependencies\n */\nimport type { SortDirection, ValidationContext } from '../types';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\treturn direction === 'asc' ? a - b : b - a;\n}\n\nfunction isValid( value: any, context?: ValidationContext ) {\n\t// TODO: this implicitely means the value is required.\n\tif ( value === '' ) {\n\t\treturn false;\n\t}\n\n\tif ( ! Number.isInteger( Number( value ) ) ) {\n\t\treturn false;\n\t}\n\n\tif ( context?.elements ) {\n\t\tconst validValues = context?.elements.map( ( f ) => f.value );\n\t\tif ( ! validValues.includes( Number( value ) ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport default {\n\tsort,\n\tisValid,\n\tEdit: 'integer',\n};\n","/**\n * Internal dependencies\n */\nimport type { SortDirection, ValidationContext } from '../types';\n\nfunction sort( valueA: any, valueB: any, direction: SortDirection ) {\n\treturn direction === 'asc'\n\t\t? valueA.localeCompare( valueB )\n\t\t: valueB.localeCompare( valueA );\n}\n\nfunction isValid( value: any, context?: ValidationContext ) {\n\tif ( context?.elements ) {\n\t\tconst validValues = context?.elements?.map( ( f ) => f.value );\n\t\tif ( ! validValues.includes( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport default {\n\tsort,\n\tisValid,\n\tEdit: 'text',\n};\n","/**\n * Internal dependencies\n */\nimport type { SortDirection, ValidationContext } from '../types';\n\nfunction sort( a: any, b: any, direction: SortDirection ) {\n\tconst timeA = new Date( a ).getTime();\n\tconst timeB = new Date( b ).getTime();\n\n\treturn direction === 'asc' ? timeA - timeB : timeB - timeA;\n}\n\nfunction isValid( value: any, context?: ValidationContext ) {\n\tif ( context?.elements ) {\n\t\tconst validValues = context?.elements.map( ( f ) => f.value );\n\t\tif ( ! validValues.includes( value ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport default {\n\tsort,\n\tisValid,\n\tEdit: 'datetime',\n};\n","/**\n * External dependencies\n */\nimport type { ComponentType } from 'react';\n\n/**\n * Internal dependencies\n */\nimport type {\n\tDataFormControlProps,\n\tField,\n\tFieldTypeDefinition,\n} from '../types';\nimport datetime from './datetime';\nimport integer from './integer';\nimport radio from './radio';\nimport select from './select';\nimport text from './text';\n\ninterface FormControls {\n\t[ key: string ]: ComponentType< DataFormControlProps< any > >;\n}\n\nconst FORM_CONTROLS: FormControls = {\n\tdatetime,\n\tinteger,\n\tradio,\n\tselect,\n\ttext,\n};\n\nexport function getControl< Item >(\n\tfield: Field< Item >,\n\tfieldTypeDefinition: FieldTypeDefinition< Item >\n) {\n\tif ( typeof field.Edit === 'function' ) {\n\t\treturn field.Edit;\n\t}\n\n\tif ( typeof field.Edit === 'string' ) {\n\t\treturn getControlByType( field.Edit );\n\t}\n\n\tif ( field.elements ) {\n\t\treturn getControlByType( 'select' );\n\t}\n\n\tif ( typeof fieldTypeDefinition.Edit === 'string' ) {\n\t\treturn getControlByType( fieldTypeDefinition.Edit );\n\t}\n\n\treturn fieldTypeDefinition.Edit;\n}\n\nexport function getControlByType( type: string ) {\n\tif ( Object.keys( FORM_CONTROLS ).includes( type ) ) {\n\t\treturn FORM_CONTROLS[ type ];\n\t}\n\n\tthrow 'Control ' + type + ' not found';\n}\n","/**\n * WordPress dependencies\n */\nimport { BaseControl, TimePicker, VisuallyHidden } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\n\nexport default function DateTime< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label } = field;\n\tconst value = field.getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | null ) => onChange( { [ id ]: newValue } ),\n\t\t[ id, onChange ]\n\t);\n\n\treturn (\n\t\t<fieldset className=\"dataviews-controls__datetime\">\n\t\t\t{ ! hideLabelFromVision && (\n\t\t\t\t<BaseControl.VisualLabel as=\"legend\">\n\t\t\t\t\t{ label }\n\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t) }\n\t\t\t{ hideLabelFromVision && (\n\t\t\t\t<VisuallyHidden as=\"legend\">{ label }</VisuallyHidden>\n\t\t\t) }\n\t\t\t<TimePicker\n\t\t\t\tcurrentTime={ value }\n\t\t\t\tonChange={ onChangeControl }\n\t\t\t\thideLabelFromVision\n\t\t\t/>\n\t\t</fieldset>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalNumberControl as NumberControl } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\n\nexport default function Integer< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, description } = field;\n\tconst value = field.getValue( { item: data } ) ?? '';\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string | undefined ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: Number( newValue ),\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\treturn (\n\t\t<NumberControl\n\t\t\tlabel={ label }\n\t\t\thelp={ description }\n\t\t\tvalue={ value }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { RadioControl } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\n\nexport default function Radio< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label } = field;\n\tconst value = field.getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: newValue,\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\tif ( field.elements ) {\n\t\treturn (\n\t\t\t<RadioControl\n\t\t\t\tlabel={ label }\n\t\t\t\tonChange={ onChangeControl }\n\t\t\t\toptions={ field.elements }\n\t\t\t\tselected={ value }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { SelectControl } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\n\nexport default function Select< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label } = field;\n\tconst value = field.getValue( { item: data } ) ?? '';\n\tconst onChangeControl = useCallback(\n\t\t( newValue: any ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: newValue,\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\tconst elements = [\n\t\t/*\n\t\t * Value can be undefined when:\n\t\t *\n\t\t * - the field is not required\n\t\t * - in bulk editing\n\t\t *\n\t\t */\n\t\t{ label: __( 'Select item' ), value: '' },\n\t\t...( field?.elements ?? [] ),\n\t];\n\n\treturn (\n\t\t<SelectControl\n\t\t\tlabel={ label }\n\t\t\tvalue={ value }\n\t\t\toptions={ elements }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { TextControl } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport type { DataFormControlProps } from '../types';\n\nexport default function Text< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n\thideLabelFromVision,\n}: DataFormControlProps< Item > ) {\n\tconst { id, label, placeholder } = field;\n\tconst value = field.getValue( { item: data } );\n\n\tconst onChangeControl = useCallback(\n\t\t( newValue: string ) =>\n\t\t\tonChange( {\n\t\t\t\t[ id ]: newValue,\n\t\t\t} ),\n\t\t[ id, onChange ]\n\t);\n\n\treturn (\n\t\t<TextControl\n\t\t\tlabel={ label }\n\t\t\tplaceholder={ placeholder }\n\t\t\tvalue={ value ?? '' }\n\t\t\tonChange={ onChangeControl }\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t/>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport getFieldTypeDefinition from './field-types';\nimport type { Field, NormalizedField } from './types';\nimport { getControl } from './dataform-controls';\n\n/**\n * Apply default values and normalize the fields config.\n *\n * @param fields Fields config.\n * @return Normalized fields config.\n */\nexport function normalizeFields< Item >(\n\tfields: Field< Item >[]\n): NormalizedField< Item >[] {\n\treturn fields.map( ( field ) => {\n\t\tconst fieldTypeDefinition = getFieldTypeDefinition( field.type );\n\n\t\tconst getValue =\n\t\t\tfield.getValue || ( ( { item } ) => ( item as any )[ field.id ] );\n\n\t\tconst sort =\n\t\t\tfield.sort ??\n\t\t\tfunction sort( a, b, direction ) {\n\t\t\t\treturn fieldTypeDefinition.sort(\n\t\t\t\t\tgetValue( { item: a } ),\n\t\t\t\t\tgetValue( { item: b } ),\n\t\t\t\t\tdirection\n\t\t\t\t);\n\t\t\t};\n\n\t\tconst isValid =\n\t\t\tfield.isValid ??\n\t\t\tfunction isValid( item, context ) {\n\t\t\t\treturn fieldTypeDefinition.isValid(\n\t\t\t\t\tgetValue( { item } ),\n\t\t\t\t\tcontext\n\t\t\t\t);\n\t\t\t};\n\n\t\tconst Edit = getControl( field, fieldTypeDefinition );\n\n\t\tconst renderFromElements = ( { item }: { item: Item } ) => {\n\t\t\tconst value = getValue( { item } );\n\t\t\treturn (\n\t\t\t\tfield?.elements?.find( ( element ) => element.value === value )\n\t\t\t\t\t?.label || getValue( { item } )\n\t\t\t);\n\t\t};\n\n\t\tconst render =\n\t\t\tfield.render || ( field.elements ? renderFromElements : getValue );\n\n\t\treturn {\n\t\t\t...field,\n\t\t\tlabel: field.label || field.id,\n\t\t\theader: field.header || field.label || field.id,\n\t\t\tgetValue,\n\t\t\trender,\n\t\t\tsort,\n\t\t\tisValid,\n\t\t\tEdit,\n\t\t\tenableHiding: field.enableHiding ?? true,\n\t\t\tenableSorting: field.enableSorting ?? true,\n\t\t};\n\t} );\n}\n","/**\n * Internal dependencies\n */\nimport type { FieldType, SortDirection, ValidationContext } from '../types';\nimport { default as integer } from './integer';\nimport { default as text } from './text';\nimport { default as datetime } from './datetime';\n\n/**\n *\n * @param {FieldType} type The field type definition to get.\n *\n * @return A field type definition.\n */\nexport default function getFieldTypeDefinition( type?: FieldType ) {\n\tif ( 'integer' === type ) {\n\t\treturn integer;\n\t}\n\n\tif ( 'text' === type ) {\n\t\treturn text;\n\t}\n\n\tif ( 'datetime' === type ) {\n\t\treturn datetime;\n\t}\n\n\treturn {\n\t\tsort: ( a: any, b: any, direction: SortDirection ) => {\n\t\t\tif ( typeof a === 'number' && typeof b === 'number' ) {\n\t\t\t\treturn direction === 'asc' ? a - b : b - a;\n\t\t\t}\n\n\t\t\treturn direction === 'asc'\n\t\t\t\t? a.localeCompare( b )\n\t\t\t\t: b.localeCompare( a );\n\t\t},\n\t\tisValid: ( value: any, context?: ValidationContext ) => {\n\t\t\tif ( context?.elements ) {\n\t\t\t\tconst validValues = context?.elements?.map( ( f ) => f.value );\n\t\t\t\tif ( ! validValues.includes( value ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\tEdit: () => null,\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalVStack as VStack,\n\t__experimentalHStack as HStack,\n\t__experimentalHeading as Heading,\n\t__experimentalSpacer as Spacer,\n\tDropdown,\n\tButton,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { normalizeFields } from '../../normalize-fields';\nimport type { DataFormProps, NormalizedField, Field } from '../../types';\n\ninterface FormFieldProps< Item > {\n\tdata: Item;\n\tfield: NormalizedField< Item >;\n\tonChange: ( value: any ) => void;\n}\n\nfunction DropdownHeader( {\n\ttitle,\n\tonClose,\n}: {\n\ttitle: string;\n\tonClose: () => void;\n} ) {\n\treturn (\n\t\t<VStack\n\t\t\tclassName=\"dataforms-layouts-panel__dropdown-header\"\n\t\t\tspacing={ 4 }\n\t\t>\n\t\t\t<HStack alignment=\"center\">\n\t\t\t\t<Heading level={ 2 } size={ 13 }>\n\t\t\t\t\t{ title }\n\t\t\t\t</Heading>\n\t\t\t\t<Spacer />\n\t\t\t\t{ onClose && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</HStack>\n\t\t</VStack>\n\t);\n}\n\nfunction FormField< Item >( {\n\tdata,\n\tfield,\n\tonChange,\n}: FormFieldProps< Item > ) {\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState< HTMLElement | null >(\n\t\tnull\n\t);\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\treturn (\n\t\t<HStack\n\t\t\tref={ setPopoverAnchor }\n\t\t\tclassName=\"dataforms-layouts-panel__field\"\n\t\t>\n\t\t\t<div className=\"dataforms-layouts-panel__field-label\">\n\t\t\t\t{ field.label }\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Dropdown\n\t\t\t\t\tcontentClassName=\"dataforms-layouts-panel__field-dropdown\"\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\ttoggleProps={ {\n\t\t\t\t\t\tsize: 'compact',\n\t\t\t\t\t\tvariant: 'tertiary',\n\t\t\t\t\t\ttooltipPosition: 'middle left',\n\t\t\t\t\t} }\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"dataforms-layouts-panel__field-control\"\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Field name.\n\t\t\t\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\t\t\t\tfield.label\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<field.render item={ data } />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<DropdownHeader\n\t\t\t\t\t\t\t\ttitle={ field.label }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<field.Edit\n\t\t\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</HStack>\n\t);\n}\n\nexport default function FormPanel< Item >( {\n\tdata,\n\tfields,\n\tform,\n\tonChange,\n}: DataFormProps< Item > ) {\n\tconst visibleFields = useMemo(\n\t\t() =>\n\t\t\tnormalizeFields(\n\t\t\t\t( form.fields ?? [] )\n\t\t\t\t\t.map( ( fieldId ) =>\n\t\t\t\t\t\tfields.find( ( { id } ) => id === fieldId )\n\t\t\t\t\t)\n\t\t\t\t\t.filter( ( field ): field is Field< Item > => !! field )\n\t\t\t),\n\t\t[ fields, form.fields ]\n\t);\n\n\treturn (\n\t\t<VStack spacing={ 2 }>\n\t\t\t{ visibleFields.map( ( field ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<FormField\n\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</VStack>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport FormRegular from './regular';\nimport FormPanel from './panel';\n\nconst FORM_LAYOUTS = [\n\t{\n\t\ttype: 'regular',\n\t\tcomponent: FormRegular,\n\t},\n\t{\n\t\ttype: 'panel',\n\t\tcomponent: FormPanel,\n\t},\n];\n\nexport function getFormLayout( type: string ) {\n\treturn FORM_LAYOUTS.find( ( layout ) => layout.type === type );\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { normalizeFields } from '../../normalize-fields';\nimport type { DataFormProps, Field } from '../../types';\n\nexport default function FormRegular< Item >( {\n\tdata,\n\tfields,\n\tform,\n\tonChange,\n}: DataFormProps< Item > ) {\n\tconst visibleFields = useMemo(\n\t\t() =>\n\t\t\tnormalizeFields(\n\t\t\t\t( form.fields ?? [] )\n\t\t\t\t\t.map( ( fieldId ) =>\n\t\t\t\t\t\tfields.find( ( { id } ) => id === fieldId )\n\t\t\t\t\t)\n\t\t\t\t\t.filter( ( field ): field is Field< Item > => !! field )\n\t\t\t),\n\t\t[ fields, form.fields ]\n\t);\n\n\treturn (\n\t\t<VStack spacing={ 4 }>\n\t\t\t{ visibleFields.map( ( field ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<field.Edit\n\t\t\t\t\t\tkey={ field.id }\n\t\t\t\t\t\tdata={ data }\n\t\t\t\t\t\tfield={ field }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</VStack>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport type { DataFormProps } from '../../types';\nimport { getFormLayout } from '../../dataforms-layouts';\n\nexport default function DataForm< Item >( {\n\tform,\n\t...props\n}: DataFormProps< Item > ) {\n\tconst layout = getFormLayout( form.type ?? 'regular' );\n\tif ( ! layout ) {\n\t\treturn null;\n\t}\n\n\treturn <layout.component form={ form } { ...props } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport type { Post, TemplatePart, Template } from '../types';\n\nexport const TEMPLATE_POST_TYPE = 'wp_template';\nexport const TEMPLATE_PART_POST_TYPE = 'wp_template_part';\nexport const TEMPLATE_ORIGINS = {\n\tcustom: 'custom',\n\ttheme: 'theme',\n\tplugin: 'plugin',\n};\n\nexport function isTemplate( post: Post ): post is Template {\n\treturn post.type === TEMPLATE_POST_TYPE;\n}\n\nexport function isTemplatePart( post: Post ): post is TemplatePart {\n\treturn post.type === TEMPLATE_PART_POST_TYPE;\n}\n\nexport function isTemplateOrTemplatePart(\n\tp: Post\n): p is Template | TemplatePart {\n\treturn p.type === TEMPLATE_POST_TYPE || p.type === TEMPLATE_PART_POST_TYPE;\n}\n\nexport function getItemTitle( item: Post ) {\n\tif ( typeof item.title === 'string' ) {\n\t\treturn decodeEntities( item.title );\n\t}\n\tif ( 'rendered' in item.title ) {\n\t\treturn decodeEntities( item.title.rendered );\n\t}\n\tif ( 'raw' in item.title ) {\n\t\treturn decodeEntities( item.title.raw );\n\t}\n\treturn '';\n}\n\n/**\n * Check if a template is removable.\n *\n * @param template The template entity to check.\n * @return Whether the template is removable.\n */\nexport function isTemplateRemovable( template: Template | TemplatePart ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t// In patterns list page we map the templates parts to a different object\n\t// than the one returned from the endpoint. This is why we need to check for\n\t// two props whether is custom or has a theme file.\n\treturn (\n\t\t[ template.source, template.source ].includes(\n\t\t\tTEMPLATE_ORIGINS.custom\n\t\t) &&\n\t\t! Boolean( template.type === 'wp_template' && template?.plugin ) &&\n\t\t! template.has_theme_file\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\nimport { getItemTitle } from '../../actions/utils';\n\nconst titleField: Field< BasePost > = {\n\ttype: 'text',\n\tid: 'title',\n\tlabel: __( 'Title' ),\n\tplaceholder: __( 'No title' ),\n\tgetValue: ( { item } ) => getItemTitle( item ),\n};\n\nexport default titleField;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\nimport { DataForm } from '@wordpress/dataviews';\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { titleField } from '../fields';\nimport type { BasePost, CoreDataError } from '../types';\nimport { getItemTitle } from './utils';\n\nconst fields = [ titleField ];\nconst formDuplicateAction = {\n\tfields: [ 'title' ],\n};\n\nconst duplicatePost: Action< BasePost > = {\n\tid: 'duplicate-post',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item, setItem ] = useState< BasePost >( {\n\t\t\t...items[ 0 ],\n\t\t\ttitle: sprintf(\n\t\t\t\t/* translators: %s: Existing template title */\n\t\t\t\t__( '%s (Copy)' ),\n\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t),\n\t\t} );\n\n\t\tconst [ isCreatingPage, setIsCreatingPage ] = useState( false );\n\t\tconst { saveEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function createPage( event: React.FormEvent ) {\n\t\t\tevent.preventDefault();\n\n\t\t\tif ( isCreatingPage ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst newItemOject = {\n\t\t\t\tstatus: 'draft',\n\t\t\t\ttitle: item.title,\n\t\t\t\tslug: item.title || __( 'No title' ),\n\t\t\t\tcomment_status: item.comment_status,\n\t\t\t\tcontent:\n\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t: item.content.raw,\n\t\t\t\texcerpt:\n\t\t\t\t\ttypeof item.excerpt === 'string'\n\t\t\t\t\t\t? item.excerpt\n\t\t\t\t\t\t: item.excerpt?.raw,\n\t\t\t\tmeta: item.meta,\n\t\t\t\tparent: item.parent,\n\t\t\t\tpassword: item.password,\n\t\t\t\ttemplate: item.template,\n\t\t\t\tformat: item.format,\n\t\t\t\tfeatured_media: item.featured_media,\n\t\t\t\tmenu_order: item.menu_order,\n\t\t\t\tping_status: item.ping_status,\n\t\t\t};\n\t\t\tconst assignablePropertiesPrefix = 'wp:action-assign-';\n\t\t\t// Get all the properties that the current user is able to assign normally author, categories, tags,\n\t\t\t// and custom taxonomies.\n\t\t\tconst assignableProperties = Object.keys( item?._links || {} )\n\t\t\t\t.filter( ( property ) =>\n\t\t\t\t\tproperty.startsWith( assignablePropertiesPrefix )\n\t\t\t\t)\n\t\t\t\t.map( ( property ) =>\n\t\t\t\t\tproperty.slice( assignablePropertiesPrefix.length )\n\t\t\t\t);\n\t\t\tassignableProperties.forEach( ( property ) => {\n\t\t\t\tif ( item.hasOwnProperty( property ) ) {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tnewItemOject[ property ] = item[ property ];\n\t\t\t\t}\n\t\t\t} );\n\t\t\tsetIsCreatingPage( true );\n\t\t\ttry {\n\t\t\t\tconst newItem = await saveEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\titem.type,\n\t\t\t\t\tnewItemOject,\n\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t);\n\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t// translators: %s: Title of the created template e.g: \"Category\".\n\t\t\t\t\t\t__( '\"%s\" successfully created.' ),\n\t\t\t\t\t\tdecodeEntities( newItem.title?.rendered || item.title )\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'duplicate-post-action',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\tonActionPerformed( [ newItem ] );\n\t\t\t\t}\n\t\t\t} catch ( error ) {\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: __( 'An error occurred while duplicating the page.' );\n\n\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t} finally {\n\t\t\t\tsetIsCreatingPage( false );\n\t\t\t\tcloseModal?.();\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ createPage }>\n\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t<DataForm\n\t\t\t\t\t\tdata={ item }\n\t\t\t\t\t\tfields={ fields }\n\t\t\t\t\t\tform={ formDuplicateAction }\n\t\t\t\t\t\tonChange={ ( changes ) =>\n\t\t\t\t\t\t\tsetItem( ( prev ) => ( {\n\t\t\t\t\t\t\t\t...prev,\n\t\t\t\t\t\t\t\t...changes,\n\t\t\t\t\t\t\t} ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack spacing={ 2 } justify=\"end\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isCreatingPage }\n\t\t\t\t\t\t\taria-disabled={ isCreatingPage }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nexport default duplicatePost;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"patterns\"];","/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.',\n\t\t'@wordpress/fields'\n\t);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@wordpress/i18n';\n// @ts-ignore\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport type { Pattern } from '../types';\n\n// Patterns.\nconst { CreatePatternModalContents, useDuplicatePatternProps } =\n\tunlock( patternsPrivateApis );\n\nconst duplicatePattern: Action< Pattern > = {\n\tid: 'duplicate-pattern',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible: ( item ) => item.type !== 'wp_template_part',\n\tmodalHeader: _x( 'Duplicate pattern', 'action label' ),\n\tRenderModal: ( { items, closeModal } ) => {\n\t\tconst [ item ] = items;\n\t\tconst duplicatedProps = useDuplicatePatternProps( {\n\t\t\tpattern: item,\n\t\t\tonSuccess: () => closeModal?.(),\n\t\t} );\n\t\treturn (\n\t\t\t<CreatePatternModalContents\n\t\t\t\tonClose={ closeModal }\n\t\t\t\tconfirmLabel={ _x( 'Duplicate', 'action label' ) }\n\t\t\t\t{ ...duplicatedProps }\n\t\t\t/>\n\t\t);\n\t},\n};\n\nexport default duplicatePattern;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\n// @ts-ignore\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport {\n\tButton,\n\tTextControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\n\nimport { unlock } from '../lock-unlock';\nimport {\n\tgetItemTitle,\n\tisTemplateRemovable,\n\tisTemplate,\n\tisTemplatePart,\n\tTEMPLATE_ORIGINS,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n} from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\n// Patterns.\nconst { PATTERN_TYPES } = unlock( patternsPrivateApis );\n\nconst renamePost: Action< PostWithPermissions > = {\n\tid: 'rename-post',\n\tlabel: __( 'Rename' ),\n\tisEligible( post ) {\n\t\tif ( post.status === 'trash' ) {\n\t\t\treturn false;\n\t\t}\n\t\t// Templates, template parts and patterns have special checks for renaming.\n\t\tif (\n\t\t\t! [\n\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t...Object.values( PATTERN_TYPES ),\n\t\t\t].includes( post.type )\n\t\t) {\n\t\t\treturn post.permissions?.update;\n\t\t}\n\n\t\t// In the case of templates, we can only rename custom templates.\n\t\tif ( isTemplate( post ) ) {\n\t\t\treturn (\n\t\t\t\tisTemplateRemovable( post ) &&\n\t\t\t\tpost.is_custom &&\n\t\t\t\tpost.permissions?.update\n\t\t\t);\n\t\t}\n\n\t\tif ( isTemplatePart( post ) ) {\n\t\t\treturn (\n\t\t\t\tpost.source === TEMPLATE_ORIGINS.custom &&\n\t\t\t\t! post?.has_theme_file &&\n\t\t\t\tpost.permissions?.update\n\t\t\t);\n\t\t}\n\n\t\treturn post.type === PATTERN_TYPES.user && post.permissions?.update;\n\t},\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ item ] = items;\n\t\tconst [ title, setTitle ] = useState( () => getItemTitle( item ) );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tuseDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\n\t\tasync function onRename( event: React.FormEvent ) {\n\t\t\tevent.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\ttitle,\n\t\t\t\t} );\n\t\t\t\t// Update state before saving rerenders the list.\n\t\t\t\tsetTitle( '' );\n\t\t\t\tcloseModal?.();\n\t\t\t\t// Persist edited entity.\n\t\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t\tcreateSuccessNotice( __( 'Name updated' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\tonActionPerformed?.( items );\n\t\t\t} catch ( error ) {\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: __( 'An error occurred while updating the name' );\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<form onSubmit={ onRename }>\n\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t);\n\t},\n};\n\nexport default renamePost;\n","/**\n * Internal dependencies\n */\nimport { normalizeFields } from './normalize-fields';\nimport type { Field, Form } from './types';\n\nexport function isItemValid< Item >(\n\titem: Item,\n\tfields: Field< Item >[],\n\tform: Form\n): boolean {\n\tconst _fields = normalizeFields(\n\t\tfields.filter( ( { id } ) => !! form.fields?.includes( id ) )\n\t);\n\treturn _fields.every( ( field ) => {\n\t\treturn field.isValid( item, { elements: field.elements } );\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport type { Field } from '@wordpress/dataviews';\nimport { __ } from '@wordpress/i18n';\n/**\n * Internal dependencies\n */\nimport type { BasePost } from '../../types';\n\nconst orderField: Field< BasePost > = {\n\ttype: 'integer',\n\tid: 'menu_order',\n\tlabel: __( 'Order' ),\n\tdescription: __( 'Determines the order of pages.' ),\n};\n\nexport default orderField;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\nimport { DataForm, isItemValid } from '@wordpress/dataviews';\nimport {\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action, RenderModalProps } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { CoreDataError, BasePost } from '../types';\nimport { orderField } from '../fields';\n\nconst fields = [ orderField ];\nconst formOrderAction = {\n\tfields: [ 'menu_order' ],\n};\n\nfunction ReorderModal( {\n\titems,\n\tcloseModal,\n\tonActionPerformed,\n}: RenderModalProps< BasePost > ) {\n\tconst [ item, setItem ] = useState( items[ 0 ] );\n\tconst orderInput = item.menu_order;\n\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\tuseDispatch( coreStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tasync function onOrder( event: React.FormEvent ) {\n\t\tevent.preventDefault();\n\n\t\tif ( ! isItemValid( item, fields, formOrderAction ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait editEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\tmenu_order: orderInput,\n\t\t\t} );\n\t\t\tcloseModal?.();\n\t\t\t// Persist edited entity.\n\t\t\tawait saveEditedEntityRecord( 'postType', item.type, item.id, {\n\t\t\t\tthrowOnError: true,\n\t\t\t} );\n\t\t\tcreateSuccessNotice( __( 'Order updated.' ), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\tonActionPerformed?.( items );\n\t\t} catch ( error ) {\n\t\t\tconst typedError = error as CoreDataError;\n\t\t\tconst errorMessage =\n\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t? typedError.message\n\t\t\t\t\t: __( 'An error occurred while updating the order' );\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t}\n\tconst isSaveDisabled = ! isItemValid( item, fields, formOrderAction );\n\treturn (\n\t\t<form onSubmit={ onOrder }>\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<div>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Determines the order of pages. Pages with the same order value are sorted alphabetically. Negative order values are supported.'\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<DataForm\n\t\t\t\t\tdata={ item }\n\t\t\t\t\tfields={ fields }\n\t\t\t\t\tform={ formOrderAction }\n\t\t\t\t\tonChange={ ( changes ) =>\n\t\t\t\t\t\tsetItem( {\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t...changes,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\tdisabled={ isSaveDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\nconst reorderPage: Action< BasePost > = {\n\tid: 'order-pages',\n\tlabel: __( 'Order' ),\n\tisEligible( { status } ) {\n\t\treturn status !== 'trash';\n\t},\n\tRenderModal: ReorderModal,\n};\n\nexport default reorderPage;\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","/**\n * Locale character mapping rules.\n */\ninterface Locale {\n  regexp: RegExp;\n  map: Record<string, string>;\n}\n\n/**\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n */\nconst SUPPORTED_LOCALE: Record<string, Locale> = {\n  tr: {\n    regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n    map: {\n      İ: \"\\u0069\",\n      I: \"\\u0131\",\n      İ: \"\\u0069\",\n    },\n  },\n  az: {\n    regexp: /\\u0130/g,\n    map: {\n      İ: \"\\u0069\",\n      I: \"\\u0131\",\n      İ: \"\\u0069\",\n    },\n  },\n  lt: {\n    regexp: /\\u0049|\\u004A|\\u012E|\\u00CC|\\u00CD|\\u0128/g,\n    map: {\n      I: \"\\u0069\\u0307\",\n      J: \"\\u006A\\u0307\",\n      Į: \"\\u012F\\u0307\",\n      Ì: \"\\u0069\\u0307\\u0300\",\n      Í: \"\\u0069\\u0307\\u0301\",\n      Ĩ: \"\\u0069\\u0307\\u0303\",\n    },\n  },\n};\n\n/**\n * Localized lower case.\n */\nexport function localeLowerCase(str: string, locale: string) {\n  const lang = SUPPORTED_LOCALE[locale.toLowerCase()];\n  if (lang) return lowerCase(str.replace(lang.regexp, (m) => lang.map[m]));\n  return lowerCase(str);\n}\n\n/**\n * Lower case as a function.\n */\nexport function lowerCase(str: string) {\n  return str.toLowerCase();\n}\n","import { lowerCase } from \"lower-case\";\n\nexport interface Options {\n  splitRegexp?: RegExp | RegExp[];\n  stripRegexp?: RegExp | RegExp[];\n  delimiter?: string;\n  transform?: (part: string, index: number, parts: string[]) => string;\n}\n\n// Support camel case (\"camelCase\" -> \"camel Case\" and \"CAMELCase\" -> \"CAMEL Case\").\nconst DEFAULT_SPLIT_REGEXP = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g];\n\n// Remove all non-word characters.\nconst DEFAULT_STRIP_REGEXP = /[^A-Z0-9]+/gi;\n\n/**\n * Normalize the string into something other libraries can manipulate easier.\n */\nexport function noCase(input: string, options: Options = {}) {\n  const {\n    splitRegexp = DEFAULT_SPLIT_REGEXP,\n    stripRegexp = DEFAULT_STRIP_REGEXP,\n    transform = lowerCase,\n    delimiter = \" \",\n  } = options;\n\n  let result = replace(\n    replace(input, splitRegexp, \"$1\\0$2\"),\n    stripRegexp,\n    \"\\0\"\n  );\n  let start = 0;\n  let end = result.length;\n\n  // Trim the delimiter from around the output string.\n  while (result.charAt(start) === \"\\0\") start++;\n  while (result.charAt(end - 1) === \"\\0\") end--;\n\n  // Transform each token independently.\n  return result.slice(start, end).split(\"\\0\").map(transform).join(delimiter);\n}\n\n/**\n * Replace `re` in the input string with the replacement value.\n */\nfunction replace(input: string, re: RegExp | RegExp[], value: string) {\n  if (re instanceof RegExp) return input.replace(re, value);\n  return re.reduce((input, re) => input.replace(re, value), input);\n}\n","import { dotCase, Options } from \"dot-case\";\n\nexport { Options };\n\nexport function paramCase(input: string, options: Options = {}) {\n  return dotCase(input, {\n    delimiter: \"-\",\n    ...options,\n  });\n}\n","import { noCase, Options } from \"no-case\";\n\nexport { Options };\n\nexport function dotCase(input: string, options: Options = {}) {\n  return noCase(input, {\n    delimiter: \".\",\n    ...options,\n  });\n}\n","\"stream\"in Blob.prototype||Object.defineProperty(Blob.prototype,\"stream\",{value(){return new Response(this).body}}),\"setBigUint64\"in DataView.prototype||Object.defineProperty(DataView.prototype,\"setBigUint64\",{value(e,n,t){const i=Number(0xffffffffn&n),r=Number(n>>32n);this.setUint32(e+(t?0:4),i,t),this.setUint32(e+(t?4:0),r,t)}});var e=e=>new DataView(new ArrayBuffer(e)),n=e=>new Uint8Array(e.buffer||e),t=e=>(new TextEncoder).encode(String(e)),i=e=>Math.min(4294967295,Number(e)),r=e=>Math.min(65535,Number(e));function f(e,i){if(void 0===i||i instanceof Date||(i=new Date(i)),e instanceof File)return{isFile:1,t:i||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:i||new Date(e.headers.get(\"Last-Modified\")||Date.now()),i:e.body};if(void 0===i)i=new Date;else if(isNaN(i))throw new Error(\"Invalid modification date.\");if(void 0===e)return{isFile:0,t:i};if(\"string\"==typeof e)return{isFile:1,t:i,i:t(e)};if(e instanceof Blob)return{isFile:1,t:i,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:i,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:i,i:n(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:i,i:o(e[Symbol.asyncIterator]())};throw new TypeError(\"Unsupported input format.\")}function o(e,n=e){return new ReadableStream({async pull(n){let t=0;for(;n.desiredSize>t;){const i=await e.next();if(!i.value){n.close();break}{const e=a(i.value);n.enqueue(e),t+=e.byteLength}}},cancel(e){n.throw?.(e)}})}function a(e){return\"string\"==typeof e?t(e):e instanceof Uint8Array?e:n(e)}function s(e,i,r){let[f,o]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[n(e),1]:[t(e),0]:[void 0,0]}(i);if(e instanceof File)return{o:d(f||t(e.name)),u:BigInt(e.size),l:o};if(e instanceof Response){const n=e.headers.get(\"content-disposition\"),i=n&&n.match(/;\\s*filename\\*?=[\"']?(.*?)[\"']?$/i),a=i&&i[1]||e.url&&new URL(e.url).pathname.split(\"/\").findLast(Boolean),s=a&&decodeURIComponent(a),u=r||+e.headers.get(\"content-length\");return{o:d(f||t(s)),u:BigInt(u),l:o}}return f=d(f,void 0!==e||void 0!==r),\"string\"==typeof e?{o:f,u:BigInt(t(e).length),l:o}:e instanceof Blob?{o:f,u:BigInt(e.size),l:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:f,u:BigInt(e.byteLength),l:o}:{o:f,u:u(e,r),l:o}}function u(e,n){return n>-1?BigInt(n):e?void 0:0n}function d(e,n=1){if(!e||e.every((c=>47===c)))throw new Error(\"The file must have a name.\");if(n)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var l=new Uint32Array(256);for(let e=0;e<256;++e){let n=e;for(let e=0;e<8;++e)n=n>>>1^(1&n&&3988292384);l[e]=n}function y(e,n=0){n^=-1;for(var t=0,i=e.length;t<i;t++)n=n>>>8^l[255&n^e[t]];return(-1^n)>>>0}function w(e,n,t=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,r=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(t,i,1),n.setUint16(t+2,r,1)}function B({o:e,l:n},t){return 8*(!n||(t??function(e){try{b.decode(e)}catch{return 0}return 1}(e)))}var b=new TextDecoder(\"utf8\",{fatal:1});function p(t,i=0){const r=e(30);return r.setUint32(0,1347093252),r.setUint32(4,754976768|i),w(t.t,r,10),r.setUint16(26,t.o.length,1),n(r)}async function*g(e){let{i:n}=e;if(\"then\"in n&&(n=await n),n instanceof Uint8Array)yield n,e.m=y(n,0),e.u=BigInt(n.length);else{e.u=0n;const t=n.getReader();for(;;){const{value:n,done:i}=await t.read();if(i)break;e.m=y(n,e.m),e.u+=BigInt(n.length),yield n}}}function I(t,r){const f=e(16+(r?8:0));return f.setUint32(0,1347094280),f.setUint32(4,t.isFile?t.m:0,1),r?(f.setBigUint64(8,t.u,1),f.setBigUint64(16,t.u,1)):(f.setUint32(8,i(t.u),1),f.setUint32(12,i(t.u),1)),n(f)}function v(t,r,f=0,o=0){const a=e(46);return a.setUint32(0,1347092738),a.setUint32(4,755182848),a.setUint16(8,2048|f),w(t.t,a,12),a.setUint32(16,t.isFile?t.m:0,1),a.setUint32(20,i(t.u),1),a.setUint32(24,i(t.u),1),a.setUint16(28,t.o.length,1),a.setUint16(30,o,1),a.setUint16(40,t.isFile?33204:16893,1),a.setUint32(42,i(r),1),n(a)}function h(t,i,r){const f=e(r);return f.setUint16(0,1,1),f.setUint16(2,r-4,1),16&r&&(f.setBigUint64(4,t.u,1),f.setBigUint64(12,t.u,1)),f.setBigUint64(r-8,i,1),n(f)}function D(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var S=e=>function(e){let n=BigInt(22),t=0n,i=0;for(const r of e){if(!r.o)throw new Error(\"Every file must have a non-empty name.\");if(void 0===r.u)throw new Error(`Missing size for file \"${(new TextDecoder).decode(r.o)}\".`);const e=r.u>=0xffffffffn,f=t>=0xffffffffn;t+=BigInt(46+r.o.length+(e&&8))+r.u,n+=BigInt(r.o.length+46+(12*f|28*e)),i||(i=e)}return(i||t>=0xffffffffn)&&(n+=BigInt(76)),n+t}(function*(e){for(const n of e)yield s(...D(n)[0])}(e));function A(e,n={}){const t={\"Content-Type\":\"application/zip\",\"Content-Disposition\":\"attachment\"};return(\"bigint\"==typeof n.length||Number.isInteger(n.length))&&n.length>0&&(t[\"Content-Length\"]=String(n.length)),n.metadata&&(t[\"Content-Length\"]=String(S(n.metadata))),new Response(N(e,n),{headers:t})}function N(t,a={}){const u=function(e){const n=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const e=await n.next();if(e.done)return e;const[t,i]=D(e.value);return{done:0,value:Object.assign(f(...i),s(...t))}},throw:n.throw?.bind(n),[Symbol.asyncIterator](){return this}}}(t);return o(async function*(t,f){const o=[];let a=0n,s=0n,u=0;for await(const e of t){const n=B(e,f.buffersAreUTF8);yield p(e,n),yield new Uint8Array(e.o),e.isFile&&(yield*g(e));const t=e.u>=0xffffffffn,i=12*(a>=0xffffffffn)|28*t;yield I(e,t),o.push(v(e,a,n,i)),o.push(e.o),i&&o.push(h(e,a,i)),t&&(a+=8n),s++,a+=BigInt(46+e.o.length)+e.u,u||(u=t)}let d=0n;for(const e of o)yield e,d+=BigInt(e.length);if(u||a>=0xffffffffn){const t=e(76);t.setUint32(0,1347094022),t.setBigUint64(4,BigInt(44),1),t.setUint32(12,755182848),t.setBigUint64(24,s,1),t.setBigUint64(32,s,1),t.setBigUint64(40,d,1),t.setBigUint64(48,a,1),t.setUint32(56,1347094023),t.setBigUint64(64,a+d,1),t.setUint32(72,1,1),yield n(t)}const l=e(22);l.setUint32(0,1347093766),l.setUint16(8,r(s),1),l.setUint16(10,r(s),1),l.setUint32(12,i(d),1),l.setUint32(16,i(a),1),yield n(l)}(u,a),u)}export{A as downloadZip,N as makeZip,S as predictLength};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blob\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst download = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z\" />\n\t</SVG>\n);\n\nexport default download;\n","/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\nimport { downloadZip } from 'client-zip';\n\n/**\n * WordPress dependencies\n */\nimport { downloadBlob } from '@wordpress/blob';\nimport { __ } from '@wordpress/i18n';\nimport { download } from '@wordpress/icons';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport type { Pattern } from '../types';\nimport { getItemTitle } from './utils';\n\nfunction getJsonFromItem( item: Pattern ) {\n\treturn JSON.stringify(\n\t\t{\n\t\t\t__file: item.type,\n\t\t\ttitle: getItemTitle( item ),\n\t\t\tcontent:\n\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t? item.content\n\t\t\t\t\t: item.content?.raw,\n\t\t\tsyncStatus: item.wp_pattern_sync_status,\n\t\t},\n\t\tnull,\n\t\t2\n\t);\n}\n\nconst exportPattern: Action< Pattern > = {\n\tid: 'export-pattern',\n\tlabel: __( 'Export as JSON' ),\n\ticon: download,\n\tsupportsBulk: true,\n\tisEligible: ( item ) => item.type === 'wp_block',\n\tcallback: async ( items ) => {\n\t\tif ( items.length === 1 ) {\n\t\t\treturn downloadBlob(\n\t\t\t\t`${ kebabCase(\n\t\t\t\t\tgetItemTitle( items[ 0 ] ) || items[ 0 ].slug\n\t\t\t\t) }.json`,\n\t\t\t\tgetJsonFromItem( items[ 0 ] ),\n\t\t\t\t'application/json'\n\t\t\t);\n\t\t}\n\t\tconst nameCount: Record< string, number > = {};\n\t\tconst filesToZip = items.map( ( item ) => {\n\t\t\tconst name = kebabCase( getItemTitle( item ) || item.slug );\n\t\t\tnameCount[ name ] = ( nameCount[ name ] || 0 ) + 1;\n\t\t\treturn {\n\t\t\t\tname: `${\n\t\t\t\t\tname +\n\t\t\t\t\t( nameCount[ name ] > 1\n\t\t\t\t\t\t? '-' + ( nameCount[ name ] - 1 )\n\t\t\t\t\t\t: '' )\n\t\t\t\t}.json`,\n\t\t\t\tlastModified: new Date(),\n\t\t\t\tinput: getJsonFromItem( item ),\n\t\t\t};\n\t\t} );\n\t\treturn downloadBlob(\n\t\t\t__( 'patterns-export' ) + '.zip',\n\t\t\tawait downloadZip( filesToZip ).blob(),\n\t\t\t'application/zip'\n\t\t);\n\t},\n};\n\nexport default exportPattern;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst backup = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z\" />\n\t</SVG>\n);\n\nexport default backup;\n","/**\n * WordPress dependencies\n */\nimport { backup } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\nconst restorePost: Action< PostWithPermissions > = {\n\tid: 'restore',\n\tlabel: __( 'Restore' ),\n\tisPrimary: true,\n\ticon: backup,\n\tsupportsBulk: true,\n\tisEligible( item ) {\n\t\treturn (\n\t\t\t! isTemplateOrTemplatePart( item ) &&\n\t\t\titem.type !== 'wp_block' &&\n\t\t\titem.status === 'trash' &&\n\t\t\titem.permissions?.update\n\t\t);\n\t},\n\tasync callback( posts, { registry, onActionPerformed } ) {\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tregistry.dispatch( noticesStore );\n\t\tconst { editEntityRecord, saveEditedEntityRecord } =\n\t\t\tregistry.dispatch( coreStore );\n\t\tawait Promise.allSettled(\n\t\t\tposts.map( ( post ) => {\n\t\t\t\treturn editEntityRecord( 'postType', post.type, post.id, {\n\t\t\t\t\tstatus: 'draft',\n\t\t\t\t} );\n\t\t\t} )\n\t\t);\n\t\tconst promiseResult = await Promise.allSettled(\n\t\t\tposts.map( ( post ) => {\n\t\t\t\treturn saveEditedEntityRecord( 'postType', post.type, post.id, {\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t} );\n\t\t\t} )\n\t\t);\n\n\t\tif ( promiseResult.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\t\tlet successMessage;\n\t\t\tif ( posts.length === 1 ) {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t__( '\"%s\" has been restored.' ),\n\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t);\n\t\t\t} else if ( posts[ 0 ].type === 'page' ) {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t__( '%d pages have been restored.' ),\n\t\t\t\t\tposts.length\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: The number of posts. */\n\t\t\t\t\t__( '%d posts have been restored.' ),\n\t\t\t\t\tposts.length\n\t\t\t\t);\n\t\t\t}\n\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tid: 'restore-post-action',\n\t\t\t} );\n\t\t\tif ( onActionPerformed ) {\n\t\t\t\tonActionPerformed( posts );\n\t\t\t}\n\t\t} else {\n\t\t\t// If there was at lease one failure.\n\t\t\tlet errorMessage;\n\t\t\t// If we were trying to move a single post to the trash.\n\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\tconst typedError = promiseResult[ 0 ] as {\n\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t};\n\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\terrorMessage = typedError.reason.message;\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while restoring the post.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// If we were trying to move multiple posts to the trash\n\t\t\t} else {\n\t\t\t\tconst errorMessages = new Set();\n\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t);\n\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\tconst typedError = failedPromise as {\n\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t};\n\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\terrorMessages.add( typedError.reason.message );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while restoring the posts.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t__( 'An error occurred while restoring the posts: %s' ),\n\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Some errors occurred while restoring the posts: %s'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t},\n};\n\nexport default restorePost;\n","/**\n * WordPress dependencies\n */\nimport { backup } from '@wordpress/icons';\nimport { dispatch, select, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\n// @ts-ignore\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetItemTitle,\n\tisTemplateOrTemplatePart,\n\tTEMPLATE_ORIGINS,\n\tTEMPLATE_POST_TYPE,\n} from './utils';\nimport type { CoreDataError, Template, TemplatePart } from '../types';\n\nconst isTemplateRevertable = (\n\ttemplateOrTemplatePart: Template | TemplatePart\n) => {\n\tif ( ! templateOrTemplatePart ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplateOrTemplatePart.source === TEMPLATE_ORIGINS.custom &&\n\t\t( Boolean( templateOrTemplatePart?.plugin ) ||\n\t\t\ttemplateOrTemplatePart?.has_theme_file )\n\t);\n};\n\n/**\n *  Copied - pasted from https://github.com/WordPress/gutenberg/blob/bf1462ad37d4637ebbf63270b9c244b23c69e2a8/packages/editor/src/store/private-actions.js#L233-L365\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nconst revertTemplate = async (\n\ttemplate: TemplatePart | Template,\n\t{ allowUndo = true } = {}\n) => {\n\tconst noticeId = 'edit-site-template-reverted';\n\tdispatch( noticesStore ).removeNotice( noticeId );\n\tif ( ! isTemplateRevertable( template ) ) {\n\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t__( 'This template is not revertable.' ),\n\t\t\t{\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t\treturn;\n\t}\n\n\ttry {\n\t\tconst templateEntityConfig = select( coreStore ).getEntityConfig(\n\t\t\t'postType',\n\t\t\ttemplate.type\n\t\t);\n\n\t\tif ( ! templateEntityConfig ) {\n\t\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t{ context: 'edit', source: template.origin }\n\t\t);\n\n\t\tconst fileTemplate = ( await apiFetch( {\n\t\t\tpath: fileTemplatePath,\n\t\t} ) ) as any;\n\t\tif ( ! fileTemplate ) {\n\t\t\tdispatch( noticesStore ).createErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst serializeBlocks = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\n\t\tconst edited = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id\n\t\t) as any;\n\n\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t// the revert in the header toolbar correctly.\n\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\ttemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t},\n\t\t\t{\n\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t}\n\t\t);\n\n\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\n\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\ttemplate.type,\n\t\t\tfileTemplate.id,\n\t\t\t{\n\t\t\t\tcontent: serializeBlocks,\n\t\t\t\tblocks,\n\t\t\t\tsource: 'theme',\n\t\t\t}\n\t\t);\n\n\t\tif ( allowUndo ) {\n\t\t\tconst undoRevert = () => {\n\t\t\t\tdispatch( coreStore ).editEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\tedited.id,\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tdispatch( noticesStore ).createSuccessNotice(\n\t\t\t\t__( 'Template reset.' ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tid: noticeId,\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t} catch ( error: any ) {\n\t\tconst errorMessage =\n\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t? error.message\n\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\n\t\tdispatch( noticesStore ).createErrorNotice( errorMessage, {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n};\n\nconst resetPostAction: Action< Template | TemplatePart > = {\n\tid: 'reset-post',\n\tlabel: __( 'Reset' ),\n\tisEligible: ( item ) => {\n\t\treturn (\n\t\t\tisTemplateOrTemplatePart( item ) &&\n\t\t\titem?.source === TEMPLATE_ORIGINS.custom &&\n\t\t\t( Boolean( item.type === 'wp_template' && item?.plugin ) ||\n\t\t\t\titem?.has_theme_file )\n\t\t);\n\t},\n\ticon: backup,\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\n\t\tconst { saveEditedEntityRecord } = useDispatch( coreStore );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst onConfirm = async () => {\n\t\t\ttry {\n\t\t\t\tfor ( const template of items ) {\n\t\t\t\t\tawait revertTemplate( template, {\n\t\t\t\t\t\tallowUndo: false,\n\t\t\t\t\t} );\n\t\t\t\t\tawait saveEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\ttemplate.id\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\titems.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: The number of items. */\n\t\t\t\t\t\t\t\t__( '%s items reset.' ),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  ),\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: 'revert-template-action',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch ( error ) {\n\t\t\t\tlet fallbackErrorMessage;\n\t\t\t\tif ( items[ 0 ].type === TEMPLATE_POST_TYPE ) {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the templates.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\tfallbackErrorMessage =\n\t\t\t\t\t\titems.length === 1\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template part.'\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the template parts.'\n\t\t\t\t\t\t\t  );\n\t\t\t\t}\n\n\t\t\t\tconst typedError = error as CoreDataError;\n\t\t\t\tconst errorMessage =\n\t\t\t\t\ttypedError.message && typedError.code !== 'unknown_error'\n\t\t\t\t\t\t? typedError.message\n\t\t\t\t\t\t: fallbackErrorMessage;\n\n\t\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t\t}\n\t\t};\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ __( 'Reset to default and clear all customizations?' ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tawait onConfirm();\n\t\t\t\t\t\t\tonActionPerformed?.( items );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nexport default resetPostAction;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst trash = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default trash;\n","/**\n * WordPress dependencies\n */\nimport { trash } from '@wordpress/icons';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\n// @ts-ignore\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport type { Action } from '@wordpress/dataviews';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetItemTitle,\n\tisTemplateOrTemplatePart,\n\tisTemplateRemovable,\n} from './utils';\nimport type { Pattern, Template, TemplatePart } from '../types';\nimport type { NoticeSettings } from '../mutation';\nimport { deletePostWithNotices } from '../mutation';\nimport { unlock } from '../lock-unlock';\n\nconst { PATTERN_TYPES } = unlock( patternsPrivateApis );\n\n// This action is used for templates, patterns and template parts.\n// Every other post type uses the similar `trashPostAction` which\n// moves the post to trash.\nconst deletePostAction: Action< Template | TemplatePart | Pattern > = {\n\tid: 'delete-post',\n\tlabel: __( 'Delete' ),\n\tisPrimary: true,\n\ticon: trash,\n\tisEligible( post ) {\n\t\tif ( isTemplateOrTemplatePart( post ) ) {\n\t\t\treturn isTemplateRemovable( post );\n\t\t}\n\t\t// We can only remove user patterns.\n\t\treturn post.type === PATTERN_TYPES.user;\n\t},\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst isResetting = items.every(\n\t\t\t( item ) => isTemplateOrTemplatePart( item ) && item?.has_theme_file\n\t\t);\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ items.length > 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: number of items to delete.\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Delete %d item?',\n\t\t\t\t\t\t\t\t\t'Delete %d items?',\n\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The template or template part's titles\n\t\t\t\t\t\t\t\t__( 'Delete \"%s\"?' ),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tconst notice: NoticeSettings<\n\t\t\t\t\t\t\t\tTemplate | TemplatePart | Pattern\n\t\t\t\t\t\t\t> = {\n\t\t\t\t\t\t\t\tsuccess: {\n\t\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\t\tgetMessage: ( item ) => {\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__( '\"%s\" deleted.' ),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdecodeEntities(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tgetBatchMessage: () => {\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? __( 'Items reset.' )\n\t\t\t\t\t\t\t\t\t\t\t\t: __( 'Items deleted.' );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\terror: {\n\t\t\t\t\t\t\t\t\tmessages: {\n\t\t\t\t\t\t\t\t\t\tgetMessage: ( error ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( error.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn [ ...error ][ 0 ];\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while reverting the item.'\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while deleting the item.'\n\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tgetBatchMessage: ( errors ) => {\n\t\t\t\t\t\t\t\t\t\t\tif ( errors.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while reverting the items.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while deleting the items.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( errors.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn isResetting\n\t\t\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ].join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t[ ...errors ].join(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t','\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t  );\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tawait deletePostWithNotices( items, notice, {\n\t\t\t\t\t\t\t\tonActionPerformed,\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Delete' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nexport default deletePostAction;\n","/**\n * WordPress dependencies\n */\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport type { CoreDataError, Post } from '../types';\n\nconst getErrorMessagesFromPromises = < T >(\n\tallSettledResults: PromiseSettledResult< T >[]\n) => {\n\tconst errorMessages = new Set< string >();\n\t// If there was at lease one failure.\n\tif ( allSettledResults.length === 1 ) {\n\t\tconst typedError = allSettledResults[ 0 ] as {\n\t\t\treason?: CoreDataError;\n\t\t};\n\t\tif ( typedError.reason?.message ) {\n\t\t\terrorMessages.add( typedError.reason.message );\n\t\t}\n\t} else {\n\t\tconst failedPromises = allSettledResults.filter(\n\t\t\t( { status } ) => status === 'rejected'\n\t\t);\n\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\tconst typedError = failedPromise as {\n\t\t\t\treason?: CoreDataError;\n\t\t\t};\n\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\terrorMessages.add( typedError.reason.message );\n\t\t\t}\n\t\t}\n\t}\n\treturn errorMessages;\n};\n\nexport type NoticeSettings< T extends Post > = {\n\tsuccess: {\n\t\tid?: string;\n\t\ttype?: string;\n\t\tmessages: {\n\t\t\tgetMessage: ( posts: T ) => string;\n\t\t\tgetBatchMessage: ( posts: T[] ) => string;\n\t\t};\n\t};\n\terror: {\n\t\tid?: string;\n\t\ttype?: string;\n\t\tmessages: {\n\t\t\tgetMessage: ( errors: Set< string > ) => string;\n\t\t\tgetBatchMessage: ( errors: Set< string > ) => string;\n\t\t};\n\t};\n};\n\nexport const deletePostWithNotices = async < T extends Post >(\n\tposts: T[],\n\tnotice: NoticeSettings< T >,\n\tcallbacks: {\n\t\tonActionPerformed?: ( posts: T[] ) => void;\n\t\tonActionError?: () => void;\n\t}\n) => {\n\tconst { createSuccessNotice, createErrorNotice } = dispatch( noticesStore );\n\tconst { deleteEntityRecord } = dispatch( coreStore );\n\tconst allSettledResults = await Promise.allSettled(\n\t\tposts.map( ( post ) => {\n\t\t\treturn deleteEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpost.type,\n\t\t\t\tpost.id,\n\t\t\t\t{ force: true },\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\t\t} )\n\t);\n\t// If all the promises were fulfilled with success.\n\tif ( allSettledResults.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\tlet successMessage;\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\tsuccessMessage = notice.success.messages.getMessage( posts[ 0 ] );\n\t\t} else {\n\t\t\tsuccessMessage = notice.success.messages.getBatchMessage( posts );\n\t\t}\n\t\tcreateSuccessNotice( successMessage, {\n\t\t\ttype: notice.success.type ?? 'snackbar',\n\t\t\tid: notice.success.id,\n\t\t} );\n\t\tcallbacks.onActionPerformed?.( posts );\n\t} else {\n\t\tconst errorMessages = getErrorMessagesFromPromises( allSettledResults );\n\t\tlet errorMessage = '';\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\terrorMessage = notice.error.messages.getMessage( errorMessages );\n\t\t} else {\n\t\t\terrorMessage =\n\t\t\t\tnotice.error.messages.getBatchMessage( errorMessages );\n\t\t}\n\n\t\tcreateErrorNotice( errorMessage, {\n\t\t\ttype: notice.error.type ?? 'snackbar',\n\t\t\tid: notice.error.id,\n\t\t} );\n\t\tcallbacks.onActionError?.();\n\t}\n};\n\nexport const editPostWithNotices = async < T extends Post >(\n\tpostsWithUpdates: {\n\t\toriginalPost: T;\n\t\tchanges: Partial< T >;\n\t}[],\n\tnotice: NoticeSettings< T >,\n\tcallbacks: {\n\t\tonActionPerformed?: ( posts: T[] ) => void;\n\t\tonActionError?: () => void;\n\t}\n) => {\n\tconst { createSuccessNotice, createErrorNotice } = dispatch( noticesStore );\n\tconst { editEntityRecord, saveEditedEntityRecord } = dispatch( coreStore );\n\tawait Promise.allSettled(\n\t\tpostsWithUpdates.map( ( post ) => {\n\t\t\treturn editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpost.originalPost.type,\n\t\t\t\tpost.originalPost.id,\n\t\t\t\t{\n\t\t\t\t\t...post.changes,\n\t\t\t\t}\n\t\t\t);\n\t\t} )\n\t);\n\tconst allSettledResults = await Promise.allSettled(\n\t\tpostsWithUpdates.map( ( post ) => {\n\t\t\treturn saveEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpost.originalPost.type,\n\t\t\t\tpost.originalPost.id,\n\t\t\t\t{\n\t\t\t\t\tthrowOnError: true,\n\t\t\t\t}\n\t\t\t);\n\t\t} )\n\t);\n\t// If all the promises were fulfilled with success.\n\tif ( allSettledResults.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\tlet successMessage;\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\tsuccessMessage = notice.success.messages.getMessage(\n\t\t\t\tpostsWithUpdates[ 0 ].originalPost\n\t\t\t);\n\t\t} else {\n\t\t\tsuccessMessage = notice.success.messages.getBatchMessage(\n\t\t\t\tpostsWithUpdates.map( ( post ) => post.originalPost )\n\t\t\t);\n\t\t}\n\t\tcreateSuccessNotice( successMessage, {\n\t\t\ttype: notice.success.type ?? 'snackbar',\n\t\t\tid: notice.success.id,\n\t\t} );\n\t\tcallbacks.onActionPerformed?.(\n\t\t\tpostsWithUpdates.map( ( post ) => post.originalPost )\n\t\t);\n\t} else {\n\t\tconst errorMessages = getErrorMessagesFromPromises( allSettledResults );\n\t\tlet errorMessage = '';\n\t\tif ( allSettledResults.length === 1 ) {\n\t\t\terrorMessage = notice.error.messages.getMessage( errorMessages );\n\t\t} else {\n\t\t\terrorMessage =\n\t\t\t\tnotice.error.messages.getBatchMessage( errorMessages );\n\t\t}\n\n\t\tcreateErrorNotice( errorMessage, {\n\t\t\ttype: notice.error.type ?? 'snackbar',\n\t\t\tid: notice.error.id,\n\t\t} );\n\t\tcallbacks.onActionError?.();\n\t}\n};\n","/**\n * WordPress dependencies\n */\nimport { trash } from '@wordpress/icons';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, _n, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useState } from '@wordpress/element';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\nconst trashPost: Action< PostWithPermissions > = {\n\tid: 'move-to-trash',\n\tlabel: __( 'Move to trash' ),\n\tisPrimary: true,\n\ticon: trash,\n\tisEligible( item ) {\n\t\tif ( isTemplateOrTemplatePart( item ) || item.type === 'wp_block' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn (\n\t\t\t!! item.status &&\n\t\t\t! [ 'auto-draft', 'trash' ].includes( item.status ) &&\n\t\t\titem.permissions?.delete\n\t\t);\n\t},\n\tsupportsBulk: true,\n\thideModalHeader: true,\n\tRenderModal: ( { items, closeModal, onActionPerformed } ) => {\n\t\tconst [ isBusy, setIsBusy ] = useState( false );\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tuseDispatch( noticesStore );\n\t\tconst { deleteEntityRecord } = useDispatch( coreStore );\n\t\treturn (\n\t\t\t<VStack spacing=\"5\">\n\t\t\t\t<Text>\n\t\t\t\t\t{ items.length === 1\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: The item's title.\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to move \"%s\" to the trash?'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t// translators: %d: The number of items (2 or more).\n\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t'Are you sure you want to move %d item to the trash ?',\n\t\t\t\t\t\t\t\t\t'Are you sure you want to move %d items to the trash ?',\n\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t  ) }\n\t\t\t\t</Text>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ closeModal }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ async () => {\n\t\t\t\t\t\t\tsetIsBusy( true );\n\t\t\t\t\t\t\tconst promiseResult = await Promise.allSettled(\n\t\t\t\t\t\t\t\titems.map( ( item ) =>\n\t\t\t\t\t\t\t\t\tdeleteEntityRecord(\n\t\t\t\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\t\t\t\titem.type,\n\t\t\t\t\t\t\t\t\t\titem.id.toString(),\n\t\t\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// If all the promises were fulfilled with success.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tpromiseResult.every(\n\t\t\t\t\t\t\t\t\t( { status } ) => status === 'fulfilled'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet successMessage;\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The item's title. */\n\t\t\t\t\t\t\t\t\t\t__( '\"%s\" moved to the trash.' ),\n\t\t\t\t\t\t\t\t\t\tgetItemTitle( items[ 0 ] )\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t/* translators: The number of items. */\n\t\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t\t'%s item moved to the trash.',\n\t\t\t\t\t\t\t\t\t\t\t'%s items moved to the trash.',\n\t\t\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\titems.length\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tid: 'move-to-trash-action',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// If there was at least one failure.\n\t\t\t\t\t\t\t\tlet errorMessage;\n\t\t\t\t\t\t\t\t// If we were trying to delete a single item.\n\t\t\t\t\t\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\t\t\t\t\t\tconst typedError = promiseResult[ 0 ] as {\n\t\t\t\t\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage =\n\t\t\t\t\t\t\t\t\t\t\ttypedError.reason.message;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the item to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// If we were trying to delete multiple items.\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconst errorMessages = new Set();\n\t\t\t\t\t\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\t\t\t\t\t\tconst typedError = failedPromise as {\n\t\t\t\t\t\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\t\t\t\t\t\terrorMessages.add(\n\t\t\t\t\t\t\t\t\t\t\t\ttypedError.reason.message\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the items to the trash.'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'An error occurred while moving the item to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Some errors occurred while moving the items to the trash: %s'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( onActionPerformed ) {\n\t\t\t\t\t\t\t\tonActionPerformed( items );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetIsBusy( false );\n\t\t\t\t\t\t\tcloseModal?.();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Trash', 'verb' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t);\n\t},\n};\n\nexport default trashPost;\n","/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport type { Action } from '@wordpress/dataviews';\nimport { trash } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getItemTitle, isTemplateOrTemplatePart } from './utils';\nimport type { CoreDataError, PostWithPermissions } from '../types';\n\nconst permanentlyDeletePost: Action< PostWithPermissions > = {\n\tid: 'permanently-delete',\n\tlabel: __( 'Permanently delete' ),\n\tsupportsBulk: true,\n\ticon: trash,\n\tisEligible( item ) {\n\t\tif ( isTemplateOrTemplatePart( item ) || item.type === 'wp_block' ) {\n\t\t\treturn false;\n\t\t}\n\t\tconst { status, permissions } = item;\n\t\treturn status === 'trash' && permissions?.delete;\n\t},\n\tasync callback( posts, { registry, onActionPerformed } ) {\n\t\tconst { createSuccessNotice, createErrorNotice } =\n\t\t\tregistry.dispatch( noticesStore );\n\t\tconst { deleteEntityRecord } = registry.dispatch( coreStore );\n\t\tconst promiseResult = await Promise.allSettled(\n\t\t\tposts.map( ( post ) => {\n\t\t\t\treturn deleteEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpost.type,\n\t\t\t\t\tpost.id,\n\t\t\t\t\t{ force: true },\n\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t);\n\t\t\t} )\n\t\t);\n\t\t// If all the promises were fulfilled with success.\n\t\tif ( promiseResult.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\t\tlet successMessage;\n\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\tsuccessMessage = sprintf(\n\t\t\t\t\t/* translators: The posts's title. */\n\t\t\t\t\t__( '\"%s\" permanently deleted.' ),\n\t\t\t\t\tgetItemTitle( posts[ 0 ] )\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tsuccessMessage = __( 'The items were permanently deleted.' );\n\t\t\t}\n\t\t\tcreateSuccessNotice( successMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tid: 'permanently-delete-post-action',\n\t\t\t} );\n\t\t\tonActionPerformed?.( posts );\n\t\t} else {\n\t\t\t// If there was at lease one failure.\n\t\t\tlet errorMessage;\n\t\t\t// If we were trying to permanently delete a single post.\n\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\tconst typedError = promiseResult[ 0 ] as {\n\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t};\n\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\terrorMessage = typedError.reason.message;\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while permanently deleting the item.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// If we were trying to permanently delete multiple posts\n\t\t\t} else {\n\t\t\t\tconst errorMessages = new Set();\n\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t);\n\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\tconst typedError = failedPromise as {\n\t\t\t\t\t\treason?: CoreDataError;\n\t\t\t\t\t};\n\t\t\t\t\tif ( typedError.reason?.message ) {\n\t\t\t\t\t\terrorMessages.add( typedError.reason.message );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while permanently deleting the items.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'An error occurred while permanently deleting the items: %s'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = sprintf(\n\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Some errors occurred while permanently deleting the items: %s'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcreateErrorNotice( errorMessage, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t}\n\t},\n};\n\nexport default permanentlyDeletePost;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * External dependencies\n */\nimport { paramCase as kebabCase } from 'change-case';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_PART_POST_TYPE } from '../../store/constants';\n\nexport const useExistingTemplateParts = () => {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords(\n\t\t\t\t'postType',\n\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t{\n\t\t\t\t\tper_page: -1,\n\t\t\t\t}\n\t\t\t),\n\t\t[]\n\t);\n};\n\n/**\n * Return a unique template part title based on\n * the given title and existing template parts.\n *\n * @param {string} title         The original template part title.\n * @param {Object} templateParts The array of template part entities.\n * @return {string} A unique template part title.\n */\nexport const getUniqueTemplatePartTitle = ( title, templateParts ) => {\n\tconst lowercaseTitle = title.toLowerCase();\n\tconst existingTitles = templateParts.map( ( templatePart ) =>\n\t\ttemplatePart.title.rendered.toLowerCase()\n\t);\n\n\tif ( ! existingTitles.includes( lowercaseTitle ) ) {\n\t\treturn title;\n\t}\n\n\tlet suffix = 2;\n\twhile ( existingTitles.includes( `${ lowercaseTitle } ${ suffix }` ) ) {\n\t\tsuffix++;\n\t}\n\n\treturn `${ title } ${ suffix }`;\n};\n\n/**\n * Get a valid slug for a template part.\n * Currently template parts only allow latin chars.\n * The fallback slug will receive suffix by default.\n *\n * @param {string} title The template part title.\n * @return {string} A valid template part slug.\n */\nexport const getCleanTemplatePartSlug = ( title ) => {\n\treturn kebabCase( title ).replace( /[^\\w-]+/g, '' ) || 'wp-custom-part';\n};\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tIcon,\n\tBaseControl,\n\tTextControl,\n\tFlex,\n\tFlexItem,\n\tFlexBlock,\n\tButton,\n\tModal,\n\t__experimentalRadioGroup as RadioGroup,\n\t__experimentalRadio as Radio,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { check } from '@wordpress/icons';\nimport { serialize } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_PART_AREA_DEFAULT_CATEGORY,\n} from '../../store/constants';\nimport {\n\tuseExistingTemplateParts,\n\tgetUniqueTemplatePartTitle,\n\tgetCleanTemplatePartSlug,\n} from './utils';\n\nexport default function CreateTemplatePartModal( {\n\tmodalTitle,\n\t...restProps\n} ) {\n\tconst defaultModalTitle = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getPostType( TEMPLATE_PART_POST_TYPE )?.labels\n\t\t\t\t?.add_new_item,\n\t\t[]\n\t);\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ modalTitle || defaultModalTitle }\n\t\t\tonRequestClose={ restProps.closeModal }\n\t\t\toverlayClassName=\"editor-create-template-part-modal\"\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<CreateTemplatePartModalContents { ...restProps } />\n\t\t</Modal>\n\t);\n}\n\nexport function CreateTemplatePartModalContents( {\n\tdefaultArea = TEMPLATE_PART_AREA_DEFAULT_CATEGORY,\n\tblocks = [],\n\tconfirmLabel = __( 'Add' ),\n\tcloseModal,\n\tonCreate,\n\tonError,\n\tdefaultTitle = '',\n} ) {\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst existingTemplateParts = useExistingTemplateParts();\n\n\tconst [ title, setTitle ] = useState( defaultTitle );\n\tconst [ area, setArea ] = useState( defaultArea );\n\tconst [ isSubmitting, setIsSubmitting ] = useState( false );\n\tconst instanceId = useInstanceId( CreateTemplatePartModal );\n\n\tconst templatePartAreas = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).__experimentalGetDefaultTemplatePartAreas(),\n\t\t[]\n\t);\n\tasync function createTemplatePart() {\n\t\tif ( ! title || isSubmitting ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tsetIsSubmitting( true );\n\t\t\tconst uniqueTitle = getUniqueTemplatePartTitle(\n\t\t\t\ttitle,\n\t\t\t\texistingTemplateParts\n\t\t\t);\n\t\t\tconst cleanSlug = getCleanTemplatePartSlug( uniqueTitle );\n\n\t\t\tconst templatePart = await saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t{\n\t\t\t\t\tslug: cleanSlug,\n\t\t\t\t\ttitle: uniqueTitle,\n\t\t\t\t\tcontent: serialize( blocks ),\n\t\t\t\t\tarea,\n\t\t\t\t},\n\t\t\t\t{ throwOnError: true }\n\t\t\t);\n\t\t\tawait onCreate( templatePart );\n\n\t\t\t// TODO: Add a success notice?\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __(\n\t\t\t\t\t\t\t'An error occurred while creating the template part.'\n\t\t\t\t\t  );\n\n\t\t\tcreateErrorNotice( errorMessage, { type: 'snackbar' } );\n\n\t\t\tonError?.();\n\t\t} finally {\n\t\t\tsetIsSubmitting( false );\n\t\t}\n\t}\n\treturn (\n\t\t<form\n\t\t\tonSubmit={ async ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tawait createTemplatePart();\n\t\t\t} }\n\t\t>\n\t\t\t<VStack spacing=\"4\">\n\t\t\t\t<TextControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\tvalue={ title }\n\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t\t<BaseControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\tid={ `editor-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\tclassName=\"editor-create-template-part-modal__area-base-control\"\n\t\t\t\t>\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\tlabel={ __( 'Area' ) }\n\t\t\t\t\t\tclassName=\"editor-create-template-part-modal__area-radio-group\"\n\t\t\t\t\t\tid={ `editor-create-template-part-modal__area-selection-${ instanceId }` }\n\t\t\t\t\t\tonChange={ setArea }\n\t\t\t\t\t\tchecked={ area }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ templatePartAreas.map(\n\t\t\t\t\t\t\t( { icon, label, area: value, description } ) => (\n\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\tkey={ label }\n\t\t\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\t\t\tclassName=\"editor-create-template-part-modal__area-radio\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Flex align=\"start\" justify=\"start\">\n\t\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ icon } />\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t\t<FlexBlock className=\"editor-create-template-part-modal__option-label\">\n\t\t\t\t\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t\t\t\t\t\t<div>{ description }</div>\n\t\t\t\t\t\t\t\t\t\t</FlexBlock>\n\n\t\t\t\t\t\t\t\t\t\t<FlexItem className=\"editor-create-template-part-modal__checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t{ area === value && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon icon={ check } />\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t\t\t</Radio>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) }\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</BaseControl>\n\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\taria-disabled={ ! title || isSubmitting }\n\t\t\t\t\t\tisBusy={ isSubmitting }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ confirmLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_ORIGINS,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n} from '../../store/constants';\n\nimport type { Post, TemplatePart, Template } from '../types';\n\nexport function isTemplate( post: Post ): post is Template {\n\treturn post.type === TEMPLATE_POST_TYPE;\n}\n\nexport function isTemplatePart( post: Post ): post is TemplatePart {\n\treturn post.type === TEMPLATE_PART_POST_TYPE;\n}\n\nexport function isTemplateOrTemplatePart(\n\tp: Post\n): p is Template | TemplatePart {\n\treturn p.type === TEMPLATE_POST_TYPE || p.type === TEMPLATE_PART_POST_TYPE;\n}\n\nexport function getItemTitle( item: Post ) {\n\tif ( typeof item.title === 'string' ) {\n\t\treturn decodeEntities( item.title );\n\t}\n\tif ( 'rendered' in item.title ) {\n\t\treturn decodeEntities( item.title.rendered );\n\t}\n\tif ( 'raw' in item.title ) {\n\t\treturn decodeEntities( item.title.raw );\n\t}\n\treturn '';\n}\n\n/**\n * Check if a template is removable.\n *\n * @param template The template entity to check.\n * @return Whether the template is removable.\n */\nexport function isTemplateRemovable( template: Template | TemplatePart ) {\n\tif ( ! template ) {\n\t\treturn false;\n\t}\n\t// In patterns list page we map the templates parts to a different object\n\t// than the one returned from the endpoint. This is why we need to check for\n\t// two props whether is custom or has a theme file.\n\treturn (\n\t\t[ template.source, template.source ].includes(\n\t\t\tTEMPLATE_ORIGINS.custom\n\t\t) &&\n\t\t! Boolean( template.type === 'wp_template' && template?.plugin ) &&\n\t\t! template.has_theme_file\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch } from '@wordpress/data';\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useMemo } from '@wordpress/element';\n// @ts-ignore\nimport { parse } from '@wordpress/blocks';\nimport type { Action } from '@wordpress/dataviews';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_PART_POST_TYPE } from '../../store/constants';\nimport { CreateTemplatePartModalContents } from '../../components/create-template-part-modal';\nimport { getItemTitle } from './utils';\nimport type { TemplatePart } from '../types';\n\nconst duplicateTemplatePart: Action< TemplatePart > = {\n\tid: 'duplicate-template-part',\n\tlabel: _x( 'Duplicate', 'action label' ),\n\tisEligible: ( item ) => item.type === TEMPLATE_PART_POST_TYPE,\n\tmodalHeader: _x( 'Duplicate template part', 'action label' ),\n\tRenderModal: ( { items, closeModal } ) => {\n\t\tconst [ item ] = items;\n\t\tconst blocks = useMemo( () => {\n\t\t\treturn (\n\t\t\t\titem.blocks ??\n\t\t\t\tparse(\n\t\t\t\t\ttypeof item.content === 'string'\n\t\t\t\t\t\t? item.content\n\t\t\t\t\t\t: item.content.raw,\n\t\t\t\t\t{\n\t\t\t\t\t\t__unstableSkipMigrationLogs: true,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t);\n\t\t}, [ item.content, item.blocks ] );\n\t\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\t\tfunction onTemplatePartSuccess() {\n\t\t\tcreateSuccessNotice(\n\t\t\t\tsprintf(\n\t\t\t\t\t// translators: %s: The new template part's title e.g. 'Call to action (copy)'.\n\t\t\t\t\t__( '\"%s\" duplicated.' ),\n\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar', id: 'edit-site-patterns-success' }\n\t\t\t);\n\t\t\tcloseModal?.();\n\t\t}\n\t\treturn (\n\t\t\t<CreateTemplatePartModalContents\n\t\t\t\tblocks={ blocks }\n\t\t\t\tdefaultArea={ item.area }\n\t\t\t\tdefaultTitle={ sprintf(\n\t\t\t\t\t/* translators: %s: Existing template part title */\n\t\t\t\t\t__( '%s (Copy)' ),\n\t\t\t\t\tgetItemTitle( item )\n\t\t\t\t) }\n\t\t\t\tonCreate={ onTemplatePartSuccess }\n\t\t\t\tonError={ closeModal }\n\t\t\t\tconfirmLabel={ _x( 'Duplicate', 'action label' ) }\n\t\t\t\tcloseModal={ closeModal }\n\t\t\t/>\n\t\t);\n\t},\n};\n\nexport default duplicateTemplatePart;\n","/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport type { Action } from '@wordpress/dataviews';\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport type { PostType } from '../types';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport {\n\tviewPost,\n\tviewPostRevisions,\n\tduplicatePost,\n\tduplicatePattern,\n\treorderPage,\n\texportPattern,\n\tpermanentlyDeletePost,\n\trestorePost,\n\ttrashPost,\n\trenamePost,\n\tresetPost,\n\tdeletePost,\n} from '@wordpress/fields';\nimport duplicateTemplatePart from '../actions/duplicate-template-part';\n\nexport function registerEntityAction< Item >(\n\tkind: string,\n\tname: string,\n\tconfig: Action< Item >\n) {\n\treturn {\n\t\ttype: 'REGISTER_ENTITY_ACTION' as const,\n\t\tkind,\n\t\tname,\n\t\tconfig,\n\t};\n}\n\nexport function unregisterEntityAction(\n\tkind: string,\n\tname: string,\n\tactionId: string\n) {\n\treturn {\n\t\ttype: 'UNREGISTER_ENTITY_ACTION' as const,\n\t\tkind,\n\t\tname,\n\t\tactionId,\n\t};\n}\n\nexport function setIsReady( kind: string, name: string ) {\n\treturn {\n\t\ttype: 'SET_IS_READY' as const,\n\t\tkind,\n\t\tname,\n\t};\n}\n\nexport const registerPostTypeActions =\n\t( postType: string ) =>\n\tasync ( { registry }: { registry: any } ) => {\n\t\tconst isReady = unlock( registry.select( editorStore ) ).isEntityReady(\n\t\t\t'postType',\n\t\t\tpostType\n\t\t);\n\t\tif ( isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\tunlock( registry.dispatch( editorStore ) ).setIsReady(\n\t\t\t'postType',\n\t\t\tpostType\n\t\t);\n\n\t\tconst postTypeConfig = ( await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getPostType( postType ) ) as PostType;\n\n\t\tconst canCreate = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: postType,\n\t\t\t} );\n\t\tconst currentTheme = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getCurrentTheme();\n\n\t\tconst actions = [\n\t\t\tpostTypeConfig.viewable ? viewPost : undefined,\n\t\t\t!! postTypeConfig?.supports?.revisions\n\t\t\t\t? viewPostRevisions\n\t\t\t\t: undefined,\n\t\t\t// @ts-ignore\n\t\t\tglobalThis.IS_GUTENBERG_PLUGIN\n\t\t\t\t? ! [ 'wp_template', 'wp_block', 'wp_template_part' ].includes(\n\t\t\t\t\t\tpostTypeConfig.slug\n\t\t\t\t  ) &&\n\t\t\t\t  canCreate &&\n\t\t\t\t  duplicatePost\n\t\t\t\t: undefined,\n\t\t\tpostTypeConfig.slug === 'wp_template_part' &&\n\t\t\tcanCreate &&\n\t\t\tcurrentTheme?.is_block_theme\n\t\t\t\t? duplicateTemplatePart\n\t\t\t\t: undefined,\n\t\t\tcanCreate && postTypeConfig.slug === 'wp_block'\n\t\t\t\t? duplicatePattern\n\t\t\t\t: undefined,\n\t\t\tpostTypeConfig.supports?.title ? renamePost : undefined,\n\t\t\tpostTypeConfig?.supports?.[ 'page-attributes' ]\n\t\t\t\t? reorderPage\n\t\t\t\t: undefined,\n\t\t\tpostTypeConfig.slug === 'wp_block' ? exportPattern : undefined,\n\t\t\trestorePost,\n\t\t\tresetPost,\n\t\t\tdeletePost,\n\t\t\ttrashPost,\n\t\t\tpermanentlyDeletePost,\n\t\t];\n\n\t\tregistry.batch( () => {\n\t\t\tactions.forEach( ( action ) => {\n\t\t\t\tif ( ! action ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tunlock( registry.dispatch( editorStore ) ).registerEntityAction(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\taction\n\t\t\t\t);\n\t\t\t} );\n\t\t} );\n\n\t\tdoAction( 'core.registerPostTypeActions', postType );\n\t};\n","/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { addQueryArgs } from '@wordpress/url';\nimport apiFetch from '@wordpress/api-fetch';\nimport { parse, __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport isTemplateRevertable from './utils/is-template-revertable';\nexport * from '../dataviews/store/private-actions';\n\n/**\n * Returns an action object used to set which template is currently being used/edited.\n *\n * @param {string} id Template Id.\n *\n * @return {Object} Action object.\n */\nexport function setCurrentTemplateId( id ) {\n\treturn {\n\t\ttype: 'SET_CURRENT_TEMPLATE_ID',\n\t\tid,\n\t};\n}\n\n/**\n * Create a block based template.\n *\n * @param {Object?} template Template to create and assign.\n */\nexport const createTemplate =\n\t( template ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst savedTemplate = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord( 'postType', 'wp_template', template );\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tselect.getCurrentPostType(),\n\t\t\t\tselect.getCurrentPostId(),\n\t\t\t\t{\n\t\t\t\t\ttemplate: savedTemplate.slug,\n\t\t\t\t}\n\t\t\t);\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createSuccessNotice(\n\t\t\t\t__( \"Custom template created. You're in template mode now.\" ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\tdispatch.setRenderingMode(\n\t\t\t\t\t\t\t\t\tselect.getEditorSettings()\n\t\t\t\t\t\t\t\t\t\t.defaultRenderingMode\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\treturn savedTemplate;\n\t};\n\n/**\n * Update the provided block types to be visible.\n *\n * @param {string[]} blockNames Names of block types to show.\n */\nexport const showBlockTypes =\n\t( blockNames ) =>\n\t( { registry } ) => {\n\t\tconst existingBlockNames =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'hiddenBlockTypes' ) ?? [];\n\n\t\tconst newBlockNames = existingBlockNames.filter(\n\t\t\t( type ) =>\n\t\t\t\t! (\n\t\t\t\t\tArray.isArray( blockNames ) ? blockNames : [ blockNames ]\n\t\t\t\t).includes( type )\n\t\t);\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'hiddenBlockTypes', newBlockNames );\n\t};\n\n/**\n * Update the provided block types to be hidden.\n *\n * @param {string[]} blockNames Names of block types to hide.\n */\nexport const hideBlockTypes =\n\t( blockNames ) =>\n\t( { registry } ) => {\n\t\tconst existingBlockNames =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'hiddenBlockTypes' ) ?? [];\n\n\t\tconst mergedBlockNames = new Set( [\n\t\t\t...existingBlockNames,\n\t\t\t...( Array.isArray( blockNames ) ? blockNames : [ blockNames ] ),\n\t\t] );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'hiddenBlockTypes', [ ...mergedBlockNames ] );\n\t};\n\n/**\n * Save entity records marked as dirty.\n *\n * @param {Object}   options                      Options for the action.\n * @param {Function} [options.onSave]             Callback when saving happens.\n * @param {object[]} [options.dirtyEntityRecords] Array of dirty entities.\n * @param {object[]} [options.entitiesToSkip]     Array of entities to skip saving.\n * @param {Function} [options.close]              Callback when the actions is called. It should be consolidated with `onSave`.\n */\nexport const saveDirtyEntities =\n\t( { onSave, dirtyEntityRecords = [], entitiesToSkip = [], close } = {} ) =>\n\t( { registry } ) => {\n\t\tconst PUBLISH_ON_SAVE_ENTITIES = [\n\t\t\t{ kind: 'postType', name: 'wp_navigation' },\n\t\t];\n\t\tconst saveNoticeId = 'site-editor-save-success';\n\t\tconst homeUrl = registry\n\t\t\t.select( coreStore )\n\t\t\t.getEntityRecord( 'root', '__unstableBase' )?.home;\n\t\tregistry.dispatch( noticesStore ).removeNotice( saveNoticeId );\n\t\tconst entitiesToSave = dirtyEntityRecords.filter(\n\t\t\t( { kind, name, key, property } ) => {\n\t\t\t\treturn ! entitiesToSkip.some(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind === kind &&\n\t\t\t\t\t\telt.name === name &&\n\t\t\t\t\t\telt.key === key &&\n\t\t\t\t\t\telt.property === property\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t\tclose?.( entitiesToSave );\n\t\tconst siteItemsToSave = [];\n\t\tconst pendingSavedRecords = [];\n\t\tentitiesToSave.forEach( ( { kind, name, key, property } ) => {\n\t\t\tif ( 'root' === kind && 'site' === name ) {\n\t\t\t\tsiteItemsToSave.push( property );\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tPUBLISH_ON_SAVE_ENTITIES.some(\n\t\t\t\t\t\t( typeToPublish ) =>\n\t\t\t\t\t\t\ttypeToPublish.kind === kind &&\n\t\t\t\t\t\t\ttypeToPublish.name === name\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.editEntityRecord( kind, name, key, {\n\t\t\t\t\t\t\tstatus: 'publish',\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tpendingSavedRecords.push(\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.saveEditedEntityRecord( kind, name, key )\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\t\tif ( siteItemsToSave.length ) {\n\t\t\tpendingSavedRecords.push(\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.__experimentalSaveSpecifiedEntityEdits(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'site',\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tsiteItemsToSave\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tregistry\n\t\t\t.dispatch( blockEditorStore )\n\t\t\t.__unstableMarkLastChangeAsPersistent();\n\t\tPromise.all( pendingSavedRecords )\n\t\t\t.then( ( values ) => {\n\t\t\t\treturn onSave ? onSave( values ) : values;\n\t\t\t} )\n\t\t\t.then( ( values ) => {\n\t\t\t\tif (\n\t\t\t\t\tvalues.some( ( value ) => typeof value === 'undefined' )\n\t\t\t\t) {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t.createErrorNotice( __( 'Saving failed.' ) );\n\t\t\t\t} else {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t\t.createSuccessNotice( __( 'Site updated.' ), {\n\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\tid: saveNoticeId,\n\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __( 'View site' ),\n\t\t\t\t\t\t\t\t\turl: homeUrl,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( error ) =>\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t`${ __( 'Saving failed.' ) } ${ error }`\n\t\t\t\t\t)\n\t\t\t);\n\t};\n\n/**\n * Reverts a template to its original theme-provided file.\n *\n * @param {Object}  template            The template to revert.\n * @param {Object}  [options]\n * @param {boolean} [options.allowUndo] Whether to allow the user to undo\n *                                      reverting the template. Default true.\n */\nexport const revertTemplate =\n\t( template, { allowUndo = true } = {} ) =>\n\tasync ( { registry } ) => {\n\t\tconst noticeId = 'edit-site-template-reverted';\n\t\tregistry.dispatch( noticesStore ).removeNotice( noticeId );\n\t\tif ( ! isTemplateRevertable( template ) ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( __( 'This template is not revertable.' ), {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst templateEntityConfig = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityConfig( 'postType', template.type );\n\n\t\t\tif ( ! templateEntityConfig ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst fileTemplatePath = addQueryArgs(\n\t\t\t\t`${ templateEntityConfig.baseURL }/${ template.id }`,\n\t\t\t\t{ context: 'edit', source: template.origin }\n\t\t\t);\n\n\t\t\tconst fileTemplate = await apiFetch( { path: fileTemplatePath } );\n\t\t\tif ( ! fileTemplate ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createErrorNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'The editor has encountered an unexpected error. Please reload.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{ type: 'snackbar' }\n\t\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst serializeBlocks = ( {\n\t\t\t\tblocks: blocksForSerialization = [],\n\t\t\t} ) => __unstableSerializeAndClean( blocksForSerialization );\n\n\t\t\tconst edited = registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\ttemplate.type,\n\t\t\t\t\ttemplate.id\n\t\t\t\t);\n\n\t\t\t// We are fixing up the undo level here to make sure we can undo\n\t\t\t// the revert in the header toolbar correctly.\n\t\t\tregistry.dispatch( coreStore ).editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\ttemplate.type,\n\t\t\t\ttemplate.id,\n\t\t\t\t{\n\t\t\t\t\tcontent: serializeBlocks, // Required to make the `undo` behave correctly.\n\t\t\t\t\tblocks: edited.blocks, // Required to revert the blocks in the editor.\n\t\t\t\t\tsource: 'custom', // required to avoid turning the editor into a dirty state\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tundoIgnore: true, // Required to merge this edit with the last undo level.\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst blocks = parse( fileTemplate?.content?.raw );\n\t\t\tregistry\n\t\t\t\t.dispatch( coreStore )\n\t\t\t\t.editEntityRecord( 'postType', template.type, fileTemplate.id, {\n\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\tblocks,\n\t\t\t\t\tsource: 'theme',\n\t\t\t\t} );\n\n\t\t\tif ( allowUndo ) {\n\t\t\t\tconst undoRevert = () => {\n\t\t\t\t\tregistry\n\t\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t\t.editEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\ttemplate.type,\n\t\t\t\t\t\t\tedited.id,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontent: serializeBlocks,\n\t\t\t\t\t\t\t\tblocks: edited.blocks,\n\t\t\t\t\t\t\t\tsource: 'custom',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t};\n\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( __( 'Template reset.' ), {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: noticeId,\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\t\tonClick: undoRevert,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t} );\n\t\t\t}\n\t\t} catch ( error ) {\n\t\t\tconst errorMessage =\n\t\t\t\terror.message && error.code !== 'unknown_error'\n\t\t\t\t\t? error.message\n\t\t\t\t\t: __( 'Template revert failed. Please reload.' );\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n\n/**\n * Action that removes an array of templates, template parts or patterns.\n *\n * @param {Array} items An array of template,template part or pattern objects to remove.\n */\nexport const removeTemplates =\n\t( items ) =>\n\tasync ( { registry } ) => {\n\t\tconst isResetting = items.every( ( item ) => item?.has_theme_file );\n\n\t\tconst promiseResult = await Promise.allSettled(\n\t\t\titems.map( ( item ) => {\n\t\t\t\treturn registry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.deleteEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\titem.type,\n\t\t\t\t\t\titem.id,\n\t\t\t\t\t\t{ force: true },\n\t\t\t\t\t\t{ throwOnError: true }\n\t\t\t\t\t);\n\t\t\t} )\n\t\t);\n\n\t\t// If all the promises were fulfilled with sucess.\n\t\tif ( promiseResult.every( ( { status } ) => status === 'fulfilled' ) ) {\n\t\t\tlet successMessage;\n\n\t\t\tif ( items.length === 1 ) {\n\t\t\t\t// Depending on how the entity was retrieved its title might be\n\t\t\t\t// an object or simple string.\n\t\t\t\tlet title;\n\t\t\t\tif ( typeof items[ 0 ].title === 'string' ) {\n\t\t\t\t\ttitle = items[ 0 ].title;\n\t\t\t\t} else if ( typeof items[ 0 ].title?.rendered === 'string' ) {\n\t\t\t\t\ttitle = items[ 0 ].title?.rendered;\n\t\t\t\t} else if ( typeof items[ 0 ].title?.raw === 'string' ) {\n\t\t\t\t\ttitle = items[ 0 ].title?.raw;\n\t\t\t\t}\n\t\t\t\tsuccessMessage = isResetting\n\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t__( '\"%s\" reset.' ),\n\t\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t  )\n\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t/* translators: The template/part's name. */\n\t\t\t\t\t\t\t__( '\"%s\" deleted.' ),\n\t\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t  );\n\t\t\t} else {\n\t\t\t\tsuccessMessage = isResetting\n\t\t\t\t\t? __( 'Items reset.' )\n\t\t\t\t\t: __( 'Items deleted.' );\n\t\t\t}\n\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createSuccessNotice( successMessage, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tid: 'editor-template-deleted-success',\n\t\t\t\t} );\n\t\t} else {\n\t\t\t// If there was at lease one failure.\n\t\t\tlet errorMessage;\n\t\t\t// If we were trying to delete a single template.\n\t\t\tif ( promiseResult.length === 1 ) {\n\t\t\t\tif ( promiseResult[ 0 ].reason?.message ) {\n\t\t\t\t\terrorMessage = promiseResult[ 0 ].reason.message;\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = isResetting\n\t\t\t\t\t\t? __( 'An error occurred while reverting the item.' )\n\t\t\t\t\t\t: __( 'An error occurred while deleting the item.' );\n\t\t\t\t}\n\t\t\t\t// If we were trying to delete a multiple templates\n\t\t\t} else {\n\t\t\t\tconst errorMessages = new Set();\n\t\t\t\tconst failedPromises = promiseResult.filter(\n\t\t\t\t\t( { status } ) => status === 'rejected'\n\t\t\t\t);\n\t\t\t\tfor ( const failedPromise of failedPromises ) {\n\t\t\t\t\tif ( failedPromise.reason?.message ) {\n\t\t\t\t\t\terrorMessages.add( failedPromise.reason.message );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( errorMessages.size === 0 ) {\n\t\t\t\t\terrorMessage = __(\n\t\t\t\t\t\t'An error occurred while deleting the items.'\n\t\t\t\t\t);\n\t\t\t\t} else if ( errorMessages.size === 1 ) {\n\t\t\t\t\terrorMessage = isResetting\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: an error message */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'An error occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ][ 0 ]\n\t\t\t\t\t\t  );\n\t\t\t\t} else {\n\t\t\t\t\terrorMessage = isResetting\n\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while reverting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: a list of comma separated error messages */\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Some errors occurred while deleting the items: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[ ...errorMessages ].join( ',' )\n\t\t\t\t\t\t  );\n\t\t\t\t}\n\t\t\t}\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice( errorMessage, { type: 'snackbar' } );\n\t\t}\n\t};\n","/**\n * Internal dependencies\n */\nimport { TEMPLATE_ORIGINS } from '../constants';\n\n// Copy of the function from packages/edit-site/src/utils/is-template-revertable.js\n\n/**\n * Check if a template or template part is revertable to its original theme-provided file.\n *\n * @param {Object} templateOrTemplatePart The entity to check.\n * @return {boolean} Whether the entity is revertable.\n */\nexport default function isTemplateRevertable( templateOrTemplatePart ) {\n\tif ( ! templateOrTemplatePart ) {\n\t\treturn false;\n\t}\n\n\treturn (\n\t\ttemplateOrTemplatePart.source === TEMPLATE_ORIGINS.custom &&\n\t\t( Boolean( templateOrTemplatePart?.plugin ) ||\n\t\t\ttemplateOrTemplatePart?.has_theme_file )\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbol = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbol;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst navigation = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\n\t</SVG>\n);\n\nexport default navigation;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst page = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z\" />\n\t\t<Path d=\"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z\" />\n\t</SVG>\n);\n\nexport default page;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst verse = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z\" />\n\t</SVG>\n);\n\nexport default verse;\n","/**\n * Internal dependencies\n */\nimport type { State } from './reducer';\n\nconst EMPTY_ARRAY = [] as [];\n\nexport function getEntityActions( state: State, kind: string, name: string ) {\n\treturn state.actions[ kind ]?.[ name ] ?? EMPTY_ARRAY;\n}\n\nexport function isEntityReady( state: State, kind: string, name: string ) {\n\treturn state.isReady[ kind ]?.[ name ];\n}\n","/**\n * External dependencies\n */\nimport fastDeepEqual from 'fast-deep-equal';\n\n/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { createSelector, createRegistrySelector } from '@wordpress/data';\nimport {\n\tlayout,\n\tsymbol,\n\tnavigation,\n\tpage as pageIcon,\n\tverse,\n} from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetRenderingMode,\n\tgetCurrentPost,\n\t__experimentalGetDefaultTemplatePartAreas,\n} from './selectors';\nimport {\n\tgetEntityActions as _getEntityActions,\n\tisEntityReady as _isEntityReady,\n} from '../dataviews/store/private-selectors';\n\nconst EMPTY_INSERTION_POINT = {\n\trootClientId: undefined,\n\tinsertionIndex: undefined,\n\tfilterValue: undefined,\n};\n\n/**\n * Get the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport const getInserter = createRegistrySelector( ( select ) =>\n\tcreateSelector(\n\t\t( state ) => {\n\t\t\tif ( typeof state.blockInserterPanel === 'object' ) {\n\t\t\t\treturn state.blockInserterPanel;\n\t\t\t}\n\n\t\t\tif ( getRenderingMode( state ) === 'template-locked' ) {\n\t\t\t\tconst [ postContentClientId ] =\n\t\t\t\t\tselect( blockEditorStore ).getBlocksByName(\n\t\t\t\t\t\t'core/post-content'\n\t\t\t\t\t);\n\t\t\t\tif ( postContentClientId ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\trootClientId: postContentClientId,\n\t\t\t\t\t\tinsertionIndex: undefined,\n\t\t\t\t\t\tfilterValue: undefined,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn EMPTY_INSERTION_POINT;\n\t\t},\n\t\t( state ) => {\n\t\t\tconst [ postContentClientId ] =\n\t\t\t\tselect( blockEditorStore ).getBlocksByName(\n\t\t\t\t\t'core/post-content'\n\t\t\t\t);\n\t\t\treturn [\n\t\t\t\tstate.blockInserterPanel,\n\t\t\t\tgetRenderingMode( state ),\n\t\t\t\tpostContentClientId,\n\t\t\t];\n\t\t}\n\t)\n);\n\nexport function getListViewToggleRef( state ) {\n\treturn state.listViewToggleRef;\n}\nexport function getInserterSidebarToggleRef( state ) {\n\treturn state.inserterSidebarToggleRef;\n}\nconst CARD_ICONS = {\n\twp_block: symbol,\n\twp_navigation: navigation,\n\tpage: pageIcon,\n\tpost: verse,\n};\n\nexport const getPostIcon = createRegistrySelector(\n\t( select ) => ( state, postType, options ) => {\n\t\t{\n\t\t\tif (\n\t\t\t\tpostType === 'wp_template_part' ||\n\t\t\t\tpostType === 'wp_template'\n\t\t\t) {\n\t\t\t\treturn (\n\t\t\t\t\t__experimentalGetDefaultTemplatePartAreas( state ).find(\n\t\t\t\t\t\t( item ) => options.area === item.area\n\t\t\t\t\t)?.icon || layout\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( CARD_ICONS[ postType ] ) {\n\t\t\t\treturn CARD_ICONS[ postType ];\n\t\t\t}\n\t\t\tconst postTypeEntity = select( coreStore ).getPostType( postType );\n\t\t\t// `icon` is the `menu_icon` property of a post type. We\n\t\t\t// only handle `dashicons` for now, even if the `menu_icon`\n\t\t\t// also supports urls and svg as values.\n\t\t\tif (\n\t\t\t\ttypeof postTypeEntity?.icon === 'string' &&\n\t\t\t\tpostTypeEntity.icon.startsWith( 'dashicons-' )\n\t\t\t) {\n\t\t\t\treturn postTypeEntity.icon.slice( 10 );\n\t\t\t}\n\t\t\treturn pageIcon;\n\t\t}\n\t}\n);\n\n/**\n * Returns true if there are unsaved changes to the\n * post's meta fields, and false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {string} postType The post type of the post.\n * @param {number} postId   The ID of the post.\n *\n * @return {boolean} Whether there are edits or not in the meta fields of the relevant post.\n */\nexport const hasPostMetaChanges = createRegistrySelector(\n\t( select ) => ( state, postType, postId ) => {\n\t\tconst { type: currentPostType, id: currentPostId } =\n\t\t\tgetCurrentPost( state );\n\t\t// If no postType or postId is passed, use the current post.\n\t\tconst edits = select( coreStore ).getEntityRecordNonTransientEdits(\n\t\t\t'postType',\n\t\t\tpostType || currentPostType,\n\t\t\tpostId || currentPostId\n\t\t);\n\n\t\tif ( ! edits?.meta ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Compare if anything apart from `footnotes` has changed.\n\t\tconst originalPostMeta = select( coreStore ).getEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType || currentPostType,\n\t\t\tpostId || currentPostId\n\t\t)?.meta;\n\n\t\treturn ! fastDeepEqual(\n\t\t\t{ ...originalPostMeta, footnotes: undefined },\n\t\t\t{ ...edits.meta, footnotes: undefined }\n\t\t);\n\t}\n);\n\nexport function getEntityActions( state, ...args ) {\n\treturn _getEntityActions( state.dataviews, ...args );\n}\n\nexport function isEntityReady( state, ...args ) {\n\treturn _isEntityReady( state.dataviews, ...args );\n}\n\n/**\n * Similar to getBlocksByName in @wordpress/block-editor, but only returns the top-most\n * blocks that aren't descendants of the query block.\n *\n * @param {Object}       state      Global application state.\n * @param {Array|string} blockNames Block names of the blocks to retrieve.\n *\n * @return {Array} Block client IDs.\n */\nexport const getPostBlocksByName = createRegistrySelector( ( select ) =>\n\tcreateSelector(\n\t\t( state, blockNames ) => {\n\t\t\tblockNames = Array.isArray( blockNames )\n\t\t\t\t? blockNames\n\t\t\t\t: [ blockNames ];\n\t\t\tconst { getBlocksByName, getBlockParents, getBlockName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn getBlocksByName( blockNames ).filter( ( clientId ) =>\n\t\t\t\tgetBlockParents( clientId ).every( ( parentClientId ) => {\n\t\t\t\t\tconst parentBlockName = getBlockName( parentClientId );\n\t\t\t\t\treturn (\n\t\t\t\t\t\t// Ignore descendents of the query block.\n\t\t\t\t\t\tparentBlockName !== 'core/query' &&\n\t\t\t\t\t\t// Enable only the top-most block.\n\t\t\t\t\t\t! blockNames.includes( parentBlockName )\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\t() => [ select( blockEditorStore ).getBlocks() ]\n\t)\n);\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport * as privateActions from './private-actions';\nimport * as privateSelectors from './private-selectors';\nimport { STORE_NAME } from './constants';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Post editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n};\n\n/**\n * Store definition for the editor namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\t...storeConfig,\n} );\n\nregister( store );\nunlock( store ).registerPrivateActions( privateActions );\nunlock( store ).registerPrivateSelectors( privateSelectors );\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/** @typedef {import('@wordpress/components').WPCompleter} WPCompleter */\n\nexport function getUserLabel( user ) {\n\tconst avatar =\n\t\tuser.avatar_urls && user.avatar_urls[ 24 ] ? (\n\t\t\t<img\n\t\t\t\tclassName=\"editor-autocompleters__user-avatar\"\n\t\t\t\talt=\"\"\n\t\t\t\tsrc={ user.avatar_urls[ 24 ] }\n\t\t\t/>\n\t\t) : (\n\t\t\t<span className=\"editor-autocompleters__no-avatar\"></span>\n\t\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ avatar }\n\t\t\t<span className=\"editor-autocompleters__user-name\">\n\t\t\t\t{ user.name }\n\t\t\t</span>\n\t\t\t<span className=\"editor-autocompleters__user-slug\">\n\t\t\t\t{ user.slug }\n\t\t\t</span>\n\t\t</>\n\t);\n}\n\n/**\n * A user mentions completer.\n *\n * @type {WPCompleter}\n */\nexport default {\n\tname: 'users',\n\tclassName: 'editor-autocompleters__user',\n\ttriggerPrefix: '@',\n\n\tuseItems( filterValue ) {\n\t\tconst users = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst { getUsers } = select( coreStore );\n\t\t\t\treturn getUsers( {\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t\tsearch: encodeURIComponent( filterValue ),\n\t\t\t\t} );\n\t\t\t},\n\t\t\t[ filterValue ]\n\t\t);\n\n\t\tconst options = useMemo(\n\t\t\t() =>\n\t\t\t\tusers\n\t\t\t\t\t? users.map( ( user ) => ( {\n\t\t\t\t\t\t\tkey: `user-${ user.slug }`,\n\t\t\t\t\t\t\tvalue: user,\n\t\t\t\t\t\t\tlabel: getUserLabel( user ),\n\t\t\t\t\t  } ) )\n\t\t\t\t\t: [],\n\t\t\t[ users ]\n\t\t);\n\n\t\treturn [ options ];\n\t},\n\n\tgetOptionCompletion( user ) {\n\t\treturn `@${ user.slug }`;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\n\n/** @typedef {import('@wordpress/compose').WPHigherOrderComponent} WPHigherOrderComponent */\n/** @typedef {import('@wordpress/blocks').WPBlockSettings} WPBlockSettings */\n\n/**\n * Object whose keys are the names of block attributes, where each value\n * represents the meta key to which the block attribute is intended to save.\n *\n * @see https://developer.wordpress.org/reference/functions/register_meta/\n *\n * @typedef {Object<string,string>} WPMetaAttributeMapping\n */\n\n/**\n * Given a mapping of attribute names (meta source attributes) to their\n * associated meta key, returns a higher order component that overrides its\n * `attributes` and `setAttributes` props to sync any changes with the edited\n * post's meta keys.\n *\n * @param {WPMetaAttributeMapping} metaAttributes Meta attribute mapping.\n *\n * @return {WPHigherOrderComponent} Higher-order component.\n */\nconst createWithMetaAttributeSource = ( metaAttributes ) =>\n\tcreateHigherOrderComponent(\n\t\t( BlockEdit ) =>\n\t\t\t( { attributes, setAttributes, ...props } ) => {\n\t\t\t\tconst postType = useSelect(\n\t\t\t\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tconst [ meta, setMeta ] = useEntityProp(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\t'meta'\n\t\t\t\t);\n\n\t\t\t\tconst mergedAttributes = useMemo(\n\t\t\t\t\t() => ( {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t...Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries( metaAttributes ).map(\n\t\t\t\t\t\t\t\t( [ attributeKey, metaKey ] ) => [\n\t\t\t\t\t\t\t\t\tattributeKey,\n\t\t\t\t\t\t\t\t\tmeta[ metaKey ],\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t} ),\n\t\t\t\t\t[ attributes, meta ]\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<BlockEdit\n\t\t\t\t\t\tattributes={ mergedAttributes }\n\t\t\t\t\t\tsetAttributes={ ( nextAttributes ) => {\n\t\t\t\t\t\t\tconst nextMeta = Object.fromEntries(\n\t\t\t\t\t\t\t\tObject.entries( nextAttributes ?? {} )\n\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t// Filter to intersection of keys between the updated\n\t\t\t\t\t\t\t\t\t\t// attributes and those with an associated meta key.\n\t\t\t\t\t\t\t\t\t\t( [ key ] ) => key in metaAttributes\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map( ( [ attributeKey, value ] ) => [\n\t\t\t\t\t\t\t\t\t\t// Rename the keys to the expected meta key name.\n\t\t\t\t\t\t\t\t\t\tmetaAttributes[ attributeKey ],\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t] )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( Object.entries( nextMeta ).length ) {\n\t\t\t\t\t\t\t\tsetMeta( nextMeta );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetAttributes( nextAttributes );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t'withMetaAttributeSource'\n\t);\n\n/**\n * Filters a registered block's settings to enhance a block's `edit` component\n * to upgrade meta-sourced attributes to use the post's meta entity property.\n *\n * @param {WPBlockSettings} settings Registered block settings.\n *\n * @return {WPBlockSettings} Filtered block settings.\n */\nfunction shimAttributeSource( settings ) {\n\t/** @type {WPMetaAttributeMapping} */\n\tconst metaAttributes = Object.fromEntries(\n\t\tObject.entries( settings.attributes ?? {} )\n\t\t\t.filter( ( [ , { source } ] ) => source === 'meta' )\n\t\t\t.map( ( [ attributeKey, { meta } ] ) => [ attributeKey, meta ] )\n\t);\n\tif ( Object.entries( metaAttributes ).length ) {\n\t\tsettings.edit = createWithMetaAttributeSource( metaAttributes )(\n\t\t\tsettings.edit\n\t\t);\n\t}\n\n\treturn settings;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/editor/custom-sources-backwards-compatibility/shim-attribute-source',\n\tshimAttributeSource\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { userAutocompleter } from '../components';\n\nfunction setDefaultCompleters( completers = [] ) {\n\t// Provide copies so filters may directly modify them.\n\tcompleters.push( { ...userAutocompleter } );\n\n\treturn completers;\n}\n\naddFilter(\n\t'editor.Autocomplete.completers',\n\t'editor/autocompleters/set-default-completers',\n\tsetDefaultCompleters\n);\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { MediaUpload } from '@wordpress/media-utils';\n\naddFilter(\n\t'editor.MediaUpload',\n\t'core/editor/components/media-upload',\n\t() => MediaUpload\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useBlockEditingMode } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { getBlockBindingsSource } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\nimport { unlock } from '../lock-unlock';\n\n/** @typedef {import('@wordpress/blocks').WPBlockSettings} WPBlockSettings */\n\nconst {\n\tPatternOverridesControls,\n\tResetOverridesControl,\n\tPatternOverridesBlockControls,\n\tPATTERN_TYPES,\n\tPARTIAL_SYNCING_SUPPORTED_BLOCKS,\n\tPATTERN_SYNC_TYPES,\n} = unlock( patternsPrivateApis );\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning a partial syncing controls to supported blocks in the pattern editor.\n * Currently, only the `core/paragraph` block is supported.\n *\n * @param {Component} BlockEdit Original component.\n *\n * @return {Component} Wrapped component.\n */\nconst withPatternOverrideControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst isSupportedBlock =\n\t\t\t!! PARTIAL_SYNCING_SUPPORTED_BLOCKS[ props.name ];\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit key=\"edit\" { ...props } />\n\t\t\t\t{ props.isSelected && isSupportedBlock && (\n\t\t\t\t\t<ControlsWithStoreSubscription { ...props } />\n\t\t\t\t) }\n\t\t\t\t{ isSupportedBlock && <PatternOverridesBlockControls /> }\n\t\t\t</>\n\t\t);\n\t},\n\t'withPatternOverrideControls'\n);\n\n// Split into a separate component to avoid a store subscription\n// on every block.\nfunction ControlsWithStoreSubscription( props ) {\n\tconst blockEditingMode = useBlockEditingMode();\n\tconst { hasPatternOverridesSource, isEditingSyncedPattern } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\n\t\t\treturn {\n\t\t\t\t// For editing link to the site editor if the theme and user permissions support it.\n\t\t\t\thasPatternOverridesSource: !! getBlockBindingsSource(\n\t\t\t\t\t'core/pattern-overrides'\n\t\t\t\t),\n\t\t\t\tisEditingSyncedPattern:\n\t\t\t\t\tgetCurrentPostType() === PATTERN_TYPES.user &&\n\t\t\t\t\tgetEditedPostAttribute( 'meta' )?.wp_pattern_sync_status !==\n\t\t\t\t\t\tPATTERN_SYNC_TYPES.unsynced &&\n\t\t\t\t\tgetEditedPostAttribute( 'wp_pattern_sync_status' ) !==\n\t\t\t\t\t\tPATTERN_SYNC_TYPES.unsynced,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst bindings = props.attributes.metadata?.bindings;\n\tconst hasPatternBindings =\n\t\t!! bindings &&\n\t\tObject.values( bindings ).some(\n\t\t\t( binding ) => binding.source === 'core/pattern-overrides'\n\t\t);\n\n\tconst shouldShowPatternOverridesControls =\n\t\tisEditingSyncedPattern && blockEditingMode === 'default';\n\tconst shouldShowResetOverridesControl =\n\t\t! isEditingSyncedPattern &&\n\t\t!! props.attributes.metadata?.name &&\n\t\tblockEditingMode !== 'disabled' &&\n\t\thasPatternBindings;\n\n\tif ( ! hasPatternOverridesSource ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ shouldShowPatternOverridesControls && (\n\t\t\t\t<PatternOverridesControls { ...props } />\n\t\t\t) }\n\t\t\t{ shouldShowResetOverridesControl && (\n\t\t\t\t<ResetOverridesControl { ...props } />\n\t\t\t) }\n\t\t</>\n\t);\n}\n\naddFilter(\n\t'editor.BlockEdit',\n\t'core/editor/with-pattern-override-controls',\n\twithPatternOverrideControls\n);\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z\" />\n\t</SVG>\n);\n\nexport default starFilled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst starEmpty = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z\"\n\t\t\tclipRule=\"evenodd\"\n\t\t/>\n\t</SVG>\n);\n\nexport default starEmpty;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"viewport\"];","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\n\nexport function normalizeComplementaryAreaScope( scope ) {\n\tif ( [ 'core/edit-post', 'core/edit-site' ].includes( scope ) ) {\n\t\tdeprecated( `${ scope } interface scope`, {\n\t\t\talternative: 'core interface scope',\n\t\t\thint: 'core/edit-post and core/edit-site are merging.',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'core';\n\t}\n\n\treturn scope;\n}\n\nexport function normalizeComplementaryAreaName( scope, name ) {\n\tif ( scope === 'core' && name === 'edit-site/template' ) {\n\t\tdeprecated( `edit-site/template sidebar`, {\n\t\t\talternative: 'edit-post/document',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'edit-post/document';\n\t}\n\n\tif ( scope === 'core' && name === 'edit-site/block-inspector' ) {\n\t\tdeprecated( `edit-site/block-inspector sidebar`, {\n\t\t\talternative: 'edit-post/block',\n\t\t\tversion: '6.6',\n\t\t} );\n\t\treturn 'edit-post/block';\n\t}\n\n\treturn name;\n}\n","/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tnormalizeComplementaryAreaScope,\n\tnormalizeComplementaryAreaName,\n} from './deprecated';\n\n/**\n * Set a default complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n *\n * @return {Object} Action object.\n */\nexport const setDefaultComplementaryArea = ( scope, area ) => {\n\tscope = normalizeComplementaryAreaScope( scope );\n\tarea = normalizeComplementaryAreaName( scope, area );\n\treturn {\n\t\ttype: 'SET_DEFAULT_COMPLEMENTARY_AREA',\n\t\tscope,\n\t\tarea,\n\t};\n};\n\n/**\n * Enable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n * @param {string} area  Area identifier.\n */\nexport const enableComplementaryArea =\n\t( scope, area ) =>\n\t( { registry, dispatch } ) => {\n\t\t// Return early if there's no area.\n\t\tif ( ! area ) {\n\t\t\treturn;\n\t\t}\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tarea = normalizeComplementaryAreaName( scope, area );\n\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( ! isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', true );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'ENABLE_COMPLEMENTARY_AREA',\n\t\t\tscope,\n\t\t\tarea,\n\t\t} );\n\t};\n\n/**\n * Disable the complementary area.\n *\n * @param {string} scope Complementary area scope.\n */\nexport const disableComplementaryArea =\n\t( scope ) =>\n\t( { registry } ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isComplementaryAreaVisible = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'isComplementaryAreaVisible' );\n\n\t\tif ( isComplementaryAreaVisible ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( preferencesStore )\n\t\t\t\t.set( scope, 'isComplementaryAreaVisible', false );\n\t\t}\n\t};\n\n/**\n * Pins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n *\n * @return {Object} Action object.\n */\nexport const pinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\t// The item is already pinned, there's nothing to do.\n\t\tif ( pinnedItems?.[ item ] === true ) {\n\t\t\treturn;\n\t\t}\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: true,\n\t\t} );\n\t};\n\n/**\n * Unpins an item.\n *\n * @param {string} scope Item scope.\n * @param {string} item  Item identifier.\n */\nexport const unpinItem =\n\t( scope, item ) =>\n\t( { registry } ) => {\n\t\t// Return early if there's no item.\n\t\tif ( ! item ) {\n\t\t\treturn;\n\t\t}\n\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = registry\n\t\t\t.select( preferencesStore )\n\t\t\t.get( scope, 'pinnedItems' );\n\n\t\tregistry.dispatch( preferencesStore ).set( scope, 'pinnedItems', {\n\t\t\t...pinnedItems,\n\t\t\t[ item ]: false,\n\t\t} );\n\t};\n\n/**\n * Returns an action object used in signalling that a feature should be toggled.\n *\n * @param {string} scope       The feature scope (e.g. core/edit-post).\n * @param {string} featureName The feature name.\n */\nexport function toggleFeature( scope, featureName ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).toggleFeature`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).toggle`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).toggle( scope, featureName );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a feature should be set to\n * a true or false value\n *\n * @param {string}  scope       The feature scope (e.g. core/edit-post).\n * @param {string}  featureName The feature name.\n * @param {boolean} value       The value to set.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureValue( scope, featureName, value ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureValue`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).set`,\n\t\t} );\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( scope, featureName, !! value );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that defaults should be set for features.\n *\n * @param {string}                  scope    The feature scope (e.g. core/edit-post).\n * @param {Object<string, boolean>} defaults A key/value map of feature names to values.\n *\n * @return {Object} Action object.\n */\nexport function setFeatureDefaults( scope, defaults ) {\n\treturn function ( { registry } ) {\n\t\tdeprecated( `dispatch( 'core/interface' ).setFeatureDefaults`, {\n\t\t\tsince: '6.0',\n\t\t\talternative: `dispatch( 'core/preferences' ).setDefaults`,\n\t\t} );\n\n\t\tregistry.dispatch( preferencesStore ).setDefaults( scope, defaults );\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user opened a modal.\n *\n * @param {string} name A string that uniquely identifies the modal.\n *\n * @return {Object} Action object.\n */\nexport function openModal( name ) {\n\treturn {\n\t\ttype: 'OPEN_MODAL',\n\t\tname,\n\t};\n}\n\n/**\n * Returns an action object signalling that the user closed a modal.\n *\n * @return {Object} Action object.\n */\nexport function closeModal() {\n\treturn {\n\t\ttype: 'CLOSE_MODAL',\n\t};\n}\n","/**\n * WordPress dependencies\n */\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tnormalizeComplementaryAreaScope,\n\tnormalizeComplementaryAreaName,\n} from './deprecated';\n\n/**\n * Returns the complementary area that is active in a given scope.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Item scope.\n *\n * @return {string | null | undefined} The complementary area that is active in the given scope.\n */\nexport const getActiveComplementaryArea = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isComplementaryAreaVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\n\t\t// Return `undefined` to indicate that the user has never toggled\n\t\t// visibility, this is the vanilla default. Other code relies on this\n\t\t// nuance in the return value.\n\t\tif ( isComplementaryAreaVisible === undefined ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Return `null` to indicate the user hid the complementary area.\n\t\tif ( isComplementaryAreaVisible === false ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn state?.complementaryAreas?.[ scope ];\n\t}\n);\n\nexport const isComplementaryAreaLoading = createRegistrySelector(\n\t( select ) => ( state, scope ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\tconst isVisible = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'isComplementaryAreaVisible'\n\t\t);\n\t\tconst identifier = state?.complementaryAreas?.[ scope ];\n\n\t\treturn isVisible && identifier === undefined;\n\t}\n);\n\n/**\n * Returns a boolean indicating if an item is pinned or not.\n *\n * @param {Object} state Global application state.\n * @param {string} scope Scope.\n * @param {string} item  Item to check.\n *\n * @return {boolean} True if the item is pinned and false otherwise.\n */\nexport const isItemPinned = createRegistrySelector(\n\t( select ) => ( state, scope, item ) => {\n\t\tscope = normalizeComplementaryAreaScope( scope );\n\t\titem = normalizeComplementaryAreaName( scope, item );\n\t\tconst pinnedItems = select( preferencesStore ).get(\n\t\t\tscope,\n\t\t\t'pinnedItems'\n\t\t);\n\t\treturn pinnedItems?.[ item ] ?? true;\n\t}\n);\n\n/**\n * Returns a boolean indicating whether a feature is active for a particular\n * scope.\n *\n * @param {Object} state       The store state.\n * @param {string} scope       The scope of the feature (e.g. core/edit-post).\n * @param {string} featureName The name of the feature.\n *\n * @return {boolean} Is the feature enabled?\n */\nexport const isFeatureActive = createRegistrySelector(\n\t( select ) => ( state, scope, featureName ) => {\n\t\tdeprecated(\n\t\t\t`select( 'core/interface' ).isFeatureActive( scope, featureName )`,\n\t\t\t{\n\t\t\t\tsince: '6.0',\n\t\t\t\talternative: `select( 'core/preferences' ).get( scope, featureName )`,\n\t\t\t}\n\t\t);\n\n\t\treturn !! select( preferencesStore ).get( scope, featureName );\n\t}\n);\n\n/**\n * Returns true if a modal is active, or false otherwise.\n *\n * @param {Object} state     Global application state.\n * @param {string} modalName A string that uniquely identifies the modal.\n *\n * @return {boolean} Whether the modal is active.\n */\nexport function isModalActive( state, modalName ) {\n\treturn state.activeModal === modalName;\n}\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\nexport function complementaryAreas( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEFAULT_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\n\t\t\t// If there's already an area, don't overwrite it.\n\t\t\tif ( state[ scope ] ) {\n\t\t\t\treturn state;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t\tcase 'ENABLE_COMPLEMENTARY_AREA': {\n\t\t\tconst { scope, area } = action;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ scope ]: area,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer for storing the name of the open modal, or null if no modal is open.\n *\n * @param {Object} state  Previous state.\n * @param {Object} action Action object containing the `name` of the modal\n *\n * @return {Object} Updated state\n */\nexport function activeModal( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'OPEN_MODAL':\n\t\t\treturn action.name;\n\t\tcase 'CLOSE_MODAL':\n\t\t\treturn null;\n\t}\n\n\treturn state;\n}\n\nexport default combineReducers( {\n\tcomplementaryAreas,\n\tactiveModal,\n} );\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport * as actions from './actions';\nimport * as selectors from './selectors';\nimport reducer from './reducer';\nimport { STORE_NAME } from './constants';\n\n/**\n * Store definition for the interface namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\treducer,\n\tactions,\n\tselectors,\n} );\n\n// Once we build a more generic persistence plugin that works across types of stores\n// we'd be able to replace this with a register call.\nregister( store );\n","/**\n * The identifier for the data store.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/interface';\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","/**\n * WordPress dependencies\n */\nimport { withPluginContext } from '@wordpress/plugins';\n\nexport default withPluginContext( ( context, ownProps ) => {\n\treturn {\n\t\ticon: ownProps.icon || context.icon,\n\t\tidentifier:\n\t\t\townProps.identifier || `${ context.name }/${ ownProps.name }`,\n\t};\n} );\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as interfaceStore } from '../../store';\nimport complementaryAreaContext from '../complementary-area-context';\n\n/**\n * Whether the role supports checked state.\n *\n * @param {import('react').AriaRole} role Role.\n * @return {boolean} Whether the role supports checked state.\n * @see https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n */\nfunction roleSupportsCheckedState( role ) {\n\treturn [\n\t\t'checkbox',\n\t\t'option',\n\t\t'radio',\n\t\t'switch',\n\t\t'menuitemcheckbox',\n\t\t'menuitemradio',\n\t\t'treeitem',\n\t].includes( role );\n}\n\nfunction ComplementaryAreaToggle( {\n\tas = Button,\n\tscope,\n\tidentifier,\n\ticon,\n\tselectedIcon,\n\tname,\n\tshortcut,\n\t...props\n} ) {\n\tconst ComponentToUse = as;\n\tconst isSelected = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).getActiveComplementaryArea( scope ) ===\n\t\t\tidentifier,\n\t\t[ identifier, scope ]\n\t);\n\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\n\treturn (\n\t\t<ComponentToUse\n\t\t\ticon={ selectedIcon && isSelected ? selectedIcon : icon }\n\t\t\taria-controls={ identifier.replace( '/', ':' ) }\n\t\t\t// Make sure aria-checked matches spec https://www.w3.org/TR/wai-aria-1.1/#aria-checked\n\t\t\taria-checked={\n\t\t\t\troleSupportsCheckedState( props.role ) ? isSelected : undefined\n\t\t\t}\n\t\t\tonClick={ () => {\n\t\t\t\tif ( isSelected ) {\n\t\t\t\t\tdisableComplementaryArea( scope );\n\t\t\t\t} else {\n\t\t\t\t\tenableComplementaryArea( scope, identifier );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tshortcut={ shortcut }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n\nexport default complementaryAreaContext( ComplementaryAreaToggle );\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { closeSmall } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\n\nconst ComplementaryAreaHeader = ( {\n\tsmallScreenTitle,\n\tchildren,\n\tclassName,\n\ttoggleButtonProps,\n} ) => {\n\tconst toggleButton = (\n\t\t<ComplementaryAreaToggle icon={ closeSmall } { ...toggleButtonProps } />\n\t);\n\treturn (\n\t\t<>\n\t\t\t<div className=\"components-panel__header interface-complementary-area-header__small\">\n\t\t\t\t{ smallScreenTitle && (\n\t\t\t\t\t<h2 className=\"interface-complementary-area-header__small-title\">\n\t\t\t\t\t\t{ smallScreenTitle }\n\t\t\t\t\t</h2>\n\t\t\t\t) }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={ clsx(\n\t\t\t\t\t'components-panel__header',\n\t\t\t\t\t'interface-complementary-area-header',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\ttabIndex={ -1 }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t{ toggleButton }\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default ComplementaryAreaHeader;\n","/**\n * WordPress dependencies\n */\nimport { ButtonGroup, Button, Slot, Fill } from '@wordpress/components';\nimport { Children } from '@wordpress/element';\n\nconst noop = () => {};\n\nfunction ActionItemSlot( {\n\tname,\n\tas: Component = ButtonGroup,\n\tfillProps = {},\n\tbubblesVirtually,\n\t...props\n} ) {\n\treturn (\n\t\t<Slot\n\t\t\tname={ name }\n\t\t\tbubblesVirtually={ bubblesVirtually }\n\t\t\tfillProps={ fillProps }\n\t\t>\n\t\t\t{ ( fills ) => {\n\t\t\t\tif ( ! Children.toArray( fills ).length ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\t// Special handling exists for backward compatibility.\n\t\t\t\t// It ensures that menu items created by plugin authors aren't\n\t\t\t\t// duplicated with automatically injected menu items coming\n\t\t\t\t// from pinnable plugin sidebars.\n\t\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t\tconst initializedByPlugins = [];\n\t\t\t\tChildren.forEach(\n\t\t\t\t\tfills,\n\t\t\t\t\t( {\n\t\t\t\t\t\tprops: { __unstableExplicitMenuItem, __unstableTarget },\n\t\t\t\t\t} ) => {\n\t\t\t\t\t\tif ( __unstableTarget && __unstableExplicitMenuItem ) {\n\t\t\t\t\t\t\tinitializedByPlugins.push( __unstableTarget );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst children = Children.map( fills, ( child ) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t! child.props.__unstableExplicitMenuItem &&\n\t\t\t\t\t\tinitializedByPlugins.includes(\n\t\t\t\t\t\t\tchild.props.__unstableTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn child;\n\t\t\t\t} );\n\n\t\t\t\treturn <Component { ...props }>{ children }</Component>;\n\t\t\t} }\n\t\t</Slot>\n\t);\n}\n\nfunction ActionItem( { name, as: Component = Button, onClick, ...props } ) {\n\treturn (\n\t\t<Fill name={ name }>\n\t\t\t{ ( { onClick: fpOnClick } ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Component\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tonClick || fpOnClick\n\t\t\t\t\t\t\t\t? ( ...args ) => {\n\t\t\t\t\t\t\t\t\t\t( onClick || noop )( ...args );\n\t\t\t\t\t\t\t\t\t\t( fpOnClick || noop )( ...args );\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t</Fill>\n\t);\n}\n\nActionItem.Slot = ActionItemSlot;\n\nexport default ActionItem;\n","/**\n * WordPress dependencies\n */\nimport { check } from '@wordpress/icons';\nimport { MenuItem } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport ActionItem from '../action-item';\n\nconst PluginsMenuItem = ( {\n\t// Menu item is marked with unstable prop for backward compatibility.\n\t// They are removed so they don't leak to DOM elements.\n\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t__unstableExplicitMenuItem,\n\t__unstableTarget,\n\t...restProps\n} ) => <MenuItem { ...restProps } />;\n\nexport default function ComplementaryAreaMoreMenuItem( {\n\tscope,\n\ttarget,\n\t__unstableExplicitMenuItem,\n\t...props\n} ) {\n\treturn (\n\t\t<ComplementaryAreaToggle\n\t\t\tas={ ( toggleProps ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t__unstableExplicitMenuItem={\n\t\t\t\t\t\t\t__unstableExplicitMenuItem\n\t\t\t\t\t\t}\n\t\t\t\t\t\t__unstableTarget={ `${ scope }/${ target }` }\n\t\t\t\t\t\tas={ PluginsMenuItem }\n\t\t\t\t\t\tname={ `${ scope }/plugin-more-menu` }\n\t\t\t\t\t\t{ ...toggleProps }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tselectedIcon={ check }\n\t\t\tname={ target }\n\t\t\tscope={ scope }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Slot, Fill } from '@wordpress/components';\n\nfunction PinnedItems( { scope, ...props } ) {\n\treturn <Fill name={ `PinnedItems/${ scope }` } { ...props } />;\n}\n\nfunction PinnedItemsSlot( { scope, className, ...props } ) {\n\treturn (\n\t\t<Slot name={ `PinnedItems/${ scope }` } { ...props }>\n\t\t\t{ ( fills ) =>\n\t\t\t\tfills?.length > 0 && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'interface-pinned-items'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</Slot>\n\t);\n}\n\nPinnedItems.Slot = PinnedItemsSlot;\n\nexport default PinnedItems;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tPanel,\n\tSlot,\n\tFill,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { check, starEmpty, starFilled } from '@wordpress/icons';\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport { store as viewportStore } from '@wordpress/viewport';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tusePrevious,\n} from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport ComplementaryAreaHeader from '../complementary-area-header';\nimport ComplementaryAreaMoreMenuItem from '../complementary-area-more-menu-item';\nimport ComplementaryAreaToggle from '../complementary-area-toggle';\nimport withComplementaryAreaContext from '../complementary-area-context';\nimport PinnedItems from '../pinned-items';\nimport { store as interfaceStore } from '../../store';\n\nconst ANIMATION_DURATION = 0.3;\n\nfunction ComplementaryAreaSlot( { scope, ...props } ) {\n\treturn <Slot name={ `ComplementaryArea/${ scope }` } { ...props } />;\n}\n\nconst SIDEBAR_WIDTH = 280;\nconst variants = {\n\topen: { width: SIDEBAR_WIDTH },\n\tclosed: { width: 0 },\n\tmobileOpen: { width: '100vw' },\n};\n\nfunction ComplementaryAreaFill( {\n\tactiveArea,\n\tisActive,\n\tscope,\n\tchildren,\n\tclassName,\n\tid,\n} ) {\n\tconst disableMotion = useReducedMotion();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\t// This is used to delay the exit animation to the next tick.\n\t// The reason this is done is to allow us to apply the right transition properties\n\t// When we switch from an open sidebar to another open sidebar.\n\t// we don't want to animate in this case.\n\tconst previousActiveArea = usePrevious( activeArea );\n\tconst previousIsActive = usePrevious( isActive );\n\tconst [ , setState ] = useState( {} );\n\tuseEffect( () => {\n\t\tsetState( {} );\n\t}, [ isActive ] );\n\tconst transition = {\n\t\ttype: 'tween',\n\t\tduration:\n\t\t\tdisableMotion ||\n\t\t\tisMobileViewport ||\n\t\t\t( !! previousActiveArea &&\n\t\t\t\t!! activeArea &&\n\t\t\t\tactiveArea !== previousActiveArea )\n\t\t\t\t? 0\n\t\t\t\t: ANIMATION_DURATION,\n\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t};\n\n\treturn (\n\t\t<Fill name={ `ComplementaryArea/${ scope }` }>\n\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t{ ( previousIsActive || isActive ) && (\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tvariants={ variants }\n\t\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\t\tanimate={ isMobileViewport ? 'mobileOpen' : 'open' }\n\t\t\t\t\t\texit=\"closed\"\n\t\t\t\t\t\ttransition={ transition }\n\t\t\t\t\t\tclassName=\"interface-complementary-area__fill\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\twidth: isMobileViewport\n\t\t\t\t\t\t\t\t\t? '100vw'\n\t\t\t\t\t\t\t\t\t: SIDEBAR_WIDTH,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</motion.div>\n\t\t\t\t) }\n\t\t\t</AnimatePresence>\n\t\t</Fill>\n\t);\n}\n\nfunction useAdjustComplementaryListener(\n\tscope,\n\tidentifier,\n\tactiveArea,\n\tisActive,\n\tisSmall\n) {\n\tconst previousIsSmallRef = useRef( false );\n\tconst shouldOpenWhenNotSmallRef = useRef( false );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tuseEffect( () => {\n\t\t// If the complementary area is active and the editor is switching from\n\t\t// a big to a small window size.\n\t\tif ( isActive && isSmall && ! previousIsSmallRef.current ) {\n\t\t\tdisableComplementaryArea( scope );\n\t\t\t// Flag the complementary area to be reopened when the window size\n\t\t\t// goes from small to big.\n\t\t\tshouldOpenWhenNotSmallRef.current = true;\n\t\t} else if (\n\t\t\t// If there is a flag indicating the complementary area should be\n\t\t\t// enabled when we go from small to big window size and we are going\n\t\t\t// from a small to big window size.\n\t\t\tshouldOpenWhenNotSmallRef.current &&\n\t\t\t! isSmall &&\n\t\t\tpreviousIsSmallRef.current\n\t\t) {\n\t\t\t// Remove the flag indicating the complementary area should be\n\t\t\t// enabled.\n\t\t\tshouldOpenWhenNotSmallRef.current = false;\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if (\n\t\t\t// If the flag is indicating the current complementary should be\n\t\t\t// reopened but another complementary area becomes active, remove\n\t\t\t// the flag.\n\t\t\tshouldOpenWhenNotSmallRef.current &&\n\t\t\tactiveArea &&\n\t\t\tactiveArea !== identifier\n\t\t) {\n\t\t\tshouldOpenWhenNotSmallRef.current = false;\n\t\t}\n\t\tif ( isSmall !== previousIsSmallRef.current ) {\n\t\t\tpreviousIsSmallRef.current = isSmall;\n\t\t}\n\t}, [\n\t\tisActive,\n\t\tisSmall,\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tdisableComplementaryArea,\n\t\tenableComplementaryArea,\n\t] );\n}\n\nfunction ComplementaryArea( {\n\tchildren,\n\tclassName,\n\tcloseLabel = __( 'Close plugin' ),\n\tidentifier,\n\theader,\n\theaderClassName,\n\ticon,\n\tisPinnable = true,\n\tpanelClassName,\n\tscope,\n\tname,\n\tsmallScreenTitle,\n\ttitle,\n\ttoggleShortcut,\n\tisActiveByDefault,\n} ) {\n\t// This state is used to delay the rendering of the Fill\n\t// until the initial effect runs.\n\t// This prevents the animation from running on mount if\n\t// the complementary area is active by default.\n\tconst [ isReady, setIsReady ] = useState( false );\n\tconst {\n\t\tisLoading,\n\t\tisActive,\n\t\tisPinned,\n\t\tactiveArea,\n\t\tisSmall,\n\t\tisLarge,\n\t\tshowIconLabels,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetActiveComplementaryArea,\n\t\t\t\tisComplementaryAreaLoading,\n\t\t\t\tisItemPinned,\n\t\t\t} = select( interfaceStore );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\tconst _activeArea = getActiveComplementaryArea( scope );\n\n\t\t\treturn {\n\t\t\t\tisLoading: isComplementaryAreaLoading( scope ),\n\t\t\t\tisActive: _activeArea === identifier,\n\t\t\t\tisPinned: isItemPinned( scope, identifier ),\n\t\t\t\tactiveArea: _activeArea,\n\t\t\t\tisSmall: select( viewportStore ).isViewportMatch( '< medium' ),\n\t\t\t\tisLarge: select( viewportStore ).isViewportMatch( 'large' ),\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t},\n\t\t[ identifier, scope ]\n\t);\n\tuseAdjustComplementaryListener(\n\t\tscope,\n\t\tidentifier,\n\t\tactiveArea,\n\t\tisActive,\n\t\tisSmall\n\t);\n\tconst {\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t\tpinItem,\n\t\tunpinItem,\n\t} = useDispatch( interfaceStore );\n\n\tuseEffect( () => {\n\t\t// Set initial visibility: For large screens, enable if it's active by\n\t\t// default. For small screens, always initially disable.\n\t\tif ( isActiveByDefault && activeArea === undefined && ! isSmall ) {\n\t\t\tenableComplementaryArea( scope, identifier );\n\t\t} else if ( activeArea === undefined && isSmall ) {\n\t\t\tdisableComplementaryArea( scope, identifier );\n\t\t}\n\t\tsetIsReady( true );\n\t}, [\n\t\tactiveArea,\n\t\tisActiveByDefault,\n\t\tscope,\n\t\tidentifier,\n\t\tisSmall,\n\t\tenableComplementaryArea,\n\t\tdisableComplementaryArea,\n\t] );\n\n\tif ( ! isReady ) {\n\t\treturn;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ isPinnable && (\n\t\t\t\t<PinnedItems scope={ scope }>\n\t\t\t\t\t{ isPinned && (\n\t\t\t\t\t\t<ComplementaryAreaToggle\n\t\t\t\t\t\t\tscope={ scope }\n\t\t\t\t\t\t\tidentifier={ identifier }\n\t\t\t\t\t\t\tisPressed={\n\t\t\t\t\t\t\t\tisActive && ( ! showIconLabels || isLarge )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-expanded={ isActive }\n\t\t\t\t\t\t\taria-disabled={ isLoading }\n\t\t\t\t\t\t\tlabel={ title }\n\t\t\t\t\t\t\ticon={ showIconLabels ? check : icon }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tshortcut={ toggleShortcut }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PinnedItems>\n\t\t\t) }\n\t\t\t{ name && isPinnable && (\n\t\t\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t\t\ttarget={ name }\n\t\t\t\t\tscope={ scope }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t>\n\t\t\t\t\t{ title }\n\t\t\t\t</ComplementaryAreaMoreMenuItem>\n\t\t\t) }\n\t\t\t<ComplementaryAreaFill\n\t\t\t\tactiveArea={ activeArea }\n\t\t\t\tisActive={ isActive }\n\t\t\t\tclassName={ clsx( 'interface-complementary-area', className ) }\n\t\t\t\tscope={ scope }\n\t\t\t\tid={ identifier.replace( '/', ':' ) }\n\t\t\t>\n\t\t\t\t<ComplementaryAreaHeader\n\t\t\t\t\tclassName={ headerClassName }\n\t\t\t\t\tcloseLabel={ closeLabel }\n\t\t\t\t\tonClose={ () => disableComplementaryArea( scope ) }\n\t\t\t\t\tsmallScreenTitle={ smallScreenTitle }\n\t\t\t\t\ttoggleButtonProps={ {\n\t\t\t\t\t\tlabel: closeLabel,\n\t\t\t\t\t\tsize: 'small',\n\t\t\t\t\t\tshortcut: toggleShortcut,\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tidentifier,\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ header || (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<h2 className=\"interface-complementary-area-header__title\">\n\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t{ isPinnable && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tclassName=\"interface-complementary-area__pin-unpin-item\"\n\t\t\t\t\t\t\t\t\ticon={ isPinned ? starFilled : starEmpty }\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\tisPinned\n\t\t\t\t\t\t\t\t\t\t\t? __( 'Unpin from toolbar' )\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Pin to toolbar' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\t\t( isPinned ? unpinItem : pinItem )(\n\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\tidentifier\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tisPressed={ isPinned }\n\t\t\t\t\t\t\t\t\taria-expanded={ isPinned }\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</ComplementaryAreaHeader>\n\t\t\t\t<Panel className={ panelClassName }>{ children }</Panel>\n\t\t\t</ComplementaryAreaFill>\n\t\t</>\n\t);\n}\n\nconst ComplementaryAreaWrapped =\n\twithComplementaryAreaContext( ComplementaryArea );\n\nComplementaryAreaWrapped.Slot = ComplementaryAreaSlot;\n\nexport default ComplementaryAreaWrapped;\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\n\nconst FullscreenMode = ( { isActive } ) => {\n\tuseEffect( () => {\n\t\tlet isSticky = false;\n\t\t// `is-fullscreen-mode` is set in PHP as a body class by Gutenberg, and this causes\n\t\t// `sticky-menu` to be applied by WordPress and prevents the admin menu being scrolled\n\t\t// even if `is-fullscreen-mode` is then removed. Let's remove `sticky-menu` here as\n\t\t// a consequence of the FullscreenMode setup.\n\t\tif ( document.body.classList.contains( 'sticky-menu' ) ) {\n\t\t\tisSticky = true;\n\t\t\tdocument.body.classList.remove( 'sticky-menu' );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( isSticky ) {\n\t\t\t\tdocument.body.classList.add( 'sticky-menu' );\n\t\t\t}\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( isActive ) {\n\t\t\tdocument.body.classList.add( 'is-fullscreen-mode' );\n\t\t} else {\n\t\t\tdocument.body.classList.remove( 'is-fullscreen-mode' );\n\t\t}\n\n\t\treturn () => {\n\t\t\tif ( isActive ) {\n\t\t\t\tdocument.body.classList.remove( 'is-fullscreen-mode' );\n\t\t\t}\n\t\t};\n\t}, [ isActive ] );\n\n\treturn null;\n};\nexport default FullscreenMode;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\nexport default function NavigableRegion( {\n\tchildren,\n\tclassName,\n\tariaLabel,\n\tas: Tag = 'div',\n\t...props\n} ) {\n\treturn (\n\t\t<Tag\n\t\t\tclassName={ clsx( 'interface-navigable-region', className ) }\n\t\t\taria-label={ ariaLabel }\n\t\t\trole=\"region\"\n\t\t\ttabIndex=\"-1\"\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef, useEffect } from '@wordpress/element';\nimport {\n\t__unstableUseNavigateRegions as useNavigateRegions,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tuseMergeRefs,\n\tuseReducedMotion,\n\tuseViewportMatch,\n\tuseResizeObserver,\n} from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport NavigableRegion from '../navigable-region';\n\nconst ANIMATION_DURATION = 0.25;\nconst commonTransition = {\n\ttype: 'tween',\n\tduration: ANIMATION_DURATION,\n\tease: [ 0.6, 0, 0.4, 1 ],\n};\n\nfunction useHTMLClass( className ) {\n\tuseEffect( () => {\n\t\tconst element =\n\t\t\tdocument && document.querySelector( `html:not(.${ className })` );\n\t\tif ( ! element ) {\n\t\t\treturn;\n\t\t}\n\t\telement.classList.toggle( className );\n\t\treturn () => {\n\t\t\telement.classList.toggle( className );\n\t\t};\n\t}, [ className ] );\n}\n\nconst headerVariants = {\n\thidden: { opacity: 1, marginTop: -60 },\n\tvisible: { opacity: 1, marginTop: 0 },\n\tdistractionFreeHover: {\n\t\topacity: 1,\n\t\tmarginTop: 0,\n\t\ttransition: {\n\t\t\t...commonTransition,\n\t\t\tdelay: 0.2,\n\t\t\tdelayChildren: 0.2,\n\t\t},\n\t},\n\tdistractionFreeHidden: {\n\t\topacity: 0,\n\t\tmarginTop: -60,\n\t},\n\tdistractionFreeDisabled: {\n\t\topacity: 0,\n\t\tmarginTop: 0,\n\t\ttransition: {\n\t\t\t...commonTransition,\n\t\t\tdelay: 0.8,\n\t\t\tdelayChildren: 0.8,\n\t\t},\n\t},\n};\n\nfunction InterfaceSkeleton(\n\t{\n\t\tisDistractionFree,\n\t\tfooter,\n\t\theader,\n\t\teditorNotices,\n\t\tsidebar,\n\t\tsecondarySidebar,\n\t\tcontent,\n\t\tactions,\n\t\tlabels,\n\t\tclassName,\n\t\tenableRegionNavigation = true,\n\t\t// Todo: does this need to be a prop.\n\t\t// Can we use a dependency to keyboard-shortcuts directly?\n\t\tshortcuts,\n\t},\n\tref\n) {\n\tconst [ secondarySidebarResizeListener, secondarySidebarSize ] =\n\t\tuseResizeObserver();\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst disableMotion = useReducedMotion();\n\tconst defaultTransition = {\n\t\ttype: 'tween',\n\t\tduration: disableMotion ? 0 : ANIMATION_DURATION,\n\t\tease: [ 0.6, 0, 0.4, 1 ],\n\t};\n\tconst navigateRegionsProps = useNavigateRegions( shortcuts );\n\tuseHTMLClass( 'interface-interface-skeleton__html-container' );\n\n\tconst defaultLabels = {\n\t\t/* translators: accessibility text for the top bar landmark region. */\n\t\theader: _x( 'Header', 'header landmark area' ),\n\t\t/* translators: accessibility text for the content landmark region. */\n\t\tbody: __( 'Content' ),\n\t\t/* translators: accessibility text for the secondary sidebar landmark region. */\n\t\tsecondarySidebar: __( 'Block Library' ),\n\t\t/* translators: accessibility text for the settings landmark region. */\n\t\tsidebar: __( 'Settings' ),\n\t\t/* translators: accessibility text for the publish landmark region. */\n\t\tactions: __( 'Publish' ),\n\t\t/* translators: accessibility text for the footer landmark region. */\n\t\tfooter: __( 'Footer' ),\n\t};\n\n\tconst mergedLabels = { ...defaultLabels, ...labels };\n\n\treturn (\n\t\t<div\n\t\t\t{ ...( enableRegionNavigation ? navigateRegionsProps : {} ) }\n\t\t\tref={ useMergeRefs( [\n\t\t\t\tref,\n\t\t\t\tenableRegionNavigation ? navigateRegionsProps.ref : undefined,\n\t\t\t] ) }\n\t\t\tclassName={ clsx(\n\t\t\t\tclassName,\n\t\t\t\t'interface-interface-skeleton',\n\t\t\t\tnavigateRegionsProps.className,\n\t\t\t\t!! footer && 'has-footer'\n\t\t\t) }\n\t\t>\n\t\t\t<div className=\"interface-interface-skeleton__editor\">\n\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t{ !! header && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__header\"\n\t\t\t\t\t\t\taria-label={ mergedLabels.header }\n\t\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHidden'\n\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twhileHover={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHover'\n\t\t\t\t\t\t\t\t\t: 'visible'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tanimate={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeDisabled'\n\t\t\t\t\t\t\t\t\t: 'visible'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\texit={\n\t\t\t\t\t\t\t\tisDistractionFree && ! isMobileViewport\n\t\t\t\t\t\t\t\t\t? 'distractionFreeHidden'\n\t\t\t\t\t\t\t\t\t: 'hidden'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvariants={ headerVariants }\n\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ header }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</AnimatePresence>\n\t\t\t\t{ isDistractionFree && (\n\t\t\t\t\t<div className=\"interface-interface-skeleton__header\">\n\t\t\t\t\t\t{ editorNotices }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div className=\"interface-interface-skeleton__body\">\n\t\t\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t\t\t{ !! secondarySidebar && (\n\t\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__secondary-sidebar\"\n\t\t\t\t\t\t\t\tariaLabel={ mergedLabels.secondarySidebar }\n\t\t\t\t\t\t\t\tas={ motion.div }\n\t\t\t\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\t\texit=\"closed\"\n\t\t\t\t\t\t\t\tvariants={ {\n\t\t\t\t\t\t\t\t\topen: { width: secondarySidebarSize.width },\n\t\t\t\t\t\t\t\t\tclosed: { width: 0 },\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\twidth: isMobileViewport\n\t\t\t\t\t\t\t\t\t\t\t? '100vw'\n\t\t\t\t\t\t\t\t\t\t\t: 'fit-content',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tvariants={ {\n\t\t\t\t\t\t\t\t\t\topen: { x: 0 },\n\t\t\t\t\t\t\t\t\t\tclosed: { x: '-100%' },\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\ttransition={ defaultTransition }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ secondarySidebarResizeListener }\n\t\t\t\t\t\t\t\t\t{ secondarySidebar }\n\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</AnimatePresence>\n\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\tclassName=\"interface-interface-skeleton__content\"\n\t\t\t\t\t\tariaLabel={ mergedLabels.body }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ content }\n\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t{ !! sidebar && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__sidebar\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.sidebar }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sidebar }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! actions && (\n\t\t\t\t\t\t<NavigableRegion\n\t\t\t\t\t\t\tclassName=\"interface-interface-skeleton__actions\"\n\t\t\t\t\t\t\tariaLabel={ mergedLabels.actions }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ actions }\n\t\t\t\t\t\t</NavigableRegion>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ !! footer && (\n\t\t\t\t<NavigableRegion\n\t\t\t\t\tclassName=\"interface-interface-skeleton__footer\"\n\t\t\t\t\tariaLabel={ mergedLabels.footer }\n\t\t\t\t>\n\t\t\t\t\t{ footer }\n\t\t\t\t</NavigableRegion>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( InterfaceSkeleton );\n","/**\n * WordPress dependencies\n */\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Handles the keyboard shortcuts for the editor.\n *\n * It provides functionality for various keyboard shortcuts such as toggling editor mode,\n * toggling distraction-free mode, undo/redo, saving the post, toggling list view,\n * and toggling the sidebar.\n */\nexport default function EditorKeyboardShortcuts() {\n\tconst isModeToggleDisabled = useSelect( ( select ) => {\n\t\tconst { richEditingEnabled, codeEditingEnabled } =\n\t\t\tselect( editorStore ).getEditorSettings();\n\t\treturn ! richEditingEnabled || ! codeEditingEnabled;\n\t}, [] );\n\tconst { getBlockSelectionStart } = useSelect( blockEditorStore );\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tconst {\n\t\tredo,\n\t\tundo,\n\t\tsavePost,\n\t\tsetIsListViewOpened,\n\t\tswitchEditorMode,\n\t\ttoggleDistractionFree,\n\t} = useDispatch( editorStore );\n\tconst {\n\t\tisEditedPostDirty,\n\t\tisPostSavingLocked,\n\t\tisListViewOpened,\n\t\tgetEditorMode,\n\t} = useSelect( editorStore );\n\n\tuseShortcut(\n\t\t'core/editor/toggle-mode',\n\t\t() => {\n\t\t\tswitchEditorMode(\n\t\t\t\tgetEditorMode() === 'visual' ? 'text' : 'visual'\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tisDisabled: isModeToggleDisabled,\n\t\t}\n\t);\n\n\tuseShortcut( 'core/editor/toggle-distraction-free', () => {\n\t\ttoggleDistractionFree();\n\t} );\n\n\tuseShortcut( 'core/editor/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/editor/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/editor/save', ( event ) => {\n\t\tevent.preventDefault();\n\n\t\t/**\n\t\t * Do not save the post if post saving is locked.\n\t\t */\n\t\tif ( isPostSavingLocked() ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: This should be handled in the `savePost` effect in\n\t\t// considering `isSaveable`. See note on `isEditedPostSaveable`\n\t\t// selector about dirtiness and meta-boxes.\n\t\t//\n\t\t// See: `isEditedPostSaveable`\n\t\tif ( ! isEditedPostDirty() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsavePost();\n\t} );\n\n\t// Only opens the list view. Other functionality for this shortcut happens in the rendered sidebar.\n\tuseShortcut( 'core/editor/toggle-list-view', ( event ) => {\n\t\tif ( ! isListViewOpened() ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsListViewOpened( true );\n\t\t}\n\t} );\n\n\tuseShortcut( 'core/editor/toggle-sidebar', ( event ) => {\n\t\t// This shortcut has no known clashes, but use preventDefault to prevent any\n\t\t// obscure shortcuts from triggering.\n\t\tevent.preventDefault();\n\t\tconst isEditorSidebarOpened = [\n\t\t\t'edit-post/document',\n\t\t\t'edit-post/block',\n\t\t].includes( getActiveComplementaryArea( 'core' ) );\n\n\t\tif ( isEditorSidebarOpened ) {\n\t\t\tdisableComplementaryArea( 'core' );\n\t\t} else {\n\t\t\tconst sidebarToOpen = getBlockSelectionStart()\n\t\t\t\t? 'edit-post/block'\n\t\t\t\t: 'edit-post/document';\n\t\t\tenableComplementaryArea( 'core', sidebarToOpen );\n\t\t}\n\t} );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport class AutosaveMonitor extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.needsAutosave = !! ( props.isDirty && props.isAutosaveable );\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( ! this.props.disableIntervalChecks ) {\n\t\t\tthis.setAutosaveTimer();\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.disableIntervalChecks ) {\n\t\t\tif ( this.props.editsReference !== prevProps.editsReference ) {\n\t\t\t\tthis.props.autosave();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.interval !== prevProps.interval ) {\n\t\t\tclearTimeout( this.timerId );\n\t\t\tthis.setAutosaveTimer();\n\t\t}\n\n\t\tif ( ! this.props.isDirty ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.isAutosaving && ! prevProps.isAutosaving ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.editsReference !== prevProps.editsReference ) {\n\t\t\tthis.needsAutosave = true;\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.timerId );\n\t}\n\n\tsetAutosaveTimer( timeout = this.props.interval * 1000 ) {\n\t\tthis.timerId = setTimeout( () => {\n\t\t\tthis.autosaveTimerHandler();\n\t\t}, timeout );\n\t}\n\n\tautosaveTimerHandler() {\n\t\tif ( ! this.props.isAutosaveable ) {\n\t\t\tthis.setAutosaveTimer( 1000 );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.needsAutosave ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\tthis.props.autosave();\n\t\t}\n\n\t\tthis.setAutosaveTimer();\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\n/**\n * Monitors the changes made to the edited post and triggers autosave if necessary.\n *\n * The logic is straightforward: a check is performed every `props.interval` seconds. If any changes are detected, `props.autosave()` is called.\n * The time between the change and the autosave varies but is no larger than `props.interval` seconds. Refer to the code below for more details, such as\n * the specific way of detecting changes.\n *\n * There are two caveats:\n * * If `props.isAutosaveable` happens to be false at a time of checking for changes, the check is retried every second.\n * * The timer may be disabled by setting `props.disableIntervalChecks` to `true`. In that mode, any change will immediately trigger `props.autosave()`.\n *\n * @param {Object}   props                       - The properties passed to the component.\n * @param {Function} props.autosave              - The function to call when changes need to be saved.\n * @param {number}   props.interval              - The maximum time in seconds between an unsaved change and an autosave.\n * @param {boolean}  props.isAutosaveable        - If false, the check for changes is retried every second.\n * @param {boolean}  props.disableIntervalChecks - If true, disables the timer and any change will immediately trigger `props.autosave()`.\n * @param {boolean}  props.isDirty               - Indicates if there are unsaved changes.\n *\n * @example\n * ```jsx\n * <AutosaveMonitor interval={30000} />\n * ```\n */\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getReferenceByDistinctEdits } = select( coreStore );\n\n\t\tconst {\n\t\t\tisEditedPostDirty,\n\t\t\tisEditedPostAutosaveable,\n\t\t\tisAutosavingPost,\n\t\t\tgetEditorSettings,\n\t\t} = select( editorStore );\n\n\t\tconst { interval = getEditorSettings().autosaveInterval } = ownProps;\n\n\t\treturn {\n\t\t\teditsReference: getReferenceByDistinctEdits(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisAutosaveable: isEditedPostAutosaveable(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\tinterval,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tautosave() {\n\t\t\tconst { autosave = dispatch( editorStore ).autosave } = ownProps;\n\t\t\tautosave();\n\t\t},\n\t} ) ),\n] )( AutosaveMonitor );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronRightSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z\" />\n\t</SVG>\n);\n\nexport default chevronRightSmall;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronLeftSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z\" />\n\t</SVG>\n);\n\nexport default chevronLeftSmall;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"commands\"];","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { chevronLeftSmall, chevronRightSmall } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as commandsStore } from '@wordpress/commands';\nimport { useRef, useEffect } from '@wordpress/element';\nimport { useReducedMotion } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPES, GLOBAL_POST_TYPES } from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\n/** @typedef {import(\"@wordpress/components\").IconType} IconType */\n\nconst MotionButton = motion( Button );\n\n/**\n * This component renders a navigation bar at the top of the editor. It displays the title of the current document,\n * a back button (if applicable), and a command center button. It also handles different states of the document,\n * such as \"not found\" or \"unsynced\".\n *\n * @example\n * ```jsx\n * <DocumentBar />\n * ```\n * @param {Object}   props       The component props.\n * @param {string}   props.title A title for the document, defaulting to the document or\n *                               template title currently being edited.\n * @param {IconType} props.icon  An icon for the document, no default.\n *                               (A default icon indicating the document post type is no longer used.)\n *\n * @return {JSX.Element} The rendered DocumentBar component.\n */\nexport default function DocumentBar( props ) {\n\tconst {\n\t\tpostType,\n\t\tpostTypeLabel,\n\t\tdocumentTitle,\n\t\tisNotFound,\n\t\tisUnsyncedPattern,\n\t\ttemplateTitle,\n\t\tonNavigateToPreviousEntityRecord,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentPostId,\n\t\t\tgetEditorSettings,\n\t\t\t__experimentalGetTemplateInfo: getTemplateInfo,\n\t\t} = select( editorStore );\n\t\tconst {\n\t\t\tgetEditedEntityRecord,\n\t\t\tgetPostType,\n\t\t\tisResolving: isResolvingSelector,\n\t\t} = select( coreStore );\n\t\tconst _postType = getCurrentPostType();\n\t\tconst _postId = getCurrentPostId();\n\t\tconst _document = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\t_postType,\n\t\t\t_postId\n\t\t);\n\t\tconst _templateInfo = getTemplateInfo( _document );\n\t\tconst _postTypeLabel = getPostType( _postType )?.labels?.singular_name;\n\n\t\treturn {\n\t\t\tpostType: _postType,\n\t\t\tpostTypeLabel: _postTypeLabel,\n\t\t\tdocumentTitle: _document.title,\n\t\t\tisNotFound:\n\t\t\t\t! _document &&\n\t\t\t\t! isResolvingSelector(\n\t\t\t\t\t'getEditedEntityRecord',\n\t\t\t\t\t'postType',\n\t\t\t\t\t_postType,\n\t\t\t\t\t_postId\n\t\t\t\t),\n\t\t\tisUnsyncedPattern: _document?.wp_pattern_sync_status === 'unsynced',\n\t\t\ttemplateTitle: _templateInfo.title,\n\t\t\tonNavigateToPreviousEntityRecord:\n\t\t\t\tgetEditorSettings().onNavigateToPreviousEntityRecord,\n\t\t};\n\t}, [] );\n\n\tconst { open: openCommandCenter } = useDispatch( commandsStore );\n\tconst isReducedMotion = useReducedMotion();\n\n\tconst isTemplate = TEMPLATE_POST_TYPES.includes( postType );\n\tconst isGlobalEntity = GLOBAL_POST_TYPES.includes( postType );\n\tconst hasBackButton = !! onNavigateToPreviousEntityRecord;\n\tconst entityTitle = isTemplate ? templateTitle : documentTitle;\n\tconst title = props.title || entityTitle;\n\tconst icon = props.icon;\n\n\tconst mountedRef = useRef( false );\n\tuseEffect( () => {\n\t\tmountedRef.current = true;\n\t}, [] );\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx( 'editor-document-bar', {\n\t\t\t\t'has-back-button': hasBackButton,\n\t\t\t\t'is-global': isGlobalEntity && ! isUnsyncedPattern,\n\t\t\t} ) }\n\t\t>\n\t\t\t<AnimatePresence>\n\t\t\t\t{ hasBackButton && (\n\t\t\t\t\t<MotionButton\n\t\t\t\t\t\tclassName=\"editor-document-bar__back\"\n\t\t\t\t\t\ticon={ isRTL() ? chevronRightSmall : chevronLeftSmall }\n\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tonNavigateToPreviousEntityRecord();\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\tmountedRef.current\n\t\t\t\t\t\t\t\t? { opacity: 0, transform: 'translateX(15%)' }\n\t\t\t\t\t\t\t\t: false // Don't show entry animation when DocumentBar mounts.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimate={ { opacity: 1, transform: 'translateX(0%)' } }\n\t\t\t\t\t\texit={ { opacity: 0, transform: 'translateX(15%)' } }\n\t\t\t\t\t\ttransition={\n\t\t\t\t\t\t\tisReducedMotion ? { duration: 0 } : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t\t</MotionButton>\n\t\t\t\t) }\n\t\t\t</AnimatePresence>\n\t\t\t{ isNotFound ? (\n\t\t\t\t<Text>{ __( 'Document not found' ) }</Text>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"editor-document-bar__command\"\n\t\t\t\t\tonClick={ () => openCommandCenter() }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tclassName=\"editor-document-bar__title\"\n\t\t\t\t\t\t// Force entry animation when the back button is added or removed.\n\t\t\t\t\t\tkey={ hasBackButton }\n\t\t\t\t\t\tinitial={\n\t\t\t\t\t\t\tmountedRef.current\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t\t\ttransform: hasBackButton\n\t\t\t\t\t\t\t\t\t\t\t? 'translateX(15%)'\n\t\t\t\t\t\t\t\t\t\t\t: 'translateX(-15%)',\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: false // Don't show entry animation when DocumentBar mounts.\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimate={ {\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\ttransform: 'translateX(0%)',\n\t\t\t\t\t\t} }\n\t\t\t\t\t\ttransition={\n\t\t\t\t\t\t\tisReducedMotion ? { duration: 0 } : undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ icon && <BlockIcon icon={ icon } /> }\n\t\t\t\t\t\t<Text size=\"body\" as=\"h1\">\n\t\t\t\t\t\t\t<span className=\"editor-document-bar__post-title\">\n\t\t\t\t\t\t\t\t{ title\n\t\t\t\t\t\t\t\t\t? decodeEntities( title )\n\t\t\t\t\t\t\t\t\t: __( 'No title' ) }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{ postTypeLabel && ! props.title && (\n\t\t\t\t\t\t\t\t<span className=\"editor-document-bar__post-type-label\">\n\t\t\t\t\t\t\t\t\t{ '· ' + decodeEntities( postTypeLabel ) }\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</motion.div>\n\t\t\t\t\t<span className=\"editor-document-bar__shortcut\">\n\t\t\t\t\t\t{ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"richText\"];","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\nconst TableOfContentsItem = ( {\n\tchildren,\n\tisValid,\n\tlevel,\n\thref,\n\tonSelect,\n} ) => (\n\t<li\n\t\tclassName={ clsx(\n\t\t\t'document-outline__item',\n\t\t\t`is-${ level.toLowerCase() }`,\n\t\t\t{\n\t\t\t\t'is-invalid': ! isValid,\n\t\t\t}\n\t\t) }\n\t>\n\t\t<a\n\t\t\thref={ href }\n\t\t\tclassName=\"document-outline__button\"\n\t\t\tonClick={ onSelect }\n\t\t>\n\t\t\t<span\n\t\t\t\tclassName=\"document-outline__emdash\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></span>\n\t\t\t<strong className=\"document-outline__level\">{ level }</strong>\n\t\t\t<span className=\"document-outline__item-content\">{ children }</span>\n\t\t</a>\n\t</li>\n);\n\nexport default TableOfContentsItem;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { create, getTextContent } from '@wordpress/rich-text';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { Path, SVG, Line, Rect } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport DocumentOutlineItem from './item';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module constants\n */\nconst emptyHeadingContent = <em>{ __( '(Empty heading)' ) }</em>;\nconst incorrectLevelContent = [\n\t<br key=\"incorrect-break\" />,\n\t<em key=\"incorrect-message\">{ __( '(Incorrect heading level)' ) }</em>,\n];\nconst singleH1Headings = [\n\t<br key=\"incorrect-break-h1\" />,\n\t<em key=\"incorrect-message-h1\">\n\t\t{ __( '(Your theme may already use a H1 for the post title)' ) }\n\t</em>,\n];\nconst multipleH1Headings = [\n\t<br key=\"incorrect-break-multiple-h1\" />,\n\t<em key=\"incorrect-message-multiple-h1\">\n\t\t{ __( '(Multiple H1 headings are not recommended)' ) }\n\t</em>,\n];\nfunction EmptyOutlineIllustration() {\n\treturn (\n\t\t<SVG\n\t\t\twidth=\"138\"\n\t\t\theight=\"148\"\n\t\t\tviewBox=\"0 0 138 148\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<Rect width=\"138\" height=\"148\" rx=\"4\" fill=\"#F0F6FC\" />\n\t\t\t<Line x1=\"44\" y1=\"28\" x2=\"24\" y2=\"28\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"48\" y=\"16\" width=\"27\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"55\" y1=\"59\" x2=\"24\" y2=\"59\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"59\" y=\"47\" width=\"29\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"80\" y1=\"90\" x2=\"24\" y2=\"90\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"84\" y=\"78\" width=\"30\" height=\"23\" rx=\"4\" fill=\"#F0B849\" />\n\t\t\t<Path\n\t\t\t\td=\"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"66\" y1=\"121\" x2=\"24\" y2=\"121\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"70\" y=\"109\" width=\"29\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t</SVG>\n\t);\n}\n\n/**\n * Returns an array of heading blocks enhanced with the following properties:\n * level   - An integer with the heading level.\n * isEmpty - Flag indicating if the heading has no content.\n *\n * @param {?Array} blocks An array of blocks.\n *\n * @return {Array} An array of heading blocks enhanced with the properties described above.\n */\nconst computeOutlineHeadings = ( blocks = [] ) => {\n\treturn blocks.flatMap( ( block = {} ) => {\n\t\tif ( block.name === 'core/heading' ) {\n\t\t\treturn {\n\t\t\t\t...block,\n\t\t\t\tlevel: block.attributes.level,\n\t\t\t\tisEmpty: isEmptyHeading( block ),\n\t\t\t};\n\t\t}\n\t\treturn computeOutlineHeadings( block.innerBlocks );\n\t} );\n};\n\nconst isEmptyHeading = ( heading ) =>\n\t! heading.attributes.content ||\n\theading.attributes.content.trim().length === 0;\n\n/**\n * Renders a document outline component.\n *\n * @param {Object}   props                         Props.\n * @param {Function} props.onSelect                Function to be called when an outline item is selected.\n * @param {boolean}  props.isTitleSupported        Indicates whether the title is supported.\n * @param {boolean}  props.hasOutlineItemsDisabled Indicates whether the outline items are disabled.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function DocumentOutline( {\n\tonSelect,\n\tisTitleSupported,\n\thasOutlineItemsDisabled,\n} ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tconst { blocks, title } = useSelect( ( select ) => {\n\t\tconst { getBlocks } = select( blockEditorStore );\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t\tblocks: getBlocks(),\n\t\t\tisTitleSupported: postType?.supports?.title ?? false,\n\t\t};\n\t} );\n\n\tconst headings = computeOutlineHeadings( blocks );\n\tif ( headings.length < 1 ) {\n\t\treturn (\n\t\t\t<div className=\"editor-document-outline has-no-headings\">\n\t\t\t\t<EmptyOutlineIllustration />\n\t\t\t\t<p>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Navigate the structure of your document and address issues like empty or incorrect heading levels.'\n\t\t\t\t\t) }\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tlet prevHeadingLevel = 1;\n\n\t// Not great but it's the simplest way to locate the title right now.\n\tconst titleNode = document.querySelector( '.editor-post-title__input' );\n\tconst hasTitle = isTitleSupported && title && titleNode;\n\tconst countByLevel = headings.reduce(\n\t\t( acc, heading ) => ( {\n\t\t\t...acc,\n\t\t\t[ heading.level ]: ( acc[ heading.level ] || 0 ) + 1,\n\t\t} ),\n\t\t{}\n\t);\n\tconst hasMultipleH1 = countByLevel[ 1 ] > 1;\n\n\treturn (\n\t\t<div className=\"document-outline\">\n\t\t\t<ul>\n\t\t\t\t{ hasTitle && (\n\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\tlevel={ __( 'Title' ) }\n\t\t\t\t\t\tisValid\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\thref={ `#${ titleNode.id }` }\n\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t) }\n\t\t\t\t{ headings.map( ( item, index ) => {\n\t\t\t\t\t// Headings remain the same, go up by one, or down by any amount.\n\t\t\t\t\t// Otherwise there are missing levels.\n\t\t\t\t\tconst isIncorrectLevel = item.level > prevHeadingLevel + 1;\n\n\t\t\t\t\tconst isValid =\n\t\t\t\t\t\t! item.isEmpty &&\n\t\t\t\t\t\t! isIncorrectLevel &&\n\t\t\t\t\t\t!! item.level &&\n\t\t\t\t\t\t( item.level !== 1 ||\n\t\t\t\t\t\t\t( ! hasMultipleH1 && ! hasTitle ) );\n\t\t\t\t\tprevHeadingLevel = item.level;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tlevel={ `H${ item.level }` }\n\t\t\t\t\t\t\tisValid={ isValid }\n\t\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t\t\thref={ `#block-${ item.clientId }` }\n\t\t\t\t\t\t\tonSelect={ () => {\n\t\t\t\t\t\t\t\tselectBlock( item.clientId );\n\t\t\t\t\t\t\t\tonSelect?.();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ item.isEmpty\n\t\t\t\t\t\t\t\t? emptyHeadingContent\n\t\t\t\t\t\t\t\t: getTextContent(\n\t\t\t\t\t\t\t\t\t\tcreate( {\n\t\t\t\t\t\t\t\t\t\t\thtml: item.attributes.content,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t{ isIncorrectLevel && incorrectLevelContent }\n\t\t\t\t\t\t\t{ item.level === 1 &&\n\t\t\t\t\t\t\t\thasMultipleH1 &&\n\t\t\t\t\t\t\t\tmultipleH1Headings }\n\t\t\t\t\t\t\t{ hasTitle &&\n\t\t\t\t\t\t\t\titem.level === 1 &&\n\t\t\t\t\t\t\t\t! hasMultipleH1 &&\n\t\t\t\t\t\t\t\tsingleH1Headings }\n\t\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Component check if there are any headings (core/heading blocks) present in the document.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component|null} The component to be rendered or null if there are headings.\n */\nexport default function DocumentOutlineCheck( { children } ) {\n\tconst hasHeadings = useSelect( ( select ) => {\n\t\tconst { getGlobalBlockCount } = select( blockEditorStore );\n\n\t\treturn getGlobalBlockCount( 'core/heading' ) > 0;\n\t} );\n\n\tif ( hasHeadings ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { BlockEditorKeyboardShortcuts } from '@wordpress/block-editor';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Component for registering editor keyboard shortcuts.\n *\n * @return {Element} The component to be rendered.\n */\nfunction EditorKeyboardShortcutsRegister() {\n\t// Registering the shortcuts.\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-mode',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Switch between visual editor and code editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'secondary',\n\t\t\t\tcharacter: 'm',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-list-view',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Open the List View.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-distraction-free',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Toggle distraction free mode.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: '\\\\',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-sidebar',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Show or hide the Settings sidebar.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: ',',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/keyboard-shortcuts',\n\t\t\tcategory: 'main',\n\t\t\tdescription: __( 'Display these keyboard shortcuts.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'h',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/next-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the next part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrl',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'n',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/previous-region',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Navigate to the previous part of the editor.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\tcharacter: '`',\n\t\t\t},\n\t\t\taliases: [\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'access',\n\t\t\t\t\tcharacter: 'p',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tmodifier: 'ctrlShift',\n\t\t\t\t\tcharacter: '~',\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn <BlockEditorKeyboardShortcuts.Register />;\n}\n\nexport default EditorKeyboardShortcutsRegister;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction EditorHistoryRedo( props, ref ) {\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( editorStore ).hasEditorRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( editorStore );\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ shortcut }\n\t\t\t// If there are no redo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t\tclassName=\"editor-history__redo\"\n\t\t/>\n\t);\n}\n\n/** @typedef {import('react').Ref<HTMLElement>} Ref */\n\n/**\n * Renders the redo button for the editor history.\n *\n * @param {Object} props - Props.\n * @param {Ref}    ref   - Forwarded ref.\n *\n * @return {Component} The component to be rendered.\n */\nexport default forwardRef( EditorHistoryRedo );\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction EditorHistoryUndo( props, ref ) {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( editorStore ).hasEditorUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( editorStore );\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t\tclassName=\"editor-history__undo\"\n\t\t/>\n\t);\n}\n\n/** @typedef {import('react').Ref<HTMLElement>} Ref */\n\n/**\n * Renders the undo button for the editor history.\n *\n * @param {Object} props - Props.\n * @param {Ref}    ref   - Forwarded ref.\n *\n * @return {Component} The component to be rendered.\n */\nexport default forwardRef( EditorHistoryUndo );\n","/**\n * WordPress dependencies\n */\nimport {\n\tNotice,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nexport default function TemplateValidationNotice() {\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\tconst isValid = useSelect( ( select ) => {\n\t\treturn select( blockEditorStore ).isValidTemplate();\n\t}, [] );\n\tconst { setTemplateValidity, synchronizeTemplate } =\n\t\tuseDispatch( blockEditorStore );\n\n\tif ( isValid ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Notice\n\t\t\t\tclassName=\"editor-template-validation-notice\"\n\t\t\t\tisDismissible={ false }\n\t\t\t\tstatus=\"warning\"\n\t\t\t\tactions={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Keep it as is' ),\n\t\t\t\t\t\tonClick: () => setTemplateValidity( true ),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Reset the template' ),\n\t\t\t\t\t\tonClick: () => setShowConfirmDialog( true ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ __(\n\t\t\t\t\t'The content of your post doesn’t match the template assigned to your post type.'\n\t\t\t\t) }\n\t\t\t</Notice>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tconfirmButtonText={ __( 'Reset' ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetShowConfirmDialog( false );\n\t\t\t\t\tsynchronizeTemplate();\n\t\t\t\t} }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t\tsize=\"medium\"\n\t\t\t>\n\t\t\t\t{ __(\n\t\t\t\t\t'Resetting the template may result in loss of content, do you want to continue?'\n\t\t\t\t) }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { NoticeList } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport TemplateValidationNotice from '../template-validation-notice';\n\n/**\n * This component renders the notices displayed in the editor. It displays pinned notices first, followed by dismissible\n *\n * @example\n * ```jsx\n * <EditorNotices />\n * ```\n *\n * @return {JSX.Element} The rendered EditorNotices component.\n */\nexport function EditorNotices() {\n\tconst { notices } = useSelect(\n\t\t( select ) => ( {\n\t\t\tnotices: select( noticesStore ).getNotices(),\n\t\t} ),\n\t\t[]\n\t);\n\tconst { removeNotice } = useDispatch( noticesStore );\n\tconst dismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => isDismissible && type === 'default'\n\t);\n\tconst nonDismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => ! isDismissible && type === 'default'\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ nonDismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t/>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ dismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__dismissible\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t>\n\t\t\t\t<TemplateValidationNotice />\n\t\t\t</NoticeList>\n\t\t</>\n\t);\n}\n\nexport default EditorNotices;\n","/**\n * WordPress dependencies\n */\nimport { SnackbarList } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\n// Last three notices. Slices from the tail end of the list.\nconst MAX_VISIBLE_NOTICES = -3;\n\n/**\n * Renders the editor snackbars component.\n *\n * @return {JSX.Element} The rendered component.\n */\nexport default function EditorSnackbars() {\n\tconst notices = useSelect(\n\t\t( select ) => select( noticesStore ).getNotices(),\n\t\t[]\n\t);\n\tconst { removeNotice } = useDispatch( noticesStore );\n\tconst snackbarNotices = notices\n\t\t.filter( ( { type } ) => type === 'snackbar' )\n\t\t.slice( MAX_VISIBLE_NOTICES );\n\n\treturn (\n\t\t<SnackbarList\n\t\t\tnotices={ snackbarNotices }\n\t\t\tclassName=\"components-editor-notices__snackbar\"\n\t\t\tonRemove={ removeNotice }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { CheckboxControl, PanelRow } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport default function EntityRecordItem( { record, checked, onChange } ) {\n\tconst { name, kind, title, key } = record;\n\n\t// Handle templates that might use default descriptive titles.\n\tconst { entityRecordTitle, hasPostMetaChanges } = useSelect(\n\t\t( select ) => {\n\t\t\tif ( 'postType' !== kind || 'wp_template' !== name ) {\n\t\t\t\treturn {\n\t\t\t\t\tentityRecordTitle: title,\n\t\t\t\t\thasPostMetaChanges: unlock(\n\t\t\t\t\t\tselect( editorStore )\n\t\t\t\t\t).hasPostMetaChanges( name, key ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst template = select( coreStore ).getEditedEntityRecord(\n\t\t\t\tkind,\n\t\t\t\tname,\n\t\t\t\tkey\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tentityRecordTitle:\n\t\t\t\t\tselect( editorStore ).__experimentalGetTemplateInfo(\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t).title,\n\t\t\t\thasPostMetaChanges: unlock(\n\t\t\t\t\tselect( editorStore )\n\t\t\t\t).hasPostMetaChanges( name, key ),\n\t\t\t};\n\t\t},\n\t\t[ name, kind, title, key ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<PanelRow>\n\t\t\t\t<CheckboxControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={\n\t\t\t\t\t\tdecodeEntities( entityRecordTitle ) || __( 'Untitled' )\n\t\t\t\t\t}\n\t\t\t\t\tchecked={ checked }\n\t\t\t\t\tonChange={ onChange }\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t\t{ hasPostMetaChanges && (\n\t\t\t\t<ul className=\"entities-saved-states__changes\">\n\t\t\t\t\t<li>{ __( 'Post Meta.' ) }</li>\n\t\t\t\t</ul>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, PanelRow } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useContext } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport EntityRecordItem from './entity-record-item';\nimport { unlock } from '../../lock-unlock';\n\nconst { getGlobalStylesChanges, GlobalStylesContext } = unlock(\n\tblockEditorPrivateApis\n);\n\nfunction getEntityDescription( entity, count ) {\n\tswitch ( entity ) {\n\t\tcase 'site':\n\t\t\treturn 1 === count\n\t\t\t\t? __( 'This change will affect your whole site.' )\n\t\t\t\t: __( 'These changes will affect your whole site.' );\n\t\tcase 'wp_template':\n\t\t\treturn __(\n\t\t\t\t'This change will affect pages and posts that use this template.'\n\t\t\t);\n\t\tcase 'page':\n\t\tcase 'post':\n\t\t\treturn __( 'The following has been modified.' );\n\t}\n}\n\nfunction GlobalStylesDescription( { record } ) {\n\tconst { user: currentEditorGlobalStyles } =\n\t\tuseContext( GlobalStylesContext );\n\tconst savedRecord = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecord(\n\t\t\t\trecord.kind,\n\t\t\t\trecord.name,\n\t\t\t\trecord.key\n\t\t\t),\n\t\t[ record.kind, record.name, record.key ]\n\t);\n\n\tconst globalStylesChanges = getGlobalStylesChanges(\n\t\tcurrentEditorGlobalStyles,\n\t\tsavedRecord,\n\t\t{\n\t\t\tmaxResults: 10,\n\t\t}\n\t);\n\treturn globalStylesChanges.length ? (\n\t\t<ul className=\"entities-saved-states__changes\">\n\t\t\t{ globalStylesChanges.map( ( change ) => (\n\t\t\t\t<li key={ change }>{ change }</li>\n\t\t\t) ) }\n\t\t</ul>\n\t) : null;\n}\n\nfunction EntityDescription( { record, count } ) {\n\tif ( 'globalStyles' === record?.name ) {\n\t\treturn null;\n\t}\n\tconst description = getEntityDescription( record?.name, count );\n\treturn description ? <PanelRow>{ description }</PanelRow> : null;\n}\n\nexport default function EntityTypeList( {\n\tlist,\n\tunselectedEntities,\n\tsetUnselectedEntities,\n} ) {\n\tconst count = list.length;\n\tconst firstRecord = list[ 0 ];\n\tconst entityConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityConfig(\n\t\t\t\tfirstRecord.kind,\n\t\t\t\tfirstRecord.name\n\t\t\t),\n\t\t[ firstRecord.kind, firstRecord.name ]\n\t);\n\n\tlet entityLabel = entityConfig.label;\n\tif ( firstRecord?.name === 'wp_template_part' ) {\n\t\tentityLabel =\n\t\t\t1 === count ? __( 'Template Part' ) : __( 'Template Parts' );\n\t}\n\n\treturn (\n\t\t<PanelBody title={ entityLabel } initialOpen>\n\t\t\t<EntityDescription record={ firstRecord } count={ count } />\n\t\t\t{ list.map( ( record ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityRecordItem\n\t\t\t\t\t\tkey={ record.key || record.property }\n\t\t\t\t\t\trecord={ record }\n\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t! unselectedEntities.some(\n\t\t\t\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\t\t\t\telt.kind === record.kind &&\n\t\t\t\t\t\t\t\t\telt.name === record.name &&\n\t\t\t\t\t\t\t\t\telt.key === record.key &&\n\t\t\t\t\t\t\t\t\telt.property === record.property\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetUnselectedEntities( record, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t\t{ 'globalStyles' === firstRecord?.name && (\n\t\t\t\t<GlobalStylesDescription record={ firstRecord } />\n\t\t\t) }\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo, useState } from '@wordpress/element';\n\n/**\n * Custom hook that determines if any entities are dirty (edited) and provides a way to manage selected/unselected entities.\n *\n * @return {Object} An object containing the following properties:\n *   - dirtyEntityRecords: An array of dirty entity records.\n *   - isDirty: A boolean indicating if there are any dirty entity records.\n *   - setUnselectedEntities: A function to set the unselected entities.\n *   - unselectedEntities: An array of unselected entities.\n */\nexport const useIsDirty = () => {\n\tconst { editedEntities, siteEdits, siteEntityConfig } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\t__experimentalGetDirtyEntityRecords,\n\t\t\t\tgetEntityRecordEdits,\n\t\t\t\tgetEntityConfig,\n\t\t\t} = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\teditedEntities: __experimentalGetDirtyEntityRecords(),\n\t\t\t\tsiteEdits: getEntityRecordEdits( 'root', 'site' ),\n\t\t\t\tsiteEntityConfig: getEntityConfig( 'root', 'site' ),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst dirtyEntityRecords = useMemo( () => {\n\t\t// Remove site object and decouple into its edited pieces.\n\t\tconst editedEntitiesWithoutSite = editedEntities.filter(\n\t\t\t( record ) => ! ( record.kind === 'root' && record.name === 'site' )\n\t\t);\n\n\t\tconst siteEntityLabels = siteEntityConfig?.meta?.labels ?? {};\n\t\tconst editedSiteEntities = [];\n\t\tfor ( const property in siteEdits ) {\n\t\t\teditedSiteEntities.push( {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t\ttitle: siteEntityLabels[ property ] || property,\n\t\t\t\tproperty,\n\t\t\t} );\n\t\t}\n\n\t\treturn [ ...editedEntitiesWithoutSite, ...editedSiteEntities ];\n\t}, [ editedEntities, siteEdits, siteEntityConfig ] );\n\n\t// Unchecked entities to be ignored by save function.\n\tconst [ unselectedEntities, _setUnselectedEntities ] = useState( [] );\n\n\tconst setUnselectedEntities = (\n\t\t{ kind, name, key, property },\n\t\tchecked\n\t) => {\n\t\tif ( checked ) {\n\t\t\t_setUnselectedEntities(\n\t\t\t\tunselectedEntities.filter(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind !== kind ||\n\t\t\t\t\t\telt.name !== name ||\n\t\t\t\t\t\telt.key !== key ||\n\t\t\t\t\t\telt.property !== property\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\t_setUnselectedEntities( [\n\t\t\t\t...unselectedEntities,\n\t\t\t\t{ kind, name, key, property },\n\t\t\t] );\n\t\t}\n\t};\n\n\tconst isDirty = dirtyEntityRecords.length - unselectedEntities.length > 0;\n\n\treturn {\n\t\tdirtyEntityRecords,\n\t\tisDirty,\n\t\tsetUnselectedEntities,\n\t\tunselectedEntities,\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport { Button, Flex, FlexItem } from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport {\n\tuseCallback,\n\tuseRef,\n\tcreateInterpolateElement,\n} from '@wordpress/element';\nimport {\n\t__experimentalUseDialog as useDialog,\n\tuseInstanceId,\n} from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport EntityTypeList from './entity-type-list';\nimport { useIsDirty } from './hooks/use-is-dirty';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nfunction identity( values ) {\n\treturn values;\n}\n\n/**\n * Renders the component for managing saved states of entities.\n *\n * @param {Object}   props              The component props.\n * @param {Function} props.close        The function to close the dialog.\n * @param {Function} props.renderDialog The function to render the dialog.\n *\n * @return {JSX.Element} The rendered component.\n */\nexport default function EntitiesSavedStates( {\n\tclose,\n\trenderDialog = undefined,\n} ) {\n\tconst isDirtyProps = useIsDirty();\n\treturn (\n\t\t<EntitiesSavedStatesExtensible\n\t\t\tclose={ close }\n\t\t\trenderDialog={ renderDialog }\n\t\t\t{ ...isDirtyProps }\n\t\t/>\n\t);\n}\n\n/**\n * Renders a panel for saving entities with dirty records.\n *\n * @param {Object}   props                       The component props.\n * @param {string}   props.additionalPrompt      Additional prompt to display.\n * @param {Function} props.close                 Function to close the panel.\n * @param {Function} props.onSave                Function to call when saving entities.\n * @param {boolean}  props.saveEnabled           Flag indicating if save is enabled.\n * @param {string}   props.saveLabel             Label for the save button.\n * @param {Function} props.renderDialog          Function to render a custom dialog.\n * @param {Array}    props.dirtyEntityRecords    Array of dirty entity records.\n * @param {boolean}  props.isDirty               Flag indicating if there are dirty entities.\n * @param {Function} props.setUnselectedEntities Function to set unselected entities.\n * @param {Array}    props.unselectedEntities    Array of unselected entities.\n *\n * @return {JSX.Element} The rendered component.\n */\nexport function EntitiesSavedStatesExtensible( {\n\tadditionalPrompt = undefined,\n\tclose,\n\tonSave = identity,\n\tsaveEnabled: saveEnabledProp = undefined,\n\tsaveLabel = __( 'Save' ),\n\trenderDialog = undefined,\n\tdirtyEntityRecords,\n\tisDirty,\n\tsetUnselectedEntities,\n\tunselectedEntities,\n} ) {\n\tconst saveButtonRef = useRef();\n\tconst { saveDirtyEntities } = unlock( useDispatch( editorStore ) );\n\t// To group entities by type.\n\tconst partitionedSavables = dirtyEntityRecords.reduce( ( acc, record ) => {\n\t\tconst { name } = record;\n\t\tif ( ! acc[ name ] ) {\n\t\t\tacc[ name ] = [];\n\t\t}\n\t\tacc[ name ].push( record );\n\t\treturn acc;\n\t}, {} );\n\n\t// Sort entity groups.\n\tconst {\n\t\tsite: siteSavables,\n\t\twp_template: templateSavables,\n\t\twp_template_part: templatePartSavables,\n\t\t...contentSavables\n\t} = partitionedSavables;\n\tconst sortedPartitionedSavables = [\n\t\tsiteSavables,\n\t\ttemplateSavables,\n\t\ttemplatePartSavables,\n\t\t...Object.values( contentSavables ),\n\t].filter( Array.isArray );\n\n\tconst saveEnabled = saveEnabledProp ?? isDirty;\n\t// Explicitly define this with no argument passed.  Using `close` on\n\t// its own will use the event object in place of the expected saved entities.\n\tconst dismissPanel = useCallback( () => close(), [ close ] );\n\n\tconst [ saveDialogRef, saveDialogProps ] = useDialog( {\n\t\tonClose: () => dismissPanel(),\n\t} );\n\tconst dialogLabel = useInstanceId( EntitiesSavedStatesExtensible, 'label' );\n\tconst dialogDescription = useInstanceId(\n\t\tEntitiesSavedStatesExtensible,\n\t\t'description'\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tref={ saveDialogRef }\n\t\t\t{ ...saveDialogProps }\n\t\t\tclassName=\"entities-saved-states__panel\"\n\t\t\trole={ renderDialog ? 'dialog' : undefined }\n\t\t\taria-labelledby={ renderDialog ? dialogLabel : undefined }\n\t\t\taria-describedby={ renderDialog ? dialogDescription : undefined }\n\t\t>\n\t\t\t<Flex className=\"entities-saved-states__panel-header\" gap={ 2 }>\n\t\t\t\t<FlexItem\n\t\t\t\t\tisBlock\n\t\t\t\t\tas={ Button }\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\tonClick={ dismissPanel }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem\n\t\t\t\t\tisBlock\n\t\t\t\t\tas={ Button }\n\t\t\t\t\tref={ saveButtonRef }\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\tdisabled={ ! saveEnabled }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\tsaveDirtyEntities( {\n\t\t\t\t\t\t\tonSave,\n\t\t\t\t\t\t\tdirtyEntityRecords,\n\t\t\t\t\t\t\tentitiesToSkip: unselectedEntities,\n\t\t\t\t\t\t\tclose,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"editor-entities-saved-states__save-button\"\n\t\t\t\t>\n\t\t\t\t\t{ saveLabel }\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\n\t\t\t<div className=\"entities-saved-states__text-prompt\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"entities-saved-states__text-prompt--header-wrapper\"\n\t\t\t\t\tid={ renderDialog ? dialogLabel : undefined }\n\t\t\t\t>\n\t\t\t\t\t<strong className=\"entities-saved-states__text-prompt--header\">\n\t\t\t\t\t\t{ __( 'Are you ready to save?' ) }\n\t\t\t\t\t</strong>\n\t\t\t\t\t{ additionalPrompt }\n\t\t\t\t</div>\n\t\t\t\t<p id={ renderDialog ? dialogDescription : undefined }>\n\t\t\t\t\t{ isDirty\n\t\t\t\t\t\t? createInterpolateElement(\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %d: number of site changes waiting to be saved. */\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'There is <strong>%d site change</strong> waiting to be saved.',\n\t\t\t\t\t\t\t\t\t\t'There are <strong>%d site changes</strong> waiting to be saved.',\n\t\t\t\t\t\t\t\t\t\tsortedPartitionedSavables.length\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tsortedPartitionedSavables.length\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{ strong: <strong /> }\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: __( 'Select the items you want to save.' ) }\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{ sortedPartitionedSavables.map( ( list ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityTypeList\n\t\t\t\t\t\tkey={ list[ 0 ].name }\n\t\t\t\t\t\tlist={ list }\n\t\t\t\t\t\tunselectedEntities={ unselectedEntities }\n\t\t\t\t\t\tsetUnselectedEntities={ setUnselectedEntities }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { select } from '@wordpress/data';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction getContent() {\n\ttry {\n\t\t// While `select` in a component is generally discouraged, it is\n\t\t// used here because it (a) reduces the chance of data loss in the\n\t\t// case of additional errors by performing a direct retrieval and\n\t\t// (b) avoids the performance cost associated with unnecessary\n\t\t// content serialization throughout the lifetime of a non-erroring\n\t\t// application.\n\t\treturn select( editorStore ).getEditedPostContent();\n\t} catch ( error ) {}\n}\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button __next40pxDefaultSize variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nclass ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\tconst actions = [\n\t\t\t<CopyButton key=\"copy-post\" text={ getContent }>\n\t\t\t\t{ __( 'Copy Post Text' ) }\n\t\t\t</CopyButton>,\n\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t</CopyButton>,\n\t\t];\n\n\t\treturn (\n\t\t\t<Warning className=\"editor-error-boundary\" actions={ actions }>\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n}\n\n/**\n * ErrorBoundary is used to catch JavaScript errors anywhere in a child component tree, log those errors, and display a fallback UI.\n *\n * It uses the lifecycle methods getDerivedStateFromError and componentDidCatch to catch errors in a child component tree.\n *\n * getDerivedStateFromError is used to render a fallback UI after an error has been thrown, and componentDidCatch is used to log error information.\n *\n * @class ErrorBoundary\n * @augments Component\n */\nexport default ErrorBoundary;\n","/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef } from '@wordpress/element';\nimport { ifCondition, usePrevious } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { parse } from '@wordpress/blocks';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport AutosaveMonitor from '../autosave-monitor';\nimport {\n\tlocalAutosaveGet,\n\tlocalAutosaveClear,\n} from '../../store/local-autosave';\nimport { store as editorStore } from '../../store';\n\nconst requestIdleCallback = window.requestIdleCallback\n\t? window.requestIdleCallback\n\t: window.requestAnimationFrame;\n\nlet hasStorageSupport;\n\n/**\n * Function which returns true if the current environment supports browser\n * sessionStorage, or false otherwise. The result of this function is cached and\n * reused in subsequent invocations.\n */\nconst hasSessionStorageSupport = () => {\n\tif ( hasStorageSupport !== undefined ) {\n\t\treturn hasStorageSupport;\n\t}\n\n\ttry {\n\t\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t\t// attempting to set into sessionStorage. The test here is intentional in\n\t\t// causing a thrown error as condition bailing from local autosave.\n\t\twindow.sessionStorage.setItem( '__wpEditorTestSessionStorage', '' );\n\t\twindow.sessionStorage.removeItem( '__wpEditorTestSessionStorage' );\n\t\thasStorageSupport = true;\n\t} catch {\n\t\thasStorageSupport = false;\n\t}\n\n\treturn hasStorageSupport;\n};\n\n/**\n * Custom hook which manages the creation of a notice prompting the user to\n * restore a local autosave, if one exists.\n */\nfunction useAutosaveNotice() {\n\tconst { postId, isEditedPostNew, hasRemoteAutosave } = useSelect(\n\t\t( select ) => ( {\n\t\t\tpostId: select( editorStore ).getCurrentPostId(),\n\t\t\tisEditedPostNew: select( editorStore ).isEditedPostNew(),\n\t\t\thasRemoteAutosave:\n\t\t\t\t!! select( editorStore ).getEditorSettings().autosave,\n\t\t} ),\n\t\t[]\n\t);\n\tconst { getEditedPostAttribute } = useSelect( editorStore );\n\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticesStore );\n\tconst { editPost, resetEditorBlocks } = useDispatch( editorStore );\n\n\tuseEffect( () => {\n\t\tlet localAutosave = localAutosaveGet( postId, isEditedPostNew );\n\t\tif ( ! localAutosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tlocalAutosave = JSON.parse( localAutosave );\n\t\t} catch {\n\t\t\t// Not usable if it can't be parsed.\n\t\t\treturn;\n\t\t}\n\n\t\tconst { post_title: title, content, excerpt } = localAutosave;\n\t\tconst edits = { title, content, excerpt };\n\n\t\t{\n\t\t\t// Only display a notice if there is a difference between what has been\n\t\t\t// saved and that which is stored in sessionStorage.\n\t\t\tconst hasDifference = Object.keys( edits ).some( ( key ) => {\n\t\t\t\treturn edits[ key ] !== getEditedPostAttribute( key );\n\t\t\t} );\n\n\t\t\tif ( ! hasDifference ) {\n\t\t\t\t// If there is no difference, it can be safely ejected from storage.\n\t\t\t\tlocalAutosaveClear( postId, isEditedPostNew );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( hasRemoteAutosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst id = 'wpEditorAutosaveRestore';\n\n\t\tcreateWarningNotice(\n\t\t\t__(\n\t\t\t\t'The backup of this post in your browser is different from the version below.'\n\t\t\t),\n\t\t\t{\n\t\t\t\tid,\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Restore the backup' ),\n\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tcontent: editsContent,\n\t\t\t\t\t\t\t\t...editsWithoutContent\n\t\t\t\t\t\t\t} = edits;\n\t\t\t\t\t\t\teditPost( editsWithoutContent );\n\t\t\t\t\t\t\tresetEditorBlocks( parse( edits.content ) );\n\t\t\t\t\t\t\tremoveNotice( id );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t);\n\t}, [ isEditedPostNew, postId ] );\n}\n\n/**\n * Custom hook which ejects a local autosave after a successful save occurs.\n */\nfunction useAutosavePurge() {\n\tconst { postId, isEditedPostNew, isDirty, isAutosaving, didError } =\n\t\tuseSelect(\n\t\t\t( select ) => ( {\n\t\t\t\tpostId: select( editorStore ).getCurrentPostId(),\n\t\t\t\tisEditedPostNew: select( editorStore ).isEditedPostNew(),\n\t\t\t\tisDirty: select( editorStore ).isEditedPostDirty(),\n\t\t\t\tisAutosaving: select( editorStore ).isAutosavingPost(),\n\t\t\t\tdidError: select( editorStore ).didPostSaveRequestFail(),\n\t\t\t} ),\n\t\t\t[]\n\t\t);\n\n\tconst lastIsDirtyRef = useRef( isDirty );\n\tconst lastIsAutosavingRef = useRef( isAutosaving );\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\t! didError &&\n\t\t\t( ( lastIsAutosavingRef.current && ! isAutosaving ) ||\n\t\t\t\t( lastIsDirtyRef.current && ! isDirty ) )\n\t\t) {\n\t\t\tlocalAutosaveClear( postId, isEditedPostNew );\n\t\t}\n\n\t\tlastIsDirtyRef.current = isDirty;\n\t\tlastIsAutosavingRef.current = isAutosaving;\n\t}, [ isDirty, isAutosaving, didError ] );\n\n\t// Once the isEditedPostNew changes from true to false, let's clear the auto-draft autosave.\n\tconst wasEditedPostNew = usePrevious( isEditedPostNew );\n\tconst prevPostId = usePrevious( postId );\n\tuseEffect( () => {\n\t\tif ( prevPostId === postId && wasEditedPostNew && ! isEditedPostNew ) {\n\t\t\tlocalAutosaveClear( postId, true );\n\t\t}\n\t}, [ isEditedPostNew, postId ] );\n}\n\nfunction LocalAutosaveMonitor() {\n\tconst { autosave } = useDispatch( editorStore );\n\tconst deferredAutosave = useCallback( () => {\n\t\trequestIdleCallback( () => autosave( { local: true } ) );\n\t}, [] );\n\tuseAutosaveNotice();\n\tuseAutosavePurge();\n\n\tconst localAutosaveInterval = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().localAutosaveInterval,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<AutosaveMonitor\n\t\t\tinterval={ localAutosaveInterval }\n\t\t\tautosave={ deferredAutosave }\n\t\t/>\n\t);\n}\n\n/**\n * Monitors local autosaves of a post in the editor.\n * It uses several hooks and functions to manage autosave behavior:\n * - `useAutosaveNotice` hook: Manages the creation of a notice prompting the user to restore a local autosave, if one exists.\n * - `useAutosavePurge` hook: Ejects a local autosave after a successful save occurs.\n * - `hasSessionStorageSupport` function: Checks if the current environment supports browser sessionStorage.\n * - `LocalAutosaveMonitor` component: Uses the `AutosaveMonitor` component to perform autosaves at a specified interval.\n *\n * The module also checks for sessionStorage support and conditionally exports the `LocalAutosaveMonitor` component based on that.\n *\n * @module LocalAutosaveMonitor\n */\nexport default ifCondition( hasSessionStorageSupport )( LocalAutosaveMonitor );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if the post type supports page attributes.\n *\n * @param {Object}  props          - The component props.\n * @param {Element} props.children - The child components to render.\n *\n * @return {Component|null} The rendered child components or null if page attributes are not supported.\n */\nexport function PageAttributesCheck( { children } ) {\n\tconst supportsPageAttributes = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn !! postType?.supports?.[ 'page-attributes' ];\n\t}, [] );\n\n\t// Only render fields if post type supports page attributes or available templates exist.\n\tif ( ! supportsPageAttributes ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PageAttributesCheck;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * A component which renders its own children only if the current editor post\n * type supports one of the given `supportKeys` prop.\n *\n * @param {Object}            props             Props.\n * @param {Element}           props.children    Children to be rendered if post\n *                                              type supports.\n * @param {(string|string[])} props.supportKeys String or string array of keys\n *                                              to test.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostTypeSupportCheck( { children, supportKeys } ) {\n\tconst postType = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn getPostType( getEditedPostAttribute( 'type' ) );\n\t}, [] );\n\tlet isSupported = !! postType;\n\tif ( postType ) {\n\t\tisSupported = (\n\t\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\n\t\t).some( ( key ) => !! postType.supports[ key ] );\n\t}\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PostTypeSupportCheck;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tFlex,\n\tFlexBlock,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PageAttributesOrder() {\n\tconst order = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'menu_order' ) ?? 0,\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ orderInput, setOrderInput ] = useState( null );\n\n\tconst setUpdatedOrder = ( value ) => {\n\t\tsetOrderInput( value );\n\t\tconst newOrder = Number( value );\n\t\tif ( Number.isInteger( newOrder ) && value.trim?.() !== '' ) {\n\t\t\teditPost( { menu_order: newOrder } );\n\t\t}\n\t};\n\n\tconst value = orderInput ?? order;\n\n\treturn (\n\t\t<Flex>\n\t\t\t<FlexBlock>\n\t\t\t\t<NumberControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Order' ) }\n\t\t\t\t\thelp={ __( 'Set the page order.' ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ setUpdatedOrder }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tonBlur={ () => {\n\t\t\t\t\t\tsetOrderInput( null );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</FlexBlock>\n\t\t</Flex>\n\t);\n}\n\n/**\n * Renders the Page Attributes Order component. A number input in an editor interface\n * for setting the order of a given page.\n * The component is now not used in core but was kept for backward compatibility.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PageAttributesOrderWithChecks() {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"page-attributes\">\n\t\t\t<PageAttributesOrder />\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { forwardRef } from '@wordpress/element';\n\nconst PostPanelRow = forwardRef( ( { className, label, children }, ref ) => {\n\treturn (\n\t\t<HStack\n\t\t\tclassName={ clsx( 'editor-post-panel__row', className ) }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ label && (\n\t\t\t\t<div className=\"editor-post-panel__row-label\">{ label }</div>\n\t\t\t) }\n\t\t\t<div className=\"editor-post-panel__row-control\">{ children }</div>\n\t\t</HStack>\n\t);\n} );\n\nexport default PostPanelRow;\n","/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Returns terms in a tree form.\n *\n * @param {Array} flatTerms Array of terms in flat format.\n *\n * @return {Array} Array of terms in tree format.\n */\nexport function buildTermsTree( flatTerms ) {\n\tconst flatTermsWithParentAndChildren = flatTerms.map( ( term ) => {\n\t\treturn {\n\t\t\tchildren: [],\n\t\t\tparent: null,\n\t\t\t...term,\n\t\t};\n\t} );\n\n\t// All terms should have a `parent` because we're about to index them by it.\n\tif (\n\t\tflatTermsWithParentAndChildren.some( ( { parent } ) => parent === null )\n\t) {\n\t\treturn flatTermsWithParentAndChildren;\n\t}\n\n\tconst termsByParent = flatTermsWithParentAndChildren.reduce(\n\t\t( acc, term ) => {\n\t\t\tconst { parent } = term;\n\t\t\tif ( ! acc[ parent ] ) {\n\t\t\t\tacc[ parent ] = [];\n\t\t\t}\n\t\t\tacc[ parent ].push( term );\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n\n\tconst fillWithChildren = ( terms ) => {\n\t\treturn terms.map( ( term ) => {\n\t\t\tconst children = termsByParent[ term.id ];\n\t\t\treturn {\n\t\t\t\t...term,\n\t\t\t\tchildren:\n\t\t\t\t\tchildren && children.length\n\t\t\t\t\t\t? fillWithChildren( children )\n\t\t\t\t\t\t: [],\n\t\t\t};\n\t\t} );\n\t};\n\n\treturn fillWithChildren( termsByParent[ '0' ] || [] );\n}\n\nexport const unescapeString = ( arg ) => {\n\treturn decodeEntities( arg );\n};\n\n/**\n * Returns a term object with name unescaped.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nexport const unescapeTerm = ( term ) => {\n\treturn {\n\t\t...term,\n\t\tname: unescapeString( term.name ),\n\t};\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nexport const unescapeTerms = ( terms ) => {\n\treturn ( terms ?? [] ).map( unescapeTerm );\n};\n","/**\n * External dependencies\n */\nimport removeAccents from 'remove-accents';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\tDropdown,\n\tComboboxControl,\n\tExternalLink,\n} from '@wordpress/components';\nimport { debounce } from '@wordpress/compose';\nimport {\n\tcreateInterpolateElement,\n\tuseState,\n\tuseMemo,\n} from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { filterURLForDisplay } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\nimport { buildTermsTree } from '../../utils/terms';\nimport { store as editorStore } from '../../store';\n\nfunction getTitle( post ) {\n\treturn post?.title?.rendered\n\t\t? decodeEntities( post.title.rendered )\n\t\t: `#${ post.id } (${ __( 'no title' ) })`;\n}\n\nexport const getItemPriority = ( name, searchValue ) => {\n\tconst normalizedName = removeAccents( name || '' ).toLowerCase();\n\tconst normalizedSearch = removeAccents( searchValue || '' ).toLowerCase();\n\tif ( normalizedName === normalizedSearch ) {\n\t\treturn 0;\n\t}\n\n\tif ( normalizedName.startsWith( normalizedSearch ) ) {\n\t\treturn normalizedName.length;\n\t}\n\n\treturn Infinity;\n};\n\n/**\n * Renders the Page Attributes Parent component. A dropdown menu in an editor interface\n * for selecting the parent page of a given page.\n *\n * @return {Component|null} The component to be rendered. Return null if post type is not hierarchical.\n */\nexport function PageAttributesParent() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ fieldValue, setFieldValue ] = useState( false );\n\tconst { isHierarchical, parentPostId, parentPostTitle, pageItems } =\n\t\tuseSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst { getPostType, getEntityRecords, getEntityRecord } =\n\t\t\t\t\tselect( coreStore );\n\t\t\t\tconst { getCurrentPostId, getEditedPostAttribute } =\n\t\t\t\t\tselect( editorStore );\n\t\t\t\tconst postTypeSlug = getEditedPostAttribute( 'type' );\n\t\t\t\tconst pageId = getEditedPostAttribute( 'parent' );\n\t\t\t\tconst pType = getPostType( postTypeSlug );\n\t\t\t\tconst postId = getCurrentPostId();\n\t\t\t\tconst postIsHierarchical = pType?.hierarchical ?? false;\n\t\t\t\tconst query = {\n\t\t\t\t\tper_page: 100,\n\t\t\t\t\texclude: postId,\n\t\t\t\t\tparent_exclude: postId,\n\t\t\t\t\torderby: 'menu_order',\n\t\t\t\t\torder: 'asc',\n\t\t\t\t\t_fields: 'id,title,parent',\n\t\t\t\t};\n\n\t\t\t\t// Perform a search when the field is changed.\n\t\t\t\tif ( !! fieldValue ) {\n\t\t\t\t\tquery.search = fieldValue;\n\t\t\t\t}\n\n\t\t\t\tconst parentPost = pageId\n\t\t\t\t\t? getEntityRecord( 'postType', postTypeSlug, pageId )\n\t\t\t\t\t: null;\n\n\t\t\t\treturn {\n\t\t\t\t\tisHierarchical: postIsHierarchical,\n\t\t\t\t\tparentPostId: pageId,\n\t\t\t\t\tparentPostTitle: parentPost ? getTitle( parentPost ) : '',\n\t\t\t\t\tpageItems: postIsHierarchical\n\t\t\t\t\t\t? getEntityRecords( 'postType', postTypeSlug, query )\n\t\t\t\t\t\t: null,\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ fieldValue ]\n\t\t);\n\n\tconst parentOptions = useMemo( () => {\n\t\tconst getOptionsFromTree = ( tree, level = 0 ) => {\n\t\t\tconst mappedNodes = tree.map( ( treeNode ) => [\n\t\t\t\t{\n\t\t\t\t\tvalue: treeNode.id,\n\t\t\t\t\tlabel:\n\t\t\t\t\t\t'— '.repeat( level ) + decodeEntities( treeNode.name ),\n\t\t\t\t\trawName: treeNode.name,\n\t\t\t\t},\n\t\t\t\t...getOptionsFromTree( treeNode.children || [], level + 1 ),\n\t\t\t] );\n\n\t\t\tconst sortedNodes = mappedNodes.sort( ( [ a ], [ b ] ) => {\n\t\t\t\tconst priorityA = getItemPriority( a.rawName, fieldValue );\n\t\t\t\tconst priorityB = getItemPriority( b.rawName, fieldValue );\n\t\t\t\treturn priorityA >= priorityB ? 1 : -1;\n\t\t\t} );\n\n\t\t\treturn sortedNodes.flat();\n\t\t};\n\n\t\tif ( ! pageItems ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tlet tree = pageItems.map( ( item ) => ( {\n\t\t\tid: item.id,\n\t\t\tparent: item.parent,\n\t\t\tname: getTitle( item ),\n\t\t} ) );\n\n\t\t// Only build a hierarchical tree when not searching.\n\t\tif ( ! fieldValue ) {\n\t\t\ttree = buildTermsTree( tree );\n\t\t}\n\n\t\tconst opts = getOptionsFromTree( tree );\n\n\t\t// Ensure the current parent is in the options list.\n\t\tconst optsHasParent = opts.find(\n\t\t\t( item ) => item.value === parentPostId\n\t\t);\n\t\tif ( parentPostTitle && ! optsHasParent ) {\n\t\t\topts.unshift( {\n\t\t\t\tvalue: parentPostId,\n\t\t\t\tlabel: parentPostTitle,\n\t\t\t} );\n\t\t}\n\t\treturn opts;\n\t}, [ pageItems, fieldValue, parentPostTitle, parentPostId ] );\n\n\tif ( ! isHierarchical ) {\n\t\treturn null;\n\t}\n\t/**\n\t * Handle user input.\n\t *\n\t * @param {string} inputValue The current value of the input field.\n\t */\n\tconst handleKeydown = ( inputValue ) => {\n\t\tsetFieldValue( inputValue );\n\t};\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {Object} selectedPostId The selected Author.\n\t */\n\tconst handleChange = ( selectedPostId ) => {\n\t\teditPost( { parent: selectedPostId } );\n\t};\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName=\"editor-page-attributes__parent\"\n\t\t\tlabel={ __( 'Parent' ) }\n\t\t\thelp={ __( 'Choose a parent page.' ) }\n\t\t\tvalue={ parentPostId }\n\t\t\toptions={ parentOptions }\n\t\t\tonFilterValueChange={ debounce( handleKeydown, 300 ) }\n\t\t\tonChange={ handleChange }\n\t\t\thideLabelFromVision\n\t\t/>\n\t);\n}\n\nfunction PostParentToggle( { isOpen, onClick } ) {\n\tconst parentPost = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst parentPostId = getEditedPostAttribute( 'parent' );\n\t\tif ( ! parentPostId ) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst postTypeSlug = getEditedPostAttribute( 'type' );\n\t\treturn getEntityRecord( 'postType', postTypeSlug, parentPostId );\n\t}, [] );\n\tconst parentTitle = useMemo(\n\t\t() => ( ! parentPost ? __( 'None' ) : getTitle( parentPost ) ),\n\t\t[ parentPost ]\n\t);\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-parent__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\t// translators: %s: Current post parent.\n\t\t\taria-label={ sprintf( __( 'Change parent: %s' ), parentTitle ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ parentTitle }\n\t\t</Button>\n\t);\n}\n\nexport function ParentRow() {\n\tconst homeUrl = useSelect( ( select ) => {\n\t\t// Site index.\n\t\treturn select( coreStore ).getEntityRecord( 'root', '__unstableBase' )\n\t\t\t?.home;\n\t}, [] );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\treturn (\n\t\t<PostPanelRow label={ __( 'Parent' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tclassName=\"editor-post-parent__panel-dropdown\"\n\t\t\t\tcontentClassName=\"editor-post-parent__panel-dialog\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<PostParentToggle isOpen={ isOpen } onClick={ onToggle } />\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<div className=\"editor-post-parent\">\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Parent' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %1$s The home URL of the WordPress installation without the scheme. */\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Child pages inherit characteristics from their parent, such as URL structure. For instance, if \"Pricing\" is a child of \"Services\", its URL would be %1$s<wbr />/services<wbr />/pricing.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tfilterURLForDisplay( homeUrl ).replace(\n\t\t\t\t\t\t\t\t\t\t/([/.])/g,\n\t\t\t\t\t\t\t\t\t\t'<wbr />$1'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\twbr: <wbr />,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'They also show up as sub-items in the default navigation menu. <a>Learn more.</a>'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#page-attributes'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<PageAttributesParent />\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n\nexport default PageAttributesParent;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PageAttributesCheck from './check';\nimport { ParentRow } from './parent';\n\nconst PANEL_NAME = 'page-attributes';\n\nfunction AttributesPanel() {\n\tconst { isEnabled, postType } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, isEditorPanelEnabled } =\n\t\t\tselect( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn {\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t};\n\t}, [] );\n\n\tif ( ! isEnabled || ! postType ) {\n\t\treturn null;\n\t}\n\n\treturn <ParentRow />;\n}\n\n/**\n * Renders the Page Attributes Panel component.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PageAttributesPanel() {\n\treturn (\n\t\t<PageAttributesCheck>\n\t\t\t<AttributesPanel />\n\t\t</PageAttributesCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst addTemplate = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default addTemplate;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { serialize, createBlock } from '@wordpress/blocks';\nimport {\n\tModal,\n\tTextControl,\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { cleanForSlug } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst DEFAULT_TITLE = __( 'Custom Template' );\n\nexport default function CreateNewTemplateModal( { onClose } ) {\n\tconst { defaultBlockTemplate, onNavigateToEntityRecord } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditorSettings, getCurrentTemplateId } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tdefaultBlockTemplate: getEditorSettings().defaultBlockTemplate,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\tgetEditorSettings().onNavigateToEntityRecord,\n\t\t\t\tgetTemplateId: getCurrentTemplateId,\n\t\t\t};\n\t\t}\n\t);\n\n\tconst { createTemplate } = unlock( useDispatch( editorStore ) );\n\n\tconst [ title, setTitle ] = useState( '' );\n\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\n\tconst cancel = () => {\n\t\tsetTitle( '' );\n\t\tonClose();\n\t};\n\n\tconst submit = async ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsBusy( true );\n\n\t\tconst newTemplateContent =\n\t\t\tdefaultBlockTemplate ??\n\t\t\tserialize( [\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\ttagName: 'header',\n\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/site-title' ),\n\t\t\t\t\t\tcreateBlock( 'core/site-tagline' ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t\tcreateBlock( 'core/separator' ),\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\ttagName: 'main',\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t'core/group',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[ createBlock( 'core/post-title' ) ]\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcreateBlock( 'core/post-content', {\n\t\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t] );\n\n\t\tconst newTemplate = await createTemplate( {\n\t\t\tslug: cleanForSlug( title || DEFAULT_TITLE ),\n\t\t\tcontent: newTemplateContent,\n\t\t\ttitle: title || DEFAULT_TITLE,\n\t\t} );\n\n\t\tsetIsBusy( false );\n\t\tonNavigateToEntityRecord( {\n\t\t\tpostId: newTemplate.id,\n\t\t\tpostType: 'wp_template',\n\t\t} );\n\t\tcancel();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create custom template' ) }\n\t\t\tonRequestClose={ cancel }\n\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\tsize=\"small\"\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"editor-post-template__create-form\"\n\t\t\t\tonSubmit={ submit }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tplaceholder={ DEFAULT_TITLE }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\". A custom template can be manually applied to any post or page.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ cancel }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function useEditedPostContext() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostId, getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n}\nexport function useAllowSwitchingTemplates() {\n\tconst { postType, postId } = useEditedPostContext();\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getEntityRecord, getEntityRecords } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\tconst templates = getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t} );\n\t\t\tconst isPostsPage = +postId === siteSettings?.page_for_posts;\n\t\t\t// If current page is set front page or posts page, we also need\n\t\t\t// to check if the current theme has a template for it. If not\n\t\t\tconst isFrontPage =\n\t\t\t\tpostType === 'page' &&\n\t\t\t\t+postId === siteSettings?.page_on_front &&\n\t\t\t\ttemplates?.some( ( { slug } ) => slug === 'front-page' );\n\t\t\treturn ! isPostsPage && ! isFrontPage;\n\t\t},\n\t\t[ postId, postType ]\n\t);\n}\n\nfunction useTemplates( postType ) {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t\tpost_type: postType,\n\t\t\t} ),\n\t\t[ postType ]\n\t);\n}\n\nexport function useAvailableTemplates( postType ) {\n\tconst currentTemplateSlug = useCurrentTemplateSlug();\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst templates = useTemplates( postType );\n\treturn useMemo(\n\t\t() =>\n\t\t\tallowSwitchingTemplate &&\n\t\t\ttemplates?.filter(\n\t\t\t\t( template ) =>\n\t\t\t\t\ttemplate.is_custom &&\n\t\t\t\t\ttemplate.slug !== currentTemplateSlug &&\n\t\t\t\t\t!! template.content.raw // Skip empty templates.\n\t\t\t),\n\t\t[ templates, currentTemplateSlug, allowSwitchingTemplate ]\n\t);\n}\n\nexport function useCurrentTemplateSlug() {\n\tconst { postType, postId } = useEditedPostContext();\n\tconst templates = useTemplates( postType );\n\tconst entityTemplate = useSelect(\n\t\t( select ) => {\n\t\t\tconst post = select( coreStore ).getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\t\t\treturn post?.template;\n\t\t},\n\t\t[ postType, postId ]\n\t);\n\n\tif ( ! entityTemplate ) {\n\t\treturn;\n\t}\n\t// If a page has a `template` set and is not included in the list\n\t// of the theme's templates, do not return it, in order to resolve\n\t// to the current theme's default template.\n\treturn templates?.find( ( template ) => template.slug === entityTemplate )\n\t\t?.slug;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl, Dropdown, Button, Notice } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { useState, useMemo } from '@wordpress/element';\nimport { addTemplate } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport CreateNewTemplateModal from './create-new-template-modal';\nimport { useAllowSwitchingTemplates } from './hooks';\n\nconst POPOVER_PROPS = {\n\tclassName: 'editor-post-template__dropdown',\n\tplacement: 'bottom-start',\n};\n\nfunction PostTemplateToggle( { isOpen, onClick } ) {\n\tconst templateTitle = useSelect( ( select ) => {\n\t\tconst templateSlug =\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'template' );\n\n\t\tconst { supportsTemplateMode, availableTemplates } =\n\t\t\tselect( editorStore ).getEditorSettings();\n\t\tif ( ! supportsTemplateMode && availableTemplates[ templateSlug ] ) {\n\t\t\treturn availableTemplates[ templateSlug ];\n\t\t}\n\t\tconst template =\n\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ) && select( editorStore ).getCurrentTemplateId();\n\t\treturn (\n\t\t\ttemplate?.title ||\n\t\t\ttemplate?.slug ||\n\t\t\tavailableTemplates?.[ templateSlug ]\n\t\t);\n\t}, [] );\n\n\treturn (\n\t\t<Button\n\t\t\t__next40pxDefaultSize\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={ __( 'Template options' ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ templateTitle ?? __( 'Default template' ) }\n\t\t</Button>\n\t);\n}\n\n/**\n * Renders the dropdown content for selecting a post template.\n *\n * @param {Object}   props         The component props.\n * @param {Function} props.onClose The function to close the dropdown.\n *\n * @return {JSX.Element} The rendered dropdown content.\n */\nfunction PostTemplateDropdownContent( { onClose } ) {\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst {\n\t\tavailableTemplates,\n\t\tfetchedTemplates,\n\t\tselectedTemplateSlug,\n\t\tcanCreate,\n\t\tcanEdit,\n\t\tcurrentTemplateId,\n\t\tonNavigateToEntityRecord,\n\t\tgetEditorSettings,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getEntityRecords } = select( coreStore );\n\t\t\tconst editorSettings = select( editorStore ).getEditorSettings();\n\t\t\tconst canCreateTemplates = canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} );\n\t\t\tconst _currentTemplateId =\n\t\t\t\tselect( editorStore ).getCurrentTemplateId();\n\t\t\treturn {\n\t\t\t\tavailableTemplates: editorSettings.availableTemplates,\n\t\t\t\tfetchedTemplates: canCreateTemplates\n\t\t\t\t\t? getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\t\t\t\tpost_type:\n\t\t\t\t\t\t\t\tselect( editorStore ).getCurrentPostType(),\n\t\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t  } )\n\t\t\t\t\t: undefined,\n\t\t\t\tselectedTemplateSlug:\n\t\t\t\t\tselect( editorStore ).getEditedPostAttribute( 'template' ),\n\t\t\t\tcanCreate:\n\t\t\t\t\tallowSwitchingTemplate &&\n\t\t\t\t\tcanCreateTemplates &&\n\t\t\t\t\teditorSettings.supportsTemplateMode,\n\t\t\t\tcanEdit:\n\t\t\t\t\tallowSwitchingTemplate &&\n\t\t\t\t\tcanCreateTemplates &&\n\t\t\t\t\teditorSettings.supportsTemplateMode &&\n\t\t\t\t\t!! _currentTemplateId,\n\t\t\t\tcurrentTemplateId: _currentTemplateId,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\teditorSettings.onNavigateToEntityRecord,\n\t\t\t\tgetEditorSettings: select( editorStore ).getEditorSettings,\n\t\t\t};\n\t\t},\n\t\t[ allowSwitchingTemplate ]\n\t);\n\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tObject.entries( {\n\t\t\t\t...availableTemplates,\n\t\t\t\t...Object.fromEntries(\n\t\t\t\t\t( fetchedTemplates ?? [] ).map( ( { slug, title } ) => [\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\ttitle.rendered,\n\t\t\t\t\t] )\n\t\t\t\t),\n\t\t\t} ).map( ( [ slug, title ] ) => ( { value: slug, label: title } ) ),\n\t\t[ availableTemplates, fetchedTemplates ]\n\t);\n\n\tconst selectedOption =\n\t\toptions.find( ( option ) => option.value === selectedTemplateSlug ) ??\n\t\toptions.find( ( option ) => ! option.value ); // The default option has '' value.\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\n\n\treturn (\n\t\t<div className=\"editor-post-template__classic-theme-dropdown\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Template' ) }\n\t\t\t\thelp={ __(\n\t\t\t\t\t'Templates define the way content is displayed when viewing your site.'\n\t\t\t\t) }\n\t\t\t\tactions={\n\t\t\t\t\tcanCreate\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ticon: addTemplate,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Add template' ),\n\t\t\t\t\t\t\t\t\tonClick: () => setIsCreateModalOpen( true ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t{ ! allowSwitchingTemplate ? (\n\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t{ __( 'The posts page template cannot be changed.' ) }\n\t\t\t\t</Notice>\n\t\t\t) : (\n\t\t\t\t<SelectControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tlabel={ __( 'Template' ) }\n\t\t\t\t\tvalue={ selectedOption?.value ?? '' }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ ( slug ) =>\n\t\t\t\t\t\teditPost( { template: slug || '' } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ canEdit && onNavigateToEntityRecord && (\n\t\t\t\t<p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t// TODO: Switch to `true` (40px size) if possible\n\t\t\t\t\t\t__next40pxDefaultSize={ false }\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\t\t\tpostId: currentTemplateId,\n\t\t\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Editing template. Changes made here affect all posts and pages that use the template.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\t\t\tgetEditorSettings().onNavigateToPreviousEntityRecord(),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Edit template' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t{ isCreateModalOpen && (\n\t\t\t\t<CreateNewTemplateModal\n\t\t\t\t\tonClose={ () => setIsCreateModalOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction ClassicThemeControl() {\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\tfocusOnMount\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<PostTemplateToggle isOpen={ isOpen } onClick={ onToggle } />\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<PostTemplateDropdownContent onClose={ onClose } />\n\t\t\t) }\n\t\t/>\n\t);\n}\n\n/**\n * Provides a dropdown menu for selecting and managing post templates.\n *\n * The dropdown menu includes a button for toggling the menu, a list of available templates, and options for creating and editing templates.\n *\n * @return {JSX.Element} The rendered ClassicThemeControl component.\n */\nexport default ClassicThemeControl;\n","/**\n * WordPress dependencies\n */\nimport { compose, ifCondition } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { privateApis as preferencesPrivateApis } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { PreferenceBaseOption } = unlock( preferencesPrivateApis );\n\nexport default compose(\n\twithSelect( ( select, { panelName } ) => {\n\t\tconst { isEditorPanelEnabled, isEditorPanelRemoved } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tisRemoved: isEditorPanelRemoved( panelName ),\n\t\t\tisChecked: isEditorPanelEnabled( panelName ),\n\t\t};\n\t} ),\n\tifCondition( ( { isRemoved } ) => ! isRemoved ),\n\twithDispatch( ( dispatch, { panelName } ) => ( {\n\t\tonChange: () =>\n\t\t\tdispatch( editorStore ).toggleEditorPanelEnabled( panelName ),\n\t} ) )\n)( PreferenceBaseOption );\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"warning\"];","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport EnablePanelOption from './enable-panel';\n\nconst { Fill, Slot } = createSlotFill(\n\t'EnablePluginDocumentSettingPanelOption'\n);\n\nconst EnablePluginDocumentSettingPanelOption = ( { label, panelName } ) => (\n\t<Fill>\n\t\t<EnablePanelOption label={ label } panelName={ panelName } />\n\t</Fill>\n);\n\nEnablePluginDocumentSettingPanelOption.Slot = Slot;\n\nexport default EnablePluginDocumentSettingPanelOption;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { usePluginContext } from '@wordpress/plugins';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport warning from '@wordpress/warning';\n\n/**\n * Internal dependencies\n */\nimport EnablePluginDocumentSettingPanelOption from '../preferences-modal/enable-plugin-document-setting-panel';\nimport { store as editorStore } from '../../store';\n\nconst { Fill, Slot } = createSlotFill( 'PluginDocumentSettingPanel' );\n\n/**\n * Renders items below the Status & Availability panel in the Document Sidebar.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                props.name                            Required. A machine-friendly name for the panel.\n * @param {string}                [props.className]                     An optional class name added to the row.\n * @param {string}                [props.title]                         The title of the panel\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n * @param {Element}               props.children                        Children to be rendered\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var el = React.createElement;\n * var __ = wp.i18n.__;\n * var registerPlugin = wp.plugins.registerPlugin;\n * var PluginDocumentSettingPanel = wp.editor.PluginDocumentSettingPanel;\n *\n * function MyDocumentSettingPlugin() {\n * \treturn el(\n * \t\tPluginDocumentSettingPanel,\n * \t\t{\n * \t\t\tclassName: 'my-document-setting-plugin',\n * \t\t\ttitle: 'My Panel',\n * \t\t\tname: 'my-panel',\n * \t\t},\n * \t\t__( 'My Document Setting Panel' )\n * \t);\n * }\n *\n * registerPlugin( 'my-document-setting-plugin', {\n * \t\trender: MyDocumentSettingPlugin\n * } );\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { registerPlugin } from '@wordpress/plugins';\n * import { PluginDocumentSettingPanel } from '@wordpress/editor';\n *\n * const MyDocumentSettingTest = () => (\n * \t\t<PluginDocumentSettingPanel className=\"my-document-setting-plugin\" title=\"My Panel\" name=\"my-panel\">\n *\t\t\t<p>My Document Setting Panel</p>\n *\t\t</PluginDocumentSettingPanel>\n *\t);\n *\n *  registerPlugin( 'document-setting-test', { render: MyDocumentSettingTest } );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginDocumentSettingPanel = ( {\n\tname,\n\tclassName,\n\ttitle,\n\ticon,\n\tchildren,\n} ) => {\n\tconst { name: pluginName } = usePluginContext();\n\tconst panelName = `${ pluginName }/${ name }`;\n\tconst { opened, isEnabled } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isEditorPanelOpened, isEditorPanelEnabled } =\n\t\t\t\tselect( editorStore );\n\n\t\t\treturn {\n\t\t\t\topened: isEditorPanelOpened( panelName ),\n\t\t\t\tisEnabled: isEditorPanelEnabled( panelName ),\n\t\t\t};\n\t\t},\n\t\t[ panelName ]\n\t);\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( undefined === name ) {\n\t\twarning( 'PluginDocumentSettingPanel requires a name property.' );\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<EnablePluginDocumentSettingPanelOption\n\t\t\t\tlabel={ title }\n\t\t\t\tpanelName={ panelName }\n\t\t\t/>\n\t\t\t<Fill>\n\t\t\t\t{ isEnabled && (\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tclassName={ className }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\topened={ opened }\n\t\t\t\t\t\tonToggle={ () => toggleEditorPanelOpened( panelName ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ children }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t</Fill>\n\t\t</>\n\t);\n};\n\nPluginDocumentSettingPanel.Slot = Slot;\n\nexport default PluginDocumentSettingPanel;\n","/**\n * WordPress dependencies\n */\nimport { BlockSettingsMenuControls } from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\n\nconst isEverySelectedBlockAllowed = ( selected, allowed ) =>\n\tselected.filter( ( id ) => ! allowed.includes( id ) ).length === 0;\n\n/**\n * Plugins may want to add an item to the menu either for every block\n * or only for the specific ones provided in the `allowedBlocks` component property.\n *\n * If there are multiple blocks selected the item will be rendered if every block\n * is of one allowed type (not necessarily the same).\n *\n * @param {string[]} selectedBlocks Array containing the names of the blocks selected\n * @param {string[]} allowedBlocks  Array containing the names of the blocks allowed\n * @return {boolean} Whether the item will be rendered or not.\n */\nconst shouldRenderItem = ( selectedBlocks, allowedBlocks ) =>\n\t! Array.isArray( allowedBlocks ) ||\n\tisEverySelectedBlockAllowed( selectedBlocks, allowedBlocks );\n\n/**\n * Renders a new item in the block settings menu.\n *\n * @param {Object}                props                 Component props.\n * @param {Array}                 [props.allowedBlocks] An array containing a list of block names for which the item should be shown. If not present, it'll be rendered for any block. If multiple blocks are selected, it'll be shown if and only if all of them are in the allowed list.\n * @param {WPBlockTypeIconRender} [props.icon]          The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element.\n * @param {string}                props.label           The menu item text.\n * @param {Function}              props.onClick         Callback function to be executed when the user click the menu item.\n * @param {boolean}               [props.small]         Whether to render the label or not.\n * @param {string}                [props.role]          The ARIA role for the menu item.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginBlockSettingsMenuItem = wp.editor.PluginBlockSettingsMenuItem;\n *\n * function doOnClick(){\n * \t// To be called when the user clicks the menu item.\n * }\n *\n * function MyPluginBlockSettingsMenuItem() {\n * \treturn React.createElement(\n * \t\tPluginBlockSettingsMenuItem,\n * \t\t{\n * \t\t\tallowedBlocks: [ 'core/paragraph' ],\n * \t\t\ticon: 'dashicon-name',\n * \t\t\tlabel: __( 'Menu item text' ),\n * \t\t\tonClick: doOnClick,\n * \t\t}\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginBlockSettingsMenuItem } from '@wordpress/editor';\n *\n * const doOnClick = ( ) => {\n *     // To be called when the user clicks the menu item.\n * };\n *\n * const MyPluginBlockSettingsMenuItem = () => (\n *     <PluginBlockSettingsMenuItem\n * \t\tallowedBlocks={ [ 'core/paragraph' ] }\n * \t\ticon='dashicon-name'\n * \t\tlabel={ __( 'Menu item text' ) }\n * \t\tonClick={ doOnClick } />\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginBlockSettingsMenuItem = ( {\n\tallowedBlocks,\n\ticon,\n\tlabel,\n\tonClick,\n\tsmall,\n\trole,\n} ) => (\n\t<BlockSettingsMenuControls>\n\t\t{ ( { selectedBlocks, onClose } ) => {\n\t\t\tif ( ! shouldRenderItem( selectedBlocks, allowedBlocks ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ compose( onClick, onClose ) }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t\tlabel={ small ? label : undefined }\n\t\t\t\t\trole={ role }\n\t\t\t\t>\n\t\t\t\t\t{ ! small && label }\n\t\t\t\t</MenuItem>\n\t\t\t);\n\t\t} }\n\t</BlockSettingsMenuControls>\n);\n\nexport default PluginBlockSettingsMenuItem;\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { MenuItem } from '@wordpress/components';\nimport { withPluginContext } from '@wordpress/plugins';\nimport { ActionItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down, and can be used to as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.href]                          When `href` is provided then the menu item is represented as an anchor rather than button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n * @param {Function}              [props.onClick=noop]                  The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying [Button](/packages/components/src/button/README.md) component.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginMoreMenuItem = wp.editor.PluginMoreMenuItem;\n * var moreIcon = wp.element.createElement( 'svg' ); //... svg element.\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * function MyButtonMoreMenuItem() {\n * \treturn wp.element.createElement(\n * \t\tPluginMoreMenuItem,\n * \t\t{\n * \t\t\ticon: moreIcon,\n * \t\t\tonClick: onButtonClick,\n * \t\t},\n * \t\t__( 'My button title' )\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginMoreMenuItem } from '@wordpress/editor';\n * import { more } from '@wordpress/icons';\n *\n * function onButtonClick() {\n * \talert( 'Button clicked.' );\n * }\n *\n * const MyButtonMoreMenuItem = () => (\n * \t<PluginMoreMenuItem\n * \t\ticon={ more }\n * \t\tonClick={ onButtonClick }\n * \t>\n * \t\t{ __( 'My button title' ) }\n * \t</PluginMoreMenuItem>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nexport default compose(\n\twithPluginContext( ( context, ownProps ) => {\n\t\treturn {\n\t\t\tas: ownProps.as ?? MenuItem,\n\t\t\ticon: ownProps.icon || context.icon,\n\t\t\tname: 'core/plugin-more-menu',\n\t\t};\n\t} )\n)( ActionItem );\n","/**\n * WordPress dependencies\n */\nimport { usePluginContext } from '@wordpress/plugins';\nimport { createSlotFill, PanelBody } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostPublishPanel' );\n\n/**\n * Renders provided content to the post-publish panel in the publish flow\n * (side panel that opens after a user publishes the post).\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.className]                     An optional class name added to the panel.\n * @param {string}                [props.title]                         Title displayed at the top of the panel.\n * @param {boolean}               [props.initialOpen=false]             Whether to have the panel initially opened. When no title is provided it is always opened.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n * @param {Element}               props.children                        Children to be rendered\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPostPublishPanel } from '@wordpress/editor';\n *\n * const MyPluginPostPublishPanel = () => (\n * \t<PluginPostPublishPanel\n * \t\tclassName=\"my-plugin-post-publish-panel\"\n * \t\ttitle={ __( 'My panel title' ) }\n * \t\tinitialOpen={ true }\n * \t>\n *         { __( 'My panel content' ) }\n * \t</PluginPostPublishPanel>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginPostPublishPanel = ( {\n\tchildren,\n\tclassName,\n\ttitle,\n\tinitialOpen = false,\n\ticon,\n} ) => {\n\tconst { icon: pluginIcon } = usePluginContext();\n\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelBody\n\t\t\t\tclassName={ className }\n\t\t\t\tinitialOpen={ initialOpen || ! title }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon ?? pluginIcon }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</PanelBody>\n\t\t</Fill>\n\t);\n};\n\nPluginPostPublishPanel.Slot = Slot;\n\nexport default PluginPostPublishPanel;\n","/**\n * Defines as extensibility slot for the Summary panel.\n */\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelRow } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostStatusInfo' );\n\n/**\n * Renders a row in the Summary panel of the Document sidebar.\n * It should be noted that this is named and implemented around the function it serves\n * and not its location, which may change in future iterations.\n *\n * @param {Object}  props             Component properties.\n * @param {string}  [props.className] An optional class name added to the row.\n * @param {Element} props.children    Children to be rendered.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginPostStatusInfo = wp.editor.PluginPostStatusInfo;\n *\n * function MyPluginPostStatusInfo() {\n * \treturn React.createElement(\n * \t\tPluginPostStatusInfo,\n * \t\t{\n * \t\t\tclassName: 'my-plugin-post-status-info',\n * \t\t},\n * \t\t__( 'My post status info' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPostStatusInfo } from '@wordpress/editor';\n *\n * const MyPluginPostStatusInfo = () => (\n * \t<PluginPostStatusInfo\n * \t\tclassName=\"my-plugin-post-status-info\"\n * \t>\n * \t\t{ __( 'My post status info' ) }\n * \t</PluginPostStatusInfo>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginPostStatusInfo = ( { children, className } ) => (\n\t<Fill>\n\t\t<PanelRow className={ className }>{ children }</PanelRow>\n\t</Fill>\n);\n\nPluginPostStatusInfo.Slot = Slot;\n\nexport default PluginPostStatusInfo;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelBody } from '@wordpress/components';\nimport { usePluginContext } from '@wordpress/plugins';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPrePublishPanel' );\n\n/**\n * Renders provided content to the pre-publish side panel in the publish flow\n * (side panel that opens when a user first pushes \"Publish\" from the main editor).\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                [props.className]                     An optional class name added to the panel.\n * @param {string}                [props.title]                         Title displayed at the top of the panel.\n * @param {boolean}               [props.initialOpen=false]             Whether to have the panel initially opened.\n *                                                                      When no title is provided it is always opened.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/)\n *                                                                      icon slug string, or an SVG WP element, to be rendered when\n *                                                                      the sidebar is pinned to toolbar.\n * @param {Element}               props.children                        Children to be rendered\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPrePublishPanel } from '@wordpress/editor';\n *\n * const MyPluginPrePublishPanel = () => (\n * \t<PluginPrePublishPanel\n * \t\tclassName=\"my-plugin-pre-publish-panel\"\n * \t\ttitle={ __( 'My panel title' ) }\n * \t\tinitialOpen={ true }\n * \t>\n * \t    { __( 'My panel content' ) }\n * \t</PluginPrePublishPanel>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginPrePublishPanel = ( {\n\tchildren,\n\tclassName,\n\ttitle,\n\tinitialOpen = false,\n\ticon,\n} ) => {\n\tconst { icon: pluginIcon } = usePluginContext();\n\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelBody\n\t\t\t\tclassName={ className }\n\t\t\t\tinitialOpen={ initialOpen || ! title }\n\t\t\t\ttitle={ title }\n\t\t\t\ticon={ icon ?? pluginIcon }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</PanelBody>\n\t\t</Fill>\n\t);\n};\n\nPluginPrePublishPanel.Slot = Slot;\n\nexport default PluginPrePublishPanel;\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { MenuItem } from '@wordpress/components';\nimport { withPluginContext } from '@wordpress/plugins';\nimport { ActionItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in the Preview dropdown, which can be used as a button or link depending on the props provided.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component properties.\n * @param {string}                [props.href]                          When `href` is provided, the menu item is rendered as an anchor instead of a button. It corresponds to the `href` attribute of the anchor.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The icon to be rendered to the left of the menu item label. Can be a Dashicon slug or an SVG WP element.\n * @param {Function}              [props.onClick]                       The callback function to be executed when the user clicks the menu item.\n * @param {...*}                  [props.other]                         Any additional props are passed through to the underlying MenuItem component.\n *\n * @example\n * ```jsx\n * import { __ } from '@wordpress/i18n';\n * import { PluginPreviewMenuItem } from '@wordpress/editor';\n * import { external } from '@wordpress/icons';\n *\n * function onPreviewClick() {\n *   // Handle preview action\n * }\n *\n * const ExternalPreviewMenuItem = () => (\n *   <PreviewDropdownMenuItem\n *     icon={ external }\n *     onClick={ onPreviewClick }\n *   >\n *     { __( 'Preview in new tab' ) }\n *   </PreviewDropdownMenuItem>\n * );\n * registerPlugin( 'external-preview-menu-item', {\n *     render: ExternalPreviewMenuItem,\n * } );\n * ```\n *\n * @return {Component} The rendered menu item component.\n */\nexport default compose(\n\twithPluginContext( ( context, ownProps ) => {\n\t\treturn {\n\t\t\tas: ownProps.as ?? MenuItem,\n\t\t\ticon: ownProps.icon || context.icon,\n\t\t\tname: 'core/plugin-preview-menu',\n\t\t};\n\t} )\n)( ActionItem );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { ComplementaryArea } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders a sidebar when activated. The contents within the `PluginSidebar` will appear as content within the sidebar.\n * It also automatically renders a corresponding `PluginSidebarMenuItem` component when `isPinnable` flag is set to `true`.\n * If you wish to display the sidebar, you can with use the `PluginSidebarMoreMenuItem` component or the `wp.data.dispatch` API:\n *\n * ```js\n * wp.data.dispatch( 'core/edit-post' ).openGeneralSidebar( 'plugin-name/sidebar-name' );\n * ```\n *\n * @see PluginSidebarMoreMenuItem\n *\n * @param {Object}                props                                 Element props.\n * @param {string}                props.name                            A string identifying the sidebar. Must be unique for every sidebar registered within the scope of your plugin.\n * @param {string}                [props.className]                     An optional class name added to the sidebar body.\n * @param {string}                props.title                           Title displayed at the top of the sidebar.\n * @param {boolean}               [props.isPinnable=true]               Whether to allow to pin sidebar to the toolbar. When set to `true` it also automatically renders a corresponding menu item.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered when the sidebar is pinned to toolbar.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var el = React.createElement;\n * var PanelBody = wp.components.PanelBody;\n * var PluginSidebar = wp.editor.PluginSidebar;\n * var moreIcon = React.createElement( 'svg' ); //... svg element.\n *\n * function MyPluginSidebar() {\n * \treturn el(\n * \t\t\tPluginSidebar,\n * \t\t\t{\n * \t\t\t\tname: 'my-sidebar',\n * \t\t\t\ttitle: 'My sidebar title',\n * \t\t\t\ticon: moreIcon,\n * \t\t\t},\n * \t\t\tel(\n * \t\t\t\tPanelBody,\n * \t\t\t\t{},\n * \t\t\t\t__( 'My sidebar content' )\n * \t\t\t)\n * \t);\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PanelBody } from '@wordpress/components';\n * import { PluginSidebar } from '@wordpress/editor';\n * import { more } from '@wordpress/icons';\n *\n * const MyPluginSidebar = () => (\n * \t<PluginSidebar\n * \t\tname=\"my-sidebar\"\n * \t\ttitle=\"My sidebar title\"\n * \t\ticon={ more }\n * \t>\n * \t\t<PanelBody>\n * \t\t\t{ __( 'My sidebar content' ) }\n * \t\t</PanelBody>\n * \t</PluginSidebar>\n * );\n * ```\n */\nexport default function PluginSidebar( { className, ...props } ) {\n\tconst { postTitle } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostTitle: select( editorStore ).getEditedPostAttribute( 'title' ),\n\t\t};\n\t}, [] );\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tpanelClassName={ className }\n\t\t\tclassName=\"editor-sidebar\"\n\t\t\tsmallScreenTitle={ postTitle || __( '(no title)' ) }\n\t\t\tscope=\"core\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { ComplementaryAreaMoreMenuItem } from '@wordpress/interface';\n\n/**\n * Renders a menu item in `Plugins` group in `More Menu` drop down,\n * and can be used to activate the corresponding `PluginSidebar` component.\n * The text within the component appears as the menu item label.\n *\n * @param {Object}                props                                 Component props.\n * @param {string}                props.target                          A string identifying the target sidebar you wish to be activated by this menu item. Must be the same as the `name` prop you have given to that sidebar.\n * @param {WPBlockTypeIconRender} [props.icon=inherits from the plugin] The [Dashicon](https://developer.wordpress.org/resource/dashicons/) icon slug string, or an SVG WP element, to be rendered to the left of the menu item label.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginSidebarMoreMenuItem = wp.editor.PluginSidebarMoreMenuItem;\n * var moreIcon = React.createElement( 'svg' ); //... svg element.\n *\n * function MySidebarMoreMenuItem() {\n * \treturn React.createElement(\n * \t\tPluginSidebarMoreMenuItem,\n * \t\t{\n * \t\t\ttarget: 'my-sidebar',\n * \t\t\ticon: moreIcon,\n * \t\t},\n * \t\t__( 'My sidebar title' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginSidebarMoreMenuItem } from '@wordpress/editor';\n * import { more } from '@wordpress/icons';\n *\n * const MySidebarMoreMenuItem = () => (\n * \t<PluginSidebarMoreMenuItem\n * \t\ttarget=\"my-sidebar\"\n * \t\ticon={ more }\n * \t>\n * \t\t{ __( 'My sidebar title' ) }\n * \t</PluginSidebarMoreMenuItem>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\n\nexport default function PluginSidebarMoreMenuItem( props ) {\n\treturn (\n\t\t<ComplementaryAreaMoreMenuItem\n\t\t\t// Menu item is marked with unstable prop for backward compatibility.\n\t\t\t// @see https://github.com/WordPress/gutenberg/issues/14457\n\t\t\t__unstableExplicitMenuItem\n\t\t\tscope=\"core\"\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { MenuItem, Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { parse } from '@wordpress/blocks';\nimport { useAsyncList } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useAvailableTemplates, useEditedPostContext } from './hooks';\n\nexport default function SwapTemplateButton( { onClick } ) {\n\tconst [ showModal, setShowModal ] = useState( false );\n\tconst { postType, postId } = useEditedPostContext();\n\tconst availableTemplates = useAvailableTemplates( postType );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tif ( ! availableTemplates?.length ) {\n\t\treturn null;\n\t}\n\tconst onTemplateSelect = async ( template ) => {\n\t\teditEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\t{ template: template.name },\n\t\t\t{ undoIgnore: true }\n\t\t);\n\t\tsetShowModal( false ); // Close the template suggestions modal first.\n\t\tonClick();\n\t};\n\treturn (\n\t\t<>\n\t\t\t<MenuItem onClick={ () => setShowModal( true ) }>\n\t\t\t\t{ __( 'Swap template' ) }\n\t\t\t</MenuItem>\n\t\t\t{ showModal && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Choose a template' ) }\n\t\t\t\t\tonRequestClose={ () => setShowModal( false ) }\n\t\t\t\t\toverlayClassName=\"editor-post-template__swap-template-modal\"\n\t\t\t\t\tisFullScreen\n\t\t\t\t>\n\t\t\t\t\t<div className=\"editor-post-template__swap-template-modal-content\">\n\t\t\t\t\t\t<TemplatesList\n\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\tonSelect={ onTemplateSelect }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction TemplatesList( { postType, onSelect } ) {\n\tconst availableTemplates = useAvailableTemplates( postType );\n\tconst templatesAsPatterns = useMemo(\n\t\t() =>\n\t\t\tavailableTemplates.map( ( template ) => ( {\n\t\t\t\tname: template.slug,\n\t\t\t\tblocks: parse( template.content.raw ),\n\t\t\t\ttitle: decodeEntities( template.title.rendered ),\n\t\t\t\tid: template.id,\n\t\t\t} ) ),\n\t\t[ availableTemplates ]\n\t);\n\tconst shownTemplates = useAsyncList( templatesAsPatterns );\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tlabel={ __( 'Templates' ) }\n\t\t\tblockPatterns={ templatesAsPatterns }\n\t\t\tshownPatterns={ shownTemplates }\n\t\t\tonClickPattern={ onSelect }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseAllowSwitchingTemplates,\n\tuseCurrentTemplateSlug,\n\tuseEditedPostContext,\n} from './hooks';\n\nexport default function ResetDefaultTemplate( { onClick } ) {\n\tconst currentTemplateSlug = useCurrentTemplateSlug();\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst { postType, postId } = useEditedPostContext();\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\t// The default template in a post is indicated by an empty string.\n\tif ( ! currentTemplateSlug || ! allowSwitchingTemplate ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\teditEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId,\n\t\t\t\t\t{ template: '' },\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\t\t\t\tonClick();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Use default template' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport CreateNewTemplateModal from './create-new-template-modal';\nimport { useAllowSwitchingTemplates } from './hooks';\n\nexport default function CreateNewTemplate( { onClick } ) {\n\tconst { canCreateTemplates } = useSelect( ( select ) => {\n\t\tconst { canUser } = select( coreStore );\n\t\treturn {\n\t\t\tcanCreateTemplates: canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ),\n\t\t};\n\t}, [] );\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\n\t// The default template in a post is indicated by an empty string.\n\tif ( ! canCreateTemplates || ! allowSwitchingTemplate ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsCreateModalOpen( true );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Create new template' ) }\n\t\t\t</MenuItem>\n\n\t\t\t{ isCreateModalOpen && (\n\t\t\t\t<CreateNewTemplateModal\n\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\tsetIsCreateModalOpen( false );\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useEntityRecord, store as coreStore } from '@wordpress/core-data';\nimport { check } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport SwapTemplateButton from './swap-template-button';\nimport ResetDefaultTemplate from './reset-default-template';\nimport { unlock } from '../../lock-unlock';\nimport CreateNewTemplate from './create-new-template';\n\nconst POPOVER_PROPS = {\n\tclassName: 'editor-post-template__dropdown',\n\tplacement: 'bottom-start',\n};\n\nexport default function BlockThemeControl( { id } ) {\n\tconst {\n\t\tisTemplateHidden,\n\t\tonNavigateToEntityRecord,\n\t\tgetEditorSettings,\n\t\thasGoBack,\n\t} = useSelect( ( select ) => {\n\t\tconst { getRenderingMode, getEditorSettings: _getEditorSettings } =\n\t\t\tunlock( select( editorStore ) );\n\t\tconst editorSettings = _getEditorSettings();\n\t\treturn {\n\t\t\tisTemplateHidden: getRenderingMode() === 'post-only',\n\t\t\tonNavigateToEntityRecord: editorSettings.onNavigateToEntityRecord,\n\t\t\tgetEditorSettings: _getEditorSettings,\n\t\t\thasGoBack: editorSettings.hasOwnProperty(\n\t\t\t\t'onNavigateToPreviousEntityRecord'\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst { get: getPreference } = useSelect( preferencesStore );\n\n\tconst { editedRecord: template, hasResolved } = useEntityRecord(\n\t\t'postType',\n\t\t'wp_template',\n\t\tid\n\t);\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst { setRenderingMode } = useDispatch( editorStore );\n\n\tconst canCreateTemplate = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ),\n\t\t[]\n\t);\n\n\tif ( ! hasResolved ) {\n\t\treturn null;\n\t}\n\n\t// The site editor does not have a `onNavigateToPreviousEntityRecord` setting as it uses its own routing\n\t// and assigns its own backlink to focusMode pages.\n\tconst notificationAction = hasGoBack\n\t\t? [\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\tgetEditorSettings().onNavigateToPreviousEntityRecord(),\n\t\t\t\t},\n\t\t  ]\n\t\t: undefined;\n\n\tconst mayShowTemplateEditNotice = () => {\n\t\tif ( ! getPreference( 'core/edit-site', 'welcomeGuideTemplate' ) ) {\n\t\t\tcreateSuccessNotice(\n\t\t\t\t__(\n\t\t\t\t\t'Editing template. Changes made here affect all posts and pages that use the template.'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar', actions: notificationAction }\n\t\t\t);\n\t\t}\n\t};\n\treturn (\n\t\t<DropdownMenu\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\tfocusOnMount\n\t\t\ttoggleProps={ {\n\t\t\t\tsize: 'compact',\n\t\t\t\tvariant: 'tertiary',\n\t\t\t\ttooltipPosition: 'middle left',\n\t\t\t} }\n\t\t\tlabel={ __( 'Template options' ) }\n\t\t\ttext={ decodeEntities( template.title ) }\n\t\t\ticon={ null }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t{ canCreateTemplate && (\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\t\t\t\t\tpostId: template.id,\n\t\t\t\t\t\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\tmayShowTemplateEditNotice();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Edit template' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<SwapTemplateButton onClick={ onClose } />\n\t\t\t\t\t\t<ResetDefaultTemplate onClick={ onClose } />\n\t\t\t\t\t\t{ canCreateTemplate && (\n\t\t\t\t\t\t\t<CreateNewTemplate onClick={ onClose } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\ticon={ ! isTemplateHidden ? check : undefined }\n\t\t\t\t\t\t\tisSelected={ ! isTemplateHidden }\n\t\t\t\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetRenderingMode(\n\t\t\t\t\t\t\t\t\tisTemplateHidden\n\t\t\t\t\t\t\t\t\t\t? 'template-locked'\n\t\t\t\t\t\t\t\t\t\t: 'post-only'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Show template' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport ClassicThemeControl from './classic-theme';\nimport BlockThemeControl from './block-theme';\nimport PostPanelRow from '../post-panel-row';\n\n/**\n * Displays the template controls based on the current editor settings and user permissions.\n *\n * @return {JSX.Element|null} The rendered PostTemplatePanel component.\n */\nexport default function PostTemplatePanel() {\n\tconst { templateId, isBlockTheme } = useSelect( ( select ) => {\n\t\tconst { getCurrentTemplateId, getEditorSettings } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\ttemplateId: getCurrentTemplateId(),\n\t\t\tisBlockTheme: getEditorSettings().__unstableIsBlockBasedTheme,\n\t\t};\n\t}, [] );\n\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tif ( ! postType?.viewable ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst settings = select( editorStore ).getEditorSettings();\n\t\tconst hasTemplates =\n\t\t\t!! settings.availableTemplates &&\n\t\t\tObject.keys( settings.availableTemplates ).length > 0;\n\t\tif ( hasTemplates ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( ! settings.supportsTemplateMode ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst canCreateTemplates =\n\t\t\tselect( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ) ?? false;\n\t\treturn canCreateTemplates;\n\t}, [] );\n\n\tconst canViewTemplates = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( coreStore ).canUser( 'read', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ) ?? false\n\t\t);\n\t}, [] );\n\n\tif ( ( ! isBlockTheme || ! canViewTemplates ) && isVisible ) {\n\t\treturn (\n\t\t\t<PostPanelRow label={ __( 'Template' ) }>\n\t\t\t\t<ClassicThemeControl />\n\t\t\t</PostPanelRow>\n\t\t);\n\t}\n\n\tif ( isBlockTheme && !! templateId ) {\n\t\treturn (\n\t\t\t<PostPanelRow label={ __( 'Template' ) }>\n\t\t\t\t<BlockThemeControl id={ templateId } />\n\t\t\t</PostPanelRow>\n\t\t);\n\t}\n\treturn null;\n}\n","export const BASE_QUERY = {\n\t_fields: 'id,name',\n\tcontext: 'view', // Allows non-admins to perform requests.\n};\n\nexport const AUTHORS_QUERY = {\n\twho: 'authors',\n\tper_page: 50,\n\t...BASE_QUERY,\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY, BASE_QUERY } from './constants';\n\nexport function useAuthorsQuery( search ) {\n\tconst { authorId, authors, postAuthor } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getUser, getUsers } = select( coreStore );\n\t\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\t\tconst _authorId = getEditedPostAttribute( 'author' );\n\t\t\tconst query = { ...AUTHORS_QUERY };\n\n\t\t\tif ( search ) {\n\t\t\t\tquery.search = search;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tauthorId: _authorId,\n\t\t\t\tauthors: getUsers( query ),\n\t\t\t\tpostAuthor: getUser( _authorId, BASE_QUERY ),\n\t\t\t};\n\t\t},\n\t\t[ search ]\n\t);\n\n\tconst authorOptions = useMemo( () => {\n\t\tconst fetchedAuthors = ( authors ?? [] ).map( ( author ) => {\n\t\t\treturn {\n\t\t\t\tvalue: author.id,\n\t\t\t\tlabel: decodeEntities( author.name ),\n\t\t\t};\n\t\t} );\n\n\t\t// Ensure the current author is included in the dropdown list.\n\t\tconst foundAuthor = fetchedAuthors.findIndex(\n\t\t\t( { value } ) => postAuthor?.id === value\n\t\t);\n\n\t\tlet currentAuthor = [];\n\t\tif ( foundAuthor < 0 && postAuthor ) {\n\t\t\tcurrentAuthor = [\n\t\t\t\t{\n\t\t\t\t\tvalue: postAuthor.id,\n\t\t\t\t\tlabel: decodeEntities( postAuthor.name ),\n\t\t\t\t},\n\t\t\t];\n\t\t} else if ( foundAuthor < 0 && ! postAuthor ) {\n\t\t\tcurrentAuthor = [\n\t\t\t\t{\n\t\t\t\t\tvalue: 0,\n\t\t\t\t\tlabel: __( '(No author)' ),\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\treturn [ ...currentAuthor, ...fetchedAuthors ];\n\t}, [ authors, postAuthor ] );\n\n\treturn { authorId, authorOptions, postAuthor };\n}\n","/**\n * WordPress dependencies\n */\nimport { debounce } from '@wordpress/compose';\nimport { useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { ComboboxControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useAuthorsQuery } from './hook';\n\nexport default function PostAuthorCombobox() {\n\tconst [ fieldValue, setFieldValue ] = useState();\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { authorId, authorOptions } = useAuthorsQuery( fieldValue );\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {number} postAuthorId The selected Author.\n\t */\n\tconst handleSelect = ( postAuthorId ) => {\n\t\tif ( ! postAuthorId ) {\n\t\t\treturn;\n\t\t}\n\t\teditPost( { author: postAuthorId } );\n\t};\n\n\t/**\n\t * Handle user input.\n\t *\n\t * @param {string} inputValue The current value of the input field.\n\t */\n\tconst handleKeydown = ( inputValue ) => {\n\t\tsetFieldValue( inputValue );\n\t};\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tvalue={ authorId }\n\t\t\tonFilterValueChange={ debounce( handleKeydown, 300 ) }\n\t\t\tonChange={ handleSelect }\n\t\t\tallowReset={ false }\n\t\t\thideLabelFromVision\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { SelectControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useAuthorsQuery } from './hook';\n\nexport default function PostAuthorSelect() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { authorId, authorOptions } = useAuthorsQuery();\n\n\tconst setAuthorId = ( value ) => {\n\t\tconst author = Number( value );\n\t\teditPost( { author } );\n\t};\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tclassName=\"post-author-selector\"\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tonChange={ setAuthorId }\n\t\t\tvalue={ authorId }\n\t\t\thideLabelFromVision\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostAuthorCombobox from './combobox';\nimport PostAuthorSelect from './select';\nimport { AUTHORS_QUERY } from './constants';\n\nconst minimumUsersForCombobox = 25;\n\n/**\n * Renders the component for selecting the post author.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostAuthor() {\n\tconst showCombobox = useSelect( ( select ) => {\n\t\tconst authors = select( coreStore ).getUsers( AUTHORS_QUERY );\n\n\t\treturn authors?.length >= minimumUsersForCombobox;\n\t}, [] );\n\n\tif ( showCombobox ) {\n\t\treturn <PostAuthorCombobox />;\n\t}\n\treturn <PostAuthorSelect />;\n}\n\nexport default PostAuthor;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY } from './constants';\n\n/**\n * Wrapper component that renders its children only if the post type supports the author.\n *\n * @param {Object}  props          The component props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component|null} The component to be rendered. Return `null` if the post type doesn't\n * supports the author or if there are no authors available.\n */\nexport default function PostAuthorCheck( { children } ) {\n\tconst { hasAssignAuthorAction, hasAuthors } = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst authors = select( coreStore ).getUsers( AUTHORS_QUERY );\n\t\treturn {\n\t\t\thasAssignAuthorAction:\n\t\t\t\tpost._links?.[ 'wp:action-assign-author' ] ?? false,\n\t\t\thasAuthors: authors?.length >= 1,\n\t\t};\n\t}, [] );\n\n\tif ( ! hasAssignAuthorAction || ! hasAuthors ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"author\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, Dropdown } from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport PostAuthorCheck from './check';\nimport PostAuthorForm from './index';\nimport PostPanelRow from '../post-panel-row';\nimport { useAuthorsQuery } from './hook';\n\nfunction PostAuthorToggle( { isOpen, onClick } ) {\n\tconst { postAuthor } = useAuthorsQuery();\n\tconst authorName =\n\t\tdecodeEntities( postAuthor?.name ) || __( '(No author)' );\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-author__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\t// translators: %s: Current post link.\n\t\t\taria-label={ sprintf( __( 'Change author: %s' ), authorName ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ authorName }\n\t\t</Button>\n\t);\n}\n\n/**\n * Renders the Post Author Panel component.\n *\n * @return {Component} The component to be rendered.\n */\nexport function PostAuthor() {\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\treturn (\n\t\t<PostAuthorCheck>\n\t\t\t<PostPanelRow label={ __( 'Author' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tcontentClassName=\"editor-post-author__panel-dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<PostAuthorToggle\n\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<div className=\"editor-post-author\">\n\t\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\t\ttitle={ __( 'Author' ) }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PostAuthorForm onClose={ onClose } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostAuthorCheck>\n\t);\n}\n\nexport default PostAuthor;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tRadioControl,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nconst COMMENT_OPTIONS = [\n\t{\n\t\tlabel: _x( 'Open', 'Adjective: e.g. \"Comments are open\"' ),\n\t\tvalue: 'open',\n\t\tdescription: __( 'Visitors can add new comments and replies.' ),\n\t},\n\t{\n\t\tlabel: __( 'Closed' ),\n\t\tvalue: 'closed',\n\t\tdescription: [\n\t\t\t__( 'Visitors cannot add new comments or replies.' ),\n\t\t\t__( 'Existing comments remain visible.' ),\n\t\t].join( ' ' ),\n\t},\n];\n\nfunction PostComments() {\n\tconst commentStatus = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'comment_status' ) ??\n\t\t\t'open',\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst handleStatus = ( newCommentStatus ) =>\n\t\teditPost( {\n\t\t\tcomment_status: newCommentStatus,\n\t\t} );\n\n\treturn (\n\t\t<form>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<RadioControl\n\t\t\t\t\tclassName=\"editor-change-status__options\"\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tlabel={ __( 'Comment status' ) }\n\t\t\t\t\toptions={ COMMENT_OPTIONS }\n\t\t\t\t\tonChange={ handleStatus }\n\t\t\t\t\tselected={ commentStatus }\n\t\t\t\t/>\n\t\t\t</VStack>\n\t\t</form>\n\t);\n}\n\n/**\n * A form for managing comment status.\n *\n * @return {JSX.Element} The rendered PostComments component.\n */\nexport default PostComments;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl, ExternalLink } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostPingbacks() {\n\tconst pingStatus = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'ping_status' ) ??\n\t\t\t'open',\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onTogglePingback = () =>\n\t\teditPost( {\n\t\t\tping_status: pingStatus === 'open' ? 'closed' : 'open',\n\t\t} );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Enable pingbacks & trackbacks' ) }\n\t\t\tchecked={ pingStatus === 'open' }\n\t\t\tonChange={ onTogglePingback }\n\t\t\thelp={\n\t\t\t\t<ExternalLink\n\t\t\t\t\thref={ __(\n\t\t\t\t\t\t'https://wordpress.org/documentation/article/trackbacks-and-pingbacks/'\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Learn more about pingbacks & trackbacks' ) }\n\t\t\t\t</ExternalLink>\n\t\t\t}\n\t\t/>\n\t);\n}\n\n/**\n * Renders a control for enabling or disabling pingbacks and trackbacks\n * in a WordPress post.\n *\n * @module PostPingbacks\n */\nexport default PostPingbacks;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tDropdown,\n\tButton,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport PostComments from '../post-comments';\nimport PostPingbacks from '../post-pingbacks';\nimport PostPanelRow from '../post-panel-row';\n\nconst PANEL_NAME = 'discussion-panel';\n\nfunction ModalContents( { onClose } ) {\n\treturn (\n\t\t<div className=\"editor-post-discussion\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Discussion' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t<PostTypeSupportCheck supportKeys=\"comments\">\n\t\t\t\t\t<PostComments />\n\t\t\t\t</PostTypeSupportCheck>\n\t\t\t\t<PostTypeSupportCheck supportKeys=\"trackbacks\">\n\t\t\t\t\t<PostPingbacks />\n\t\t\t\t</PostTypeSupportCheck>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n\nfunction PostDiscussionToggle( { isOpen, onClick } ) {\n\tconst {\n\t\tcommentStatus,\n\t\tpingStatus,\n\t\tcommentsSupported,\n\t\ttrackbacksSupported,\n\t} = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\t\treturn {\n\t\t\tcommentStatus: getEditedPostAttribute( 'comment_status' ) ?? 'open',\n\t\t\tpingStatus: getEditedPostAttribute( 'ping_status' ) ?? 'open',\n\t\t\tcommentsSupported: !! postType.supports.comments,\n\t\t\ttrackbacksSupported: !! postType.supports.trackbacks,\n\t\t};\n\t}, [] );\n\tlet label;\n\tif ( commentStatus === 'open' ) {\n\t\tif ( pingStatus === 'open' ) {\n\t\t\tlabel = _x( 'Open', 'Adjective: e.g. \"Comments are open\"' );\n\t\t} else {\n\t\t\tlabel = trackbacksSupported\n\t\t\t\t? __( 'Comments only' )\n\t\t\t\t: _x( 'Open', 'Adjective: e.g. \"Comments are open\"' );\n\t\t}\n\t} else if ( pingStatus === 'open' ) {\n\t\tlabel = commentsSupported ? __( 'Pings only' ) : __( 'Pings enabled' );\n\t} else {\n\t\tlabel = __( 'Closed' );\n\t}\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-discussion__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-label={ __( 'Change discussion options' ) }\n\t\t\taria-expanded={ isOpen }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n\n/**\n * This component allows to update comment and pingback\n * settings for the current post. Internally there are\n * checks whether the current post has support for the\n * above and if the `discussion-panel` panel is enabled.\n *\n * @return {JSX.Element|null} The rendered PostDiscussionPanel component.\n */\nexport default function PostDiscussionPanel() {\n\tconst { isEnabled } = useSelect( ( select ) => {\n\t\tconst { isEditorPanelEnabled } = select( editorStore );\n\t\treturn {\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys={ [ 'comments', 'trackbacks' ] }>\n\t\t\t<PostPanelRow label={ __( 'Discussion' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tclassName=\"editor-post-discussion__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-discussion__panel-dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<PostDiscussionToggle\n\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<ModalContents onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink, TextareaControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders an editable textarea for the post excerpt.\n * Templates, template parts and patterns use the `excerpt` field as a description semantically.\n * Additionally templates and template parts override the `excerpt` field as `description` in\n * REST API. So this component handles proper labeling and updating the edited entity.\n *\n * @param {Object}  props                             - Component props.\n * @param {boolean} [props.hideLabelFromVision=false] - Whether to visually hide the textarea's label.\n * @param {boolean} [props.updateOnBlur=false]        - Whether to update the post on change or use local state and update on blur.\n */\nexport default function PostExcerpt( {\n\thideLabelFromVision = false,\n\tupdateOnBlur = false,\n} ) {\n\tconst { excerpt, shouldUseDescriptionLabel, usedAttribute } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst postType = getCurrentPostType();\n\t\t\t// This special case is unfortunate, but the REST API of wp_template and wp_template_part\n\t\t\t// support the excerpt field throught the \"description\" field rather than \"excerpt\".\n\t\t\tconst _usedAttribute = [\n\t\t\t\t'wp_template',\n\t\t\t\t'wp_template_part',\n\t\t\t].includes( postType )\n\t\t\t\t? 'description'\n\t\t\t\t: 'excerpt';\n\t\t\treturn {\n\t\t\t\texcerpt: getEditedPostAttribute( _usedAttribute ),\n\t\t\t\t// There are special cases where we want to label the excerpt as a description.\n\t\t\t\tshouldUseDescriptionLabel: [\n\t\t\t\t\t'wp_template',\n\t\t\t\t\t'wp_template_part',\n\t\t\t\t\t'wp_block',\n\t\t\t\t].includes( postType ),\n\t\t\t\tusedAttribute: _usedAttribute,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ localExcerpt, setLocalExcerpt ] = useState(\n\t\tdecodeEntities( excerpt )\n\t);\n\tconst updatePost = ( value ) => {\n\t\teditPost( { [ usedAttribute ]: value } );\n\t};\n\tconst label = shouldUseDescriptionLabel\n\t\t? __( 'Write a description (optional)' )\n\t\t: __( 'Write an excerpt (optional)' );\n\n\treturn (\n\t\t<div className=\"editor-post-excerpt\">\n\t\t\t<TextareaControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ label }\n\t\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\t\tclassName=\"editor-post-excerpt__textarea\"\n\t\t\t\tonChange={ updateOnBlur ? setLocalExcerpt : updatePost }\n\t\t\t\tonBlur={\n\t\t\t\t\tupdateOnBlur ? () => updatePost( localExcerpt ) : undefined\n\t\t\t\t}\n\t\t\t\tvalue={ updateOnBlur ? localExcerpt : excerpt }\n\t\t\t\thelp={\n\t\t\t\t\t! shouldUseDescriptionLabel ? (\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#excerpt'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Learn more about manual excerpts' ) }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t__( 'Write a description' )\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\n/**\n * Component for checking if the post type supports the excerpt field.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostExcerptCheck( { children } ) {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"excerpt\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostExcerptCheck;\n","/**\n * Defines as extensibility slot for the Excerpt panel.\n */\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelRow } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostExcerpt' );\n\n/**\n * Renders a post excerpt panel in the post sidebar.\n *\n * @param {Object}  props             Component properties.\n * @param {string}  [props.className] An optional class name added to the row.\n * @param {Element} props.children    Children to be rendered.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginPostExcerpt = wp.editPost.__experimentalPluginPostExcerpt;\n *\n * function MyPluginPostExcerpt() {\n * \treturn React.createElement(\n * \t\tPluginPostExcerpt,\n * \t\t{\n * \t\t\tclassName: 'my-plugin-post-excerpt',\n * \t\t},\n * \t\t__( 'Post excerpt custom content' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { __experimentalPluginPostExcerpt as PluginPostExcerpt } from '@wordpress/edit-post';\n *\n * const MyPluginPostExcerpt = () => (\n * \t<PluginPostExcerpt className=\"my-plugin-post-excerpt\">\n * \t\t{ __( 'Post excerpt custom content' ) }\n * \t</PluginPostExcerpt>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginPostExcerpt = ( { children, className } ) => {\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelRow className={ className }>{ children }</PanelRow>\n\t\t</Fill>\n\t);\n};\n\nPluginPostExcerpt.Slot = Slot;\n\nexport default PluginPostExcerpt;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPanelBody,\n\t__experimentalText as Text,\n\tDropdown,\n\tButton,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useMemo, useState } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport PostExcerptForm from './index';\nimport PostExcerptCheck from './check';\nimport PluginPostExcerpt from './plugin';\nimport { TEMPLATE_ORIGINS } from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module Constants\n */\nconst PANEL_NAME = 'post-excerpt';\n\nfunction ExcerptPanel() {\n\tconst { isOpened, isEnabled, postType } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisEditorPanelOpened,\n\t\t\tisEditorPanelEnabled,\n\t\t\tgetCurrentPostType,\n\t\t} = select( editorStore );\n\n\t\treturn {\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\tconst toggleExcerptPanel = () => toggleEditorPanelOpened( PANEL_NAME );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\t// There are special cases where we want to label the excerpt as a description.\n\tconst shouldUseDescriptionLabel = [\n\t\t'wp_template',\n\t\t'wp_template_part',\n\t\t'wp_block',\n\t].includes( postType );\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={\n\t\t\t\tshouldUseDescriptionLabel\n\t\t\t\t\t? __( 'Description' )\n\t\t\t\t\t: __( 'Excerpt' )\n\t\t\t}\n\t\t\topened={ isOpened }\n\t\t\tonToggle={ toggleExcerptPanel }\n\t\t>\n\t\t\t<PluginPostExcerpt.Slot>\n\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PostExcerptForm />\n\t\t\t\t\t\t{ fills }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PluginPostExcerpt.Slot>\n\t\t</PanelBody>\n\t);\n}\n\n/**\n * Is rendered if the post type supports excerpts and allows editing the excerpt.\n *\n * @return {JSX.Element} The rendered PostExcerptPanel component.\n */\nexport default function PostExcerptPanel() {\n\treturn (\n\t\t<PostExcerptCheck>\n\t\t\t<ExcerptPanel />\n\t\t</PostExcerptCheck>\n\t);\n}\n\nexport function PrivatePostExcerptPanel() {\n\treturn (\n\t\t<PostExcerptCheck>\n\t\t\t<PrivateExcerpt />\n\t\t</PostExcerptCheck>\n\t);\n}\n\nfunction PrivateExcerpt() {\n\tconst { shouldRender, excerpt, shouldBeUsedAsDescription, allowEditing } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst {\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPostId,\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tisEditorPanelEnabled,\n\t\t\t} = select( editorStore );\n\t\t\tconst postType = getCurrentPostType();\n\t\t\tconst isTemplateOrTemplatePart = [\n\t\t\t\t'wp_template',\n\t\t\t\t'wp_template_part',\n\t\t\t].includes( postType );\n\t\t\tconst isPattern = postType === 'wp_block';\n\t\t\t// These post types use the `excerpt` field as a description semantically, so we need to\n\t\t\t// handle proper labeling and some flows where we should always render them as text.\n\t\t\tconst _shouldBeUsedAsDescription =\n\t\t\t\tisTemplateOrTemplatePart || isPattern;\n\t\t\tconst _usedAttribute = isTemplateOrTemplatePart\n\t\t\t\t? 'description'\n\t\t\t\t: 'excerpt';\n\t\t\t// We need to fetch the entity in this case to check if we'll allow editing.\n\t\t\tconst template =\n\t\t\t\tisTemplateOrTemplatePart &&\n\t\t\t\tselect( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tgetCurrentPostId()\n\t\t\t\t);\n\t\t\t// For post types that use excerpt as description, we do not abide\n\t\t\t// by the `isEnabled` panel flag in order to render them as text.\n\t\t\tconst _shouldRender =\n\t\t\t\tisEditorPanelEnabled( PANEL_NAME ) ||\n\t\t\t\t_shouldBeUsedAsDescription;\n\t\t\treturn {\n\t\t\t\texcerpt: getEditedPostAttribute( _usedAttribute ),\n\t\t\t\tshouldRender: _shouldRender,\n\t\t\t\tshouldBeUsedAsDescription: _shouldBeUsedAsDescription,\n\t\t\t\t// If we should render, allow editing for all post types that are not used as description.\n\t\t\t\t// For the rest allow editing only for user generated entities.\n\t\t\t\tallowEditing:\n\t\t\t\t\t_shouldRender &&\n\t\t\t\t\t( ! _shouldBeUsedAsDescription ||\n\t\t\t\t\t\tisPattern ||\n\t\t\t\t\t\t( template &&\n\t\t\t\t\t\t\ttemplate.source === TEMPLATE_ORIGINS.custom &&\n\t\t\t\t\t\t\t! template.has_theme_file &&\n\t\t\t\t\t\t\ttemplate.is_custom ) ),\n\t\t\t};\n\t\t}, [] );\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst label = shouldBeUsedAsDescription\n\t\t? __( 'Description' )\n\t\t: __( 'Excerpt' );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': label,\n\t\t\theaderTitle: label,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor, label ]\n\t);\n\tif ( ! shouldRender ) {\n\t\treturn false;\n\t}\n\tconst excerptText = !! excerpt && (\n\t\t<Text align=\"left\" numberOfLines={ 4 } truncate={ allowEditing }>\n\t\t\t{ decodeEntities( excerpt ) }\n\t\t</Text>\n\t);\n\tif ( ! allowEditing ) {\n\t\treturn excerptText;\n\t}\n\tconst excerptPlaceholder = shouldBeUsedAsDescription\n\t\t? __( 'Add a description…' )\n\t\t: __( 'Add an excerpt…' );\n\tconst triggerEditLabel = shouldBeUsedAsDescription\n\t\t? __( 'Edit description' )\n\t\t: __( 'Edit excerpt' );\n\treturn (\n\t\t<VStack>\n\t\t\t{ excerptText }\n\t\t\t<Dropdown\n\t\t\t\tclassName=\"editor-post-excerpt__dropdown\"\n\t\t\t\tcontentClassName=\"editor-post-excerpt__dropdown__content\"\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tfocusOnMount\n\t\t\t\tref={ setPopoverAnchor }\n\t\t\t\trenderToggle={ ( { onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ excerptText ? triggerEditLabel : excerptPlaceholder }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ label }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t<PluginPostExcerpt.Slot>\n\t\t\t\t\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<PostExcerptForm\n\t\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\t\tupdateOnBlur\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ fills }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</PluginPostExcerpt.Slot>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</VStack>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Checks if the current theme supports specific features and renders the children if supported.\n *\n * @param {Object}          props             The component props.\n * @param {Element}         props.children    The children to render if the theme supports the specified features.\n * @param {string|string[]} props.supportKeys The key(s) of the theme support(s) to check.\n *\n * @return {JSX.Element|null} The rendered children if the theme supports the specified features, otherwise null.\n */\nexport default function ThemeSupportCheck( { children, supportKeys } ) {\n\tconst { postType, themeSupports } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( editorStore ).getEditedPostAttribute( 'type' ),\n\t\t\tthemeSupports: select( coreStore ).getThemeSupports(),\n\t\t};\n\t}, [] );\n\n\tconst isSupported = (\n\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\n\t).some( ( key ) => {\n\t\tconst supported = themeSupports?.[ key ] ?? false;\n\t\t// 'post-thumbnails' can be boolean or an array of post types.\n\t\t// In the latter case, we need to verify `postType` exists\n\t\t// within `supported`. If `postType` isn't passed, then the check\n\t\t// should fail.\n\t\tif ( 'post-thumbnails' === key && Array.isArray( supported ) ) {\n\t\t\treturn supported.includes( postType );\n\t\t}\n\t\treturn supported;\n\t} );\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport ThemeSupportCheck from '../theme-support-check';\n\n/**\n * Wrapper component that renders its children only if the post type supports a featured image\n * and the theme supports post thumbnails.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostFeaturedImageCheck( { children } ) {\n\treturn (\n\t\t<ThemeSupportCheck supportKeys=\"post-thumbnails\">\n\t\t\t<PostTypeSupportCheck supportKeys=\"thumbnail\">\n\t\t\t\t{ children }\n\t\t\t</PostTypeSupportCheck>\n\t\t</ThemeSupportCheck>\n\t);\n}\n\nexport default PostFeaturedImageCheck;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport {\n\tDropZone,\n\tButton,\n\tSpinner,\n\twithNotices,\n\twithFilters,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { isBlobURL } from '@wordpress/blob';\nimport { useState, useRef } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { useSelect, withDispatch, withSelect } from '@wordpress/data';\nimport {\n\tMediaUpload,\n\tMediaUploadCheck,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostFeaturedImageCheck from './check';\nimport { store as editorStore } from '../../store';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n// Used when labels from post type were not yet loaded or when they are not present.\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured image' );\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Add a featured image' );\n\nconst instructions = (\n\t<p>\n\t\t{ __(\n\t\t\t'To edit the featured image, you need permission to upload media.'\n\t\t) }\n\t</p>\n);\n\nfunction getMediaDetails( media, postId ) {\n\tif ( ! media ) {\n\t\treturn {};\n\t}\n\n\tconst defaultSize = applyFilters(\n\t\t'editor.PostFeaturedImage.imageSize',\n\t\t'large',\n\t\tmedia.id,\n\t\tpostId\n\t);\n\tif ( defaultSize in ( media?.media_details?.sizes ?? {} ) ) {\n\t\treturn {\n\t\t\tmediaWidth: media.media_details.sizes[ defaultSize ].width,\n\t\t\tmediaHeight: media.media_details.sizes[ defaultSize ].height,\n\t\t\tmediaSourceUrl: media.media_details.sizes[ defaultSize ].source_url,\n\t\t};\n\t}\n\n\t// Use fallbackSize when defaultSize is not available.\n\tconst fallbackSize = applyFilters(\n\t\t'editor.PostFeaturedImage.imageSize',\n\t\t'thumbnail',\n\t\tmedia.id,\n\t\tpostId\n\t);\n\tif ( fallbackSize in ( media?.media_details?.sizes ?? {} ) ) {\n\t\treturn {\n\t\t\tmediaWidth: media.media_details.sizes[ fallbackSize ].width,\n\t\t\tmediaHeight: media.media_details.sizes[ fallbackSize ].height,\n\t\t\tmediaSourceUrl:\n\t\t\t\tmedia.media_details.sizes[ fallbackSize ].source_url,\n\t\t};\n\t}\n\n\t// Use full image size when fallbackSize and defaultSize are not available.\n\treturn {\n\t\tmediaWidth: media.media_details.width,\n\t\tmediaHeight: media.media_details.height,\n\t\tmediaSourceUrl: media.source_url,\n\t};\n}\n\nfunction PostFeaturedImage( {\n\tcurrentPostId,\n\tfeaturedImageId,\n\tonUpdateImage,\n\tonRemoveImage,\n\tmedia,\n\tpostType,\n\tnoticeUI,\n\tnoticeOperations,\n} ) {\n\tconst toggleRef = useRef();\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst { getSettings } = useSelect( blockEditorStore );\n\tconst { mediaSourceUrl } = getMediaDetails( media, currentPostId );\n\n\tfunction onDropFiles( filesList ) {\n\t\tgetSettings().mediaUpload( {\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\tfilesList,\n\t\t\tonFileChange( [ image ] ) {\n\t\t\t\tif ( isBlobURL( image?.url ) ) {\n\t\t\t\t\tsetIsLoading( true );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( image ) {\n\t\t\t\t\tonUpdateImage( image );\n\t\t\t\t}\n\t\t\t\tsetIsLoading( false );\n\t\t\t},\n\t\t\tonError( message ) {\n\t\t\t\tnoticeOperations.removeAllNotices();\n\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t{ noticeUI }\n\t\t\t<div className=\"editor-post-featured-image\">\n\t\t\t\t{ media && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={ `editor-post-featured-image-${ featuredImageId }-describedby` }\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ media.alt_text &&\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// Translators: %s: The selected image alt text.\n\t\t\t\t\t\t\t\t__( 'Current image: %s' ),\n\t\t\t\t\t\t\t\tmedia.alt_text\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! media.alt_text &&\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// Translators: %s: The selected image filename.\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'The current image has no alternative text. The file name is: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tmedia.media_details.sizes?.full?.file ||\n\t\t\t\t\t\t\t\t\tmedia.slug\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<MediaUploadCheck fallback={ instructions }>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tpostType?.labels?.featured_image ||\n\t\t\t\t\t\t\tDEFAULT_FEATURE_IMAGE_LABEL\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={ onUpdateImage }\n\t\t\t\t\t\tunstableFeaturedImageFlow\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<div className=\"editor-post-featured-image__container\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t? 'editor-post-featured-image__toggle'\n\t\t\t\t\t\t\t\t\t\t\t: 'editor-post-featured-image__preview'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Edit or replace the featured image'\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: `editor-post-featured-image-${ featuredImageId }-describedby`\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\t\t\t\tdisabled={ isLoading }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ !! featuredImageId && media && (\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__preview-image\"\n\t\t\t\t\t\t\t\t\t\t\tsrc={ mediaSourceUrl }\n\t\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t\t\t\t\t\t\t{ ! featuredImageId &&\n\t\t\t\t\t\t\t\t\t\t! isLoading &&\n\t\t\t\t\t\t\t\t\t\t( postType?.labels\n\t\t\t\t\t\t\t\t\t\t\t?.set_featured_image ||\n\t\t\t\t\t\t\t\t\t\t\tDEFAULT_SET_FEATURE_IMAGE_LABEL ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{ !! featuredImageId && (\n\t\t\t\t\t\t\t\t\t<HStack className=\"editor-post-featured-image__actions\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Replace' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonRemoveImage();\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleRef.current.focus();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<DropZone onFilesDrop={ onDropFiles } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ featuredImageId }\n\t\t\t\t\t/>\n\t\t\t\t</MediaUploadCheck>\n\t\t\t</div>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getMedia, getPostType } = select( coreStore );\n\tconst { getCurrentPostId, getEditedPostAttribute } = select( editorStore );\n\tconst featuredImageId = getEditedPostAttribute( 'featured_media' );\n\n\treturn {\n\t\tmedia: featuredImageId\n\t\t\t? getMedia( featuredImageId, { context: 'view' } )\n\t\t\t: null,\n\t\tcurrentPostId: getCurrentPostId(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tfeaturedImageId,\n\t};\n} );\n\nconst applyWithDispatch = withDispatch(\n\t( dispatch, { noticeOperations }, { select } ) => {\n\t\tconst { editPost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tonUpdateImage( image ) {\n\t\t\t\teditPost( { featured_media: image.id } );\n\t\t\t},\n\t\t\tonDropImage( filesList ) {\n\t\t\t\tselect( blockEditorStore )\n\t\t\t\t\t.getSettings()\n\t\t\t\t\t.mediaUpload( {\n\t\t\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t\t\t\tfilesList,\n\t\t\t\t\t\tonFileChange( [ image ] ) {\n\t\t\t\t\t\t\teditPost( { featured_media: image.id } );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonError( message ) {\n\t\t\t\t\t\t\tnoticeOperations.removeAllNotices();\n\t\t\t\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t},\n\t\t\tonRemoveImage() {\n\t\t\t\teditPost( { featured_media: 0 } );\n\t\t\t},\n\t\t};\n\t}\n);\n\n/**\n * Renders the component for managing the featured image of a post.\n *\n * @param {Object}   props                  Props.\n * @param {number}   props.currentPostId    ID of the current post.\n * @param {number}   props.featuredImageId  ID of the featured image.\n * @param {Function} props.onUpdateImage    Function to call when the image is updated.\n * @param {Function} props.onRemoveImage    Function to call when the image is removed.\n * @param {Object}   props.media            The media object representing the featured image.\n * @param {string}   props.postType         Post type.\n * @param {Element}  props.noticeUI         UI for displaying notices.\n * @param {Object}   props.noticeOperations Operations for managing notices.\n *\n * @return {Element} Component to be rendered .\n */\nexport default compose(\n\twithNotices,\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\twithFilters( 'editor.PostFeaturedImage' )\n)( PostFeaturedImage );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostFeaturedImage from './index';\nimport PostFeaturedImageCheck from './check';\n\nconst PANEL_NAME = 'featured-image';\n\n/**\n * Renders the panel for the post featured image.\n *\n * @param {Object}  props               Props.\n * @param {boolean} props.withPanelBody Whether to include the panel body. Default true.\n *\n * @return {Component|null} The component to be rendered.\n * Return Null if the editor panel is disabled for featured image.\n */\nexport default function PostFeaturedImagePanel( { withPanelBody = true } ) {\n\tconst { postType, isEnabled, isOpened } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostAttribute,\n\t\t\tisEditorPanelEnabled,\n\t\t\tisEditorPanelOpened,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\tif ( ! withPanelBody ) {\n\t\treturn (\n\t\t\t<PostFeaturedImageCheck>\n\t\t\t\t<PostFeaturedImage />\n\t\t\t</PostFeaturedImageCheck>\n\t\t);\n\t}\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t<PanelBody\n\t\t\t\ttitle={\n\t\t\t\t\tpostType?.labels?.featured_image ?? __( 'Featured image' )\n\t\t\t\t}\n\t\t\t\topened={ isOpened }\n\t\t\t\tonToggle={ () => toggleEditorPanelOpened( PANEL_NAME ) }\n\t\t\t>\n\t\t\t\t<PostFeaturedImage />\n\t\t\t</PanelBody>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PostFormatCheck( { children } ) {\n\tconst disablePostFormats = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().disablePostFormats,\n\t\t[]\n\t);\n\n\tif ( disablePostFormats ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"post-formats\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\n/**\n * Component check if there are any post formats.\n *\n * @param {Object}  props          The component props.\n * @param {Element} props.children The child elements to render.\n *\n * @return {Component|null} The rendered component or null if post formats are disabled.\n */\nexport default PostFormatCheck;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, RadioControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostFormatCheck from './check';\nimport { store as editorStore } from '../../store';\n\n// All WP post formats, sorted alphabetically by translated name.\nexport const POST_FORMATS = [\n\t{ id: 'aside', caption: __( 'Aside' ) },\n\t{ id: 'audio', caption: __( 'Audio' ) },\n\t{ id: 'chat', caption: __( 'Chat' ) },\n\t{ id: 'gallery', caption: __( 'Gallery' ) },\n\t{ id: 'image', caption: __( 'Image' ) },\n\t{ id: 'link', caption: __( 'Link' ) },\n\t{ id: 'quote', caption: __( 'Quote' ) },\n\t{ id: 'standard', caption: __( 'Standard' ) },\n\t{ id: 'status', caption: __( 'Status' ) },\n\t{ id: 'video', caption: __( 'Video' ) },\n].sort( ( a, b ) => {\n\tconst normalizedA = a.caption.toUpperCase();\n\tconst normalizedB = b.caption.toUpperCase();\n\n\tif ( normalizedA < normalizedB ) {\n\t\treturn -1;\n\t}\n\tif ( normalizedA > normalizedB ) {\n\t\treturn 1;\n\t}\n\treturn 0;\n} );\n\n/**\n * `PostFormat` a component that allows changing the post format while also providing a suggestion for the current post.\n *\n * @example\n * ```jsx\n * <PostFormat />\n * ```\n *\n * @return {JSX.Element} The rendered PostFormat component.\n */\nexport default function PostFormat() {\n\tconst instanceId = useInstanceId( PostFormat );\n\tconst postFormatSelectorId = `post-format-selector-${ instanceId }`;\n\n\tconst { postFormat, suggestedFormat, supportedFormats } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst _postFormat = getEditedPostAttribute( 'format' );\n\t\t\tconst themeSupports = select( coreStore ).getThemeSupports();\n\t\t\treturn {\n\t\t\t\tpostFormat: _postFormat ?? 'standard',\n\t\t\t\tsuggestedFormat: getSuggestedPostFormat(),\n\t\t\t\tsupportedFormats: themeSupports.formats,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst formats = POST_FORMATS.filter( ( format ) => {\n\t\t// Ensure current format is always in the set.\n\t\t// The current format may not be a format supported by the theme.\n\t\treturn (\n\t\t\tsupportedFormats?.includes( format.id ) || postFormat === format.id\n\t\t);\n\t} );\n\tconst suggestion = formats.find(\n\t\t( format ) => format.id === suggestedFormat\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst onUpdatePostFormat = ( format ) => editPost( { format } );\n\n\treturn (\n\t\t<PostFormatCheck>\n\t\t\t<div className=\"editor-post-format\">\n\t\t\t\t<RadioControl\n\t\t\t\t\tclassName=\"editor-post-format__options\"\n\t\t\t\t\tlabel={ __( 'Post Format' ) }\n\t\t\t\t\tselected={ postFormat }\n\t\t\t\t\tonChange={ ( format ) => onUpdatePostFormat( format ) }\n\t\t\t\t\tid={ postFormatSelectorId }\n\t\t\t\t\toptions={ formats.map( ( format ) => ( {\n\t\t\t\t\t\tlabel: format.caption,\n\t\t\t\t\t\tvalue: format.id,\n\t\t\t\t\t} ) ) }\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t/>\n\t\t\t\t{ suggestion && suggestion.id !== postFormat && (\n\t\t\t\t\t<p className=\"editor-post-format__suggestion\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tonUpdatePostFormat( suggestion.id )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: post format */\n\t\t\t\t\t\t\t\t__( 'Apply suggested format: %s' ),\n\t\t\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</PostFormatCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children if the post has more than one revision.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component|null} Rendered child components if post has more than one revision, otherwise null.\n */\nfunction PostLastRevisionCheck( { children } ) {\n\tconst { lastRevisionId, revisionsCount } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}, [] );\n\n\tif ( ! lastRevisionId || revisionsCount < 2 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"revisions\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostLastRevisionCheck;\n","/**\n * WordPress dependencies\n */\nimport { sprintf, __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { backup } from '@wordpress/icons';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevisionCheck from './check';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\nfunction usePostLastRevisionInfo() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}, [] );\n}\n\n/**\n * Renders the component for displaying the last revision of a post.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostLastRevision() {\n\tconst { lastRevisionId, revisionsCount } = usePostLastRevisionInfo();\n\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\thref={ addQueryArgs( 'revision.php', {\n\t\t\t\t\trevision: lastRevisionId,\n\t\t\t\t} ) }\n\t\t\t\tclassName=\"editor-post-last-revision__title\"\n\t\t\t\ticon={ backup }\n\t\t\t\ticonPosition=\"right\"\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: %s: number of revisions */\n\t\t\t\t\t__( 'Revisions (%s)' ),\n\t\t\t\t\trevisionsCount\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport function PrivatePostLastRevision() {\n\tconst { lastRevisionId, revisionsCount } = usePostLastRevisionInfo();\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<PostPanelRow label={ __( 'Revisions' ) }>\n\t\t\t\t<Button\n\t\t\t\t\thref={ addQueryArgs( 'revision.php', {\n\t\t\t\t\t\trevision: lastRevisionId,\n\t\t\t\t\t} ) }\n\t\t\t\t\tclassName=\"editor-private-post-last-revision__button\"\n\t\t\t\t\ttext={ revisionsCount }\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default PostLastRevision;\n","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevision from './';\nimport PostLastRevisionCheck from './check';\n\n/**\n * Renders the panel for displaying the last revision of a post.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostLastRevisionPanel() {\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<PanelBody className=\"editor-post-last-revision__panel\">\n\t\t\t\t<PostLastRevision />\n\t\t\t</PanelBody>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default PostLastRevisionPanel;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tModal,\n\tButton,\n\tExternalLink,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useEffect, createInterpolateElement } from '@wordpress/element';\nimport { addAction, removeAction } from '@wordpress/hooks';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * A modal component that is displayed when a post is locked for editing by another user.\n * The modal provides information about the lock status and options to take over or exit the editor.\n *\n * @return {JSX.Element|null} The rendered PostLockedModal component.\n */\nexport default function PostLockedModal() {\n\tconst instanceId = useInstanceId( PostLockedModal );\n\tconst hookName = 'core/editor/post-locked-modal-' + instanceId;\n\tconst { autosave, updatePostLock } = useDispatch( editorStore );\n\tconst {\n\t\tisLocked,\n\t\tisTakeover,\n\t\tuser,\n\t\tpostId,\n\t\tpostLockUtils,\n\t\tactivePostLock,\n\t\tpostType,\n\t\tpreviewLink,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisPostLocked,\n\t\t\tisPostLockTakeover,\n\t\t\tgetPostLockUser,\n\t\t\tgetCurrentPostId,\n\t\t\tgetActivePostLock,\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetEditedPostPreviewLink,\n\t\t\tgetEditorSettings,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn {\n\t\t\tisLocked: isPostLocked(),\n\t\t\tisTakeover: isPostLockTakeover(),\n\t\t\tuser: getPostLockUser(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostLockUtils: getEditorSettings().postLockUtils,\n\t\t\tactivePostLock: getActivePostLock(),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tpreviewLink: getEditedPostPreviewLink(),\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Keep the lock refreshed.\n\t\t *\n\t\t * When the user does not send a heartbeat in a heartbeat-tick\n\t\t * the user is no longer editing and another user can start editing.\n\t\t *\n\t\t * @param {Object} data Data to send in the heartbeat request.\n\t\t */\n\t\tfunction sendPostLock( data ) {\n\t\t\tif ( isLocked ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata[ 'wp-refresh-post-lock' ] = {\n\t\t\t\tlock: activePostLock,\n\t\t\t\tpost_id: postId,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Refresh post locks: update the lock string or show the dialog if somebody has taken over editing.\n\t\t *\n\t\t * @param {Object} data Data received in the heartbeat request\n\t\t */\n\t\tfunction receivePostLock( data ) {\n\t\t\tif ( ! data[ 'wp-refresh-post-lock' ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst received = data[ 'wp-refresh-post-lock' ];\n\t\t\tif ( received.lock_error ) {\n\t\t\t\t// Auto save and display the takeover modal.\n\t\t\t\tautosave();\n\t\t\t\tupdatePostLock( {\n\t\t\t\t\tisLocked: true,\n\t\t\t\t\tisTakeover: true,\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tname: received.lock_error.name,\n\t\t\t\t\t\tavatar: received.lock_error.avatar_src_2x,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} else if ( received.new_lock ) {\n\t\t\t\tupdatePostLock( {\n\t\t\t\t\tisLocked: false,\n\t\t\t\t\tactivePostLock: received.new_lock,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Unlock the post before the window is exited.\n\t\t */\n\t\tfunction releasePostLock() {\n\t\t\tif ( isLocked || ! activePostLock ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data = new window.FormData();\n\t\t\tdata.append( 'action', 'wp-remove-post-lock' );\n\t\t\tdata.append( '_wpnonce', postLockUtils.unlockNonce );\n\t\t\tdata.append( 'post_ID', postId );\n\t\t\tdata.append( 'active_post_lock', activePostLock );\n\n\t\t\tif ( window.navigator.sendBeacon ) {\n\t\t\t\twindow.navigator.sendBeacon( postLockUtils.ajaxUrl, data );\n\t\t\t} else {\n\t\t\t\tconst xhr = new window.XMLHttpRequest();\n\t\t\t\txhr.open( 'POST', postLockUtils.ajaxUrl, false );\n\t\t\t\txhr.send( data );\n\t\t\t}\n\t\t}\n\n\t\t// Details on these events on the Heartbeat API docs\n\t\t// https://developer.wordpress.org/plugins/javascript/heartbeat-api/\n\t\taddAction( 'heartbeat.send', hookName, sendPostLock );\n\t\taddAction( 'heartbeat.tick', hookName, receivePostLock );\n\t\twindow.addEventListener( 'beforeunload', releasePostLock );\n\n\t\treturn () => {\n\t\t\tremoveAction( 'heartbeat.send', hookName );\n\t\t\tremoveAction( 'heartbeat.tick', hookName );\n\t\t\twindow.removeEventListener( 'beforeunload', releasePostLock );\n\t\t};\n\t}, [] );\n\n\tif ( ! isLocked ) {\n\t\treturn null;\n\t}\n\n\tconst userDisplayName = user.name;\n\tconst userAvatar = user.avatar;\n\n\tconst unlockUrl = addQueryArgs( 'post.php', {\n\t\t'get-post-lock': '1',\n\t\tlockKey: true,\n\t\tpost: postId,\n\t\taction: 'edit',\n\t\t_wpnonce: postLockUtils.nonce,\n\t} );\n\tconst allPostsUrl = addQueryArgs( 'edit.php', {\n\t\tpost_type: postType?.slug,\n\t} );\n\tconst allPostsLabel = __( 'Exit editor' );\n\treturn (\n\t\t<Modal\n\t\t\ttitle={\n\t\t\t\tisTakeover\n\t\t\t\t\t? __( 'Someone else has taken over this post' )\n\t\t\t\t\t: __( 'This post is already being edited' )\n\t\t\t}\n\t\t\tfocusOnMount\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tisDismissible={ false }\n\t\t\t// Do not remove this class, as this class is used by third party plugins.\n\t\t\tclassName=\"editor-post-locked-modal\"\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<HStack alignment=\"top\" spacing={ 6 }>\n\t\t\t\t{ !! userAvatar && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ userAvatar }\n\t\t\t\t\t\talt={ __( 'Avatar' ) }\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__avatar\"\n\t\t\t\t\t\twidth={ 64 }\n\t\t\t\t\t\theight={ 64 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<div>\n\t\t\t\t\t{ !! isTakeover && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'<strong>%s</strong> now has editing control of this post (<PreviewLink />). Don’t worry, your changes up to this moment have been saved.'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t'Another user now has editing control of this post (<PreviewLink />). Don’t worry, your changes up to this moment have been saved.'\n\t\t\t\t\t\t\t\t\t  ),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t\t\tPreviewLink: (\n\t\t\t\t\t\t\t\t\t\t<ExternalLink href={ previewLink }>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'preview' ) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<strong>%s</strong> is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Another user is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'\n\t\t\t\t\t\t\t\t\t\t  ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t\t\t\tPreviewLink: (\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink href={ previewLink }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'preview' ) }\n\t\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'If you take over, the other user will lose editing control to the post, but their changes will be saved.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__buttons\"\n\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\thref={ unlockUrl }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Take over' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\thref={ allPostsUrl }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ allPostsLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</div>\n\t\t\t</HStack>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * This component checks the publishing status of the current post.\n * If the post is already published or the user doesn't have the\n * capability to publish, it returns null.\n *\n * @param {Object}  props          Component properties.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {JSX.Element|null} The rendered child elements or null if the post is already published or the user doesn't have the capability to publish.\n */\nexport function PostPendingStatusCheck( { children } ) {\n\tconst { hasPublishAction, isPublished } = useSelect( ( select ) => {\n\t\tconst { isCurrentPostPublished, getCurrentPost } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t};\n\t}, [] );\n\n\tif ( isPublished || ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PostPendingStatusCheck;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostPendingStatusCheck from './check';\nimport { store as editorStore } from '../../store';\n\n/**\n * A component for displaying and toggling the pending status of a post.\n *\n * @return {JSX.Element} The rendered component.\n */\nexport function PostPendingStatus() {\n\tconst status = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst togglePendingStatus = () => {\n\t\tconst updatedStatus = status === 'pending' ? 'draft' : 'pending';\n\t\teditPost( { status: updatedStatus } );\n\t};\n\n\treturn (\n\t\t<PostPendingStatusCheck>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Pending review' ) }\n\t\t\t\tchecked={ status === 'pending' }\n\t\t\t\tonChange={ togglePendingStatus }\n\t\t\t/>\n\t\t</PostPendingStatusCheck>\n\t);\n}\n\nexport default PostPendingStatus;\n","/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\nimport { Button, Path, SVG, VisuallyHidden } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { applyFilters } from '@wordpress/hooks';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction writeInterstitialMessage( targetDocument ) {\n\tlet markup = renderToString(\n\t\t<div className=\"editor-post-preview-button__interstitial-message\">\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\">\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"outer\"\n\t\t\t\t\td=\"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"inner\"\n\t\t\t\t\td=\"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</SVG>\n\t\t\t<p>{ __( 'Generating preview…' ) }</p>\n\t\t</div>\n\t);\n\n\tmarkup += `\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n\t\t\t}\n\t\t</style>\n\t`;\n\n\t/**\n\t * Filters the interstitial message shown when generating previews.\n\t *\n\t * @param {string} markup The preview interstitial markup.\n\t */\n\tmarkup = applyFilters( 'editor.PostPreview.interstitialMarkup', markup );\n\n\ttargetDocument.write( markup );\n\ttargetDocument.title = __( 'Generating preview…' );\n\ttargetDocument.close();\n}\n\n/**\n * Renders a button that opens a new window or tab for the preview,\n * writes the interstitial message to this window, and then navigates\n * to the actual preview link. The button is not rendered if the post\n * is not viewable and disabled if the post is not saveable.\n *\n * @param {Object}   props                     The component props.\n * @param {string}   props.className           The class name for the button.\n * @param {string}   props.textContent         The text content for the button.\n * @param {boolean}  props.forceIsAutosaveable Whether to force autosave.\n * @param {string}   props.role                The role attribute for the button.\n * @param {Function} props.onPreview           The callback function for preview event.\n *\n * @return {JSX.Element|null} The rendered button component.\n */\nexport default function PostPreviewButton( {\n\tclassName,\n\ttextContent,\n\tforceIsAutosaveable,\n\trole,\n\tonPreview,\n} ) {\n\tconst { postId, currentPostLink, previewLink, isSaveable, isViewable } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst editor = select( editorStore );\n\t\t\tconst core = select( coreStore );\n\n\t\t\tconst postType = core.getPostType(\n\t\t\t\teditor.getCurrentPostType( 'type' )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tpostId: editor.getCurrentPostId(),\n\t\t\t\tcurrentPostLink: editor.getCurrentPostAttribute( 'link' ),\n\t\t\t\tpreviewLink: editor.getEditedPostPreviewLink(),\n\t\t\t\tisSaveable: editor.isEditedPostSaveable(),\n\t\t\t\tisViewable: postType?.viewable ?? false,\n\t\t\t};\n\t\t}, [] );\n\n\tconst { __unstableSaveForPreview } = useDispatch( editorStore );\n\n\tif ( ! isViewable ) {\n\t\treturn null;\n\t}\n\n\tconst targetId = `wp-preview-${ postId }`;\n\n\tconst openPreviewWindow = async ( event ) => {\n\t\t// Our Preview button has its 'href' and 'target' set correctly for a11y\n\t\t// purposes. Unfortunately, though, we can't rely on the default 'click'\n\t\t// handler since sometimes it incorrectly opens a new tab instead of reusing\n\t\t// the existing one.\n\t\t// https://github.com/WordPress/gutenberg/pull/8330\n\t\tevent.preventDefault();\n\n\t\t// Open up a Preview tab if needed. This is where we'll show the preview.\n\t\tconst previewWindow = window.open( '', targetId );\n\n\t\t// Focus the Preview tab. This might not do anything, depending on the browser's\n\t\t// and user's preferences.\n\t\t// https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus\n\t\tpreviewWindow.focus();\n\n\t\twriteInterstitialMessage( previewWindow.document );\n\n\t\tconst link = await __unstableSaveForPreview( { forceIsAutosaveable } );\n\n\t\tpreviewWindow.location = link;\n\n\t\tonPreview?.();\n\t};\n\n\t// Link to the `?preview=true` URL if we have it, since this lets us see\n\t// changes that were autosaved since the post was last published. Otherwise,\n\t// just link to the post's URL.\n\tconst href = previewLink || currentPostLink;\n\n\treturn (\n\t\t<Button\n\t\t\tvariant={ ! className ? 'tertiary' : undefined }\n\t\t\tclassName={ className || 'editor-post-preview' }\n\t\t\thref={ href }\n\t\t\ttarget={ targetId }\n\t\t\taccessibleWhenDisabled\n\t\t\tdisabled={ ! isSaveable }\n\t\t\tonClick={ openPreviewWindow }\n\t\t\trole={ role }\n\t\t\tsize=\"compact\"\n\t\t>\n\t\t\t{ textContent || (\n\t\t\t\t<>\n\t\t\t\t\t{ _x( 'Preview', 'imperative verb' ) }\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t}\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the label for the publish button.\n *\n * @return {string} The label for the publish button.\n */\nexport default function PublishButtonLabel() {\n\tconst isSmallerThanMediumViewport = useViewportMatch( 'medium', '<' );\n\tconst {\n\t\tisPublished,\n\t\tisBeingScheduled,\n\t\tisSaving,\n\t\tisPublishing,\n\t\thasPublishAction,\n\t\tisAutosaving,\n\t\thasNonPostEntityChanges,\n\t\tpostStatusHasChanged,\n\t\tpostStatus,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisSavingPost,\n\t\t\tisPublishingPost,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tisAutosavingPost,\n\t\t\tgetPostEdits,\n\t\t\tgetEditedPostAttribute,\n\t\t} = select( editorStore );\n\t\treturn {\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublishing: isPublishingPost(),\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\thasNonPostEntityChanges:\n\t\t\t\tselect( editorStore ).hasNonPostEntityChanges(),\n\t\t\tpostStatusHasChanged: !! getPostEdits()?.status,\n\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\n\t\t};\n\t}, [] );\n\tif ( isPublishing ) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Publishing…' );\n\t} else if (\n\t\t( isPublished || isBeingScheduled ) &&\n\t\tisSaving &&\n\t\t! isAutosaving\n\t) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Saving…' );\n\t}\n\tif ( ! hasPublishAction ) {\n\t\t// TODO: this is because \"Submit for review\" string is too long in some languages.\n\t\t// @see https://github.com/WordPress/gutenberg/issues/10475\n\t\treturn isSmallerThanMediumViewport\n\t\t\t? __( 'Publish' )\n\t\t\t: __( 'Submit for Review' );\n\t}\n\tif (\n\t\thasNonPostEntityChanges ||\n\t\tisPublished ||\n\t\t( postStatusHasChanged &&\n\t\t\t! [ 'future', 'publish' ].includes( postStatus ) ) ||\n\t\t( ! postStatusHasChanged && postStatus === 'future' )\n\t) {\n\t\treturn __( 'Save' );\n\t}\n\tif ( isBeingScheduled ) {\n\t\treturn __( 'Schedule' );\n\t}\n\treturn __( 'Publish' );\n}\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PublishButtonLabel from './label';\nimport { store as editorStore } from '../../store';\n\nconst noop = () => {};\n\nexport class PostPublishButton extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.createOnClick = this.createOnClick.bind( this );\n\t\tthis.closeEntitiesSavedStates =\n\t\t\tthis.closeEntitiesSavedStates.bind( this );\n\n\t\tthis.state = {\n\t\t\tentitiesSavedStatesCallback: false,\n\t\t};\n\t}\n\n\tcreateOnClick( callback ) {\n\t\treturn ( ...args ) => {\n\t\t\tconst { hasNonPostEntityChanges, setEntitiesSavedStatesCallback } =\n\t\t\t\tthis.props;\n\t\t\t// If a post with non-post entities is published, but the user\n\t\t\t// elects to not save changes to the non-post entities, those\n\t\t\t// entities will still be dirty when the Publish button is clicked.\n\t\t\t// We also need to check that the `setEntitiesSavedStatesCallback`\n\t\t\t// prop was passed. See https://github.com/WordPress/gutenberg/pull/37383\n\t\t\tif ( hasNonPostEntityChanges && setEntitiesSavedStatesCallback ) {\n\t\t\t\t// The modal for multiple entity saving will open,\n\t\t\t\t// hold the callback for saving/publishing the post\n\t\t\t\t// so that we can call it if the post entity is checked.\n\t\t\t\tthis.setState( {\n\t\t\t\t\tentitiesSavedStatesCallback: () => callback( ...args ),\n\t\t\t\t} );\n\n\t\t\t\t// Open the save panel by setting its callback.\n\t\t\t\t// To set a function on the useState hook, we must set it\n\t\t\t\t// with another function (() => myFunction). Passing the\n\t\t\t\t// function on its own will cause an error when called.\n\t\t\t\tsetEntitiesSavedStatesCallback(\n\t\t\t\t\t() => this.closeEntitiesSavedStates\n\t\t\t\t);\n\t\t\t\treturn noop;\n\t\t\t}\n\n\t\t\treturn callback( ...args );\n\t\t};\n\t}\n\n\tcloseEntitiesSavedStates( savedEntities ) {\n\t\tconst { postType, postId } = this.props;\n\t\tconst { entitiesSavedStatesCallback } = this.state;\n\t\tthis.setState( { entitiesSavedStatesCallback: false }, () => {\n\t\t\tif (\n\t\t\t\tsavedEntities &&\n\t\t\t\tsavedEntities.some(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind === 'postType' &&\n\t\t\t\t\t\telt.name === postType &&\n\t\t\t\t\t\telt.key === postId\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// The post entity was checked, call the held callback from `createOnClick`.\n\t\t\t\tentitiesSavedStatesCallback();\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\thasPublishAction,\n\t\t\tisBeingScheduled,\n\t\t\tisOpen,\n\t\t\tisPostSavingLocked,\n\t\t\tisPublishable,\n\t\t\tisPublished,\n\t\t\tisSaveable,\n\t\t\tisSaving,\n\t\t\tisAutoSaving,\n\t\t\tisToggle,\n\t\t\tsavePostStatus,\n\t\t\tonSubmit = noop,\n\t\t\tonToggle,\n\t\t\tvisibility,\n\t\t\thasNonPostEntityChanges,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tpostStatus,\n\t\t\tpostStatusHasChanged,\n\t\t} = this.props;\n\n\t\tconst isButtonDisabled =\n\t\t\t( isSaving ||\n\t\t\t\t! isSaveable ||\n\t\t\t\tisPostSavingLocked ||\n\t\t\t\t( ! isPublishable && ! forceIsDirty ) ) &&\n\t\t\t( ! hasNonPostEntityChanges || isSavingNonPostEntityChanges );\n\n\t\tconst isToggleDisabled =\n\t\t\t( isPublished ||\n\t\t\t\tisSaving ||\n\t\t\t\t! isSaveable ||\n\t\t\t\t( ! isPublishable && ! forceIsDirty ) ) &&\n\t\t\t( ! hasNonPostEntityChanges || isSavingNonPostEntityChanges );\n\n\t\t// If the new status has not changed explicitely, we derive it from\n\t\t// other factors, like having a publish action, etc.. We need to preserve\n\t\t// this because it affects when to show the pre and post publish panels.\n\t\t// If it has changed though explicitely, we need to respect that.\n\t\tlet publishStatus = 'publish';\n\t\tif ( postStatusHasChanged ) {\n\t\t\tpublishStatus = postStatus;\n\t\t} else if ( ! hasPublishAction ) {\n\t\t\tpublishStatus = 'pending';\n\t\t} else if ( visibility === 'private' ) {\n\t\t\tpublishStatus = 'private';\n\t\t} else if ( isBeingScheduled ) {\n\t\t\tpublishStatus = 'future';\n\t\t}\n\n\t\tconst onClickButton = () => {\n\t\t\tif ( isButtonDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSubmit();\n\t\t\tsavePostStatus( publishStatus );\n\t\t};\n\n\t\t// Callback to open the publish panel.\n\t\tconst onClickToggle = () => {\n\t\t\tif ( isToggleDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonToggle();\n\t\t};\n\n\t\tconst buttonProps = {\n\t\t\t'aria-disabled': isButtonDisabled,\n\t\t\tclassName: 'editor-post-publish-button',\n\t\t\tisBusy: ! isAutoSaving && isSaving,\n\t\t\tvariant: 'primary',\n\t\t\tonClick: this.createOnClick( onClickButton ),\n\t\t};\n\n\t\tconst toggleProps = {\n\t\t\t'aria-disabled': isToggleDisabled,\n\t\t\t'aria-expanded': isOpen,\n\t\t\tclassName: 'editor-post-publish-panel__toggle',\n\t\t\tisBusy: isSaving && isPublished,\n\t\t\tvariant: 'primary',\n\t\t\tsize: 'compact',\n\t\t\tonClick: this.createOnClick( onClickToggle ),\n\t\t};\n\t\tconst componentProps = isToggle ? toggleProps : buttonProps;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\t{ ...componentProps }\n\t\t\t\t\tclassName={ `${ componentProps.className } editor-post-publish-button__button` }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t>\n\t\t\t\t\t<PublishButtonLabel />\n\t\t\t\t</Button>\n\t\t\t</>\n\t\t);\n\t}\n}\n\n/**\n * Renders the publish button.\n */\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisSavingPost,\n\t\t\tisAutosavingPost,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tgetEditedPostVisibility,\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostSaveable,\n\t\t\tisEditedPostPublishable,\n\t\t\tisPostSavingLocked,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentPostId,\n\t\t\thasNonPostEntityChanges,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetPostEdits,\n\t\t} = select( editorStore );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisAutoSaving: isAutosavingPost(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tvisibility: getEditedPostVisibility(),\n\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\tisPostSavingLocked: isPostSavingLocked(),\n\t\t\tisPublishable: isEditedPostPublishable(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\n\t\t\tpostStatusHasChanged: getPostEdits()?.status,\n\t\t\thasNonPostEntityChanges: hasNonPostEntityChanges(),\n\t\t\tisSavingNonPostEntityChanges: isSavingNonPostEntityChanges(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, savePost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tsavePostStatus: ( status ) => {\n\t\t\t\teditPost( { status }, { undoIgnore: true } );\n\t\t\t\tsavePost();\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostPublishButton );\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst wordpress = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n\nexport default wordpress;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const visibilityOptions = {\n\tpublic: {\n\t\tlabel: __( 'Public' ),\n\t\tinfo: __( 'Visible to everyone.' ),\n\t},\n\tprivate: {\n\t\tlabel: __( 'Private' ),\n\t\tinfo: __( 'Only visible to site admins and editors.' ),\n\t},\n\tpassword: {\n\t\tlabel: __( 'Password protected' ),\n\t\tinfo: __( 'Only those with the password can view this post.' ),\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tVisuallyHidden,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { visibilityOptions } from './utils';\nimport { store as editorStore } from '../../store';\n\n/**\n * Allows users to set the visibility of a post.\n *\n * @param {Object}   props         The component props.\n * @param {Function} props.onClose Function to call when the popover is closed.\n * @return {JSX.Element} The rendered component.\n */\nexport default function PostVisibility( { onClose } ) {\n\tconst instanceId = useInstanceId( PostVisibility );\n\n\tconst { status, visibility, password } = useSelect( ( select ) => ( {\n\t\tstatus: select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\tvisibility: select( editorStore ).getEditedPostVisibility(),\n\t\tpassword: select( editorStore ).getEditedPostAttribute( 'password' ),\n\t} ) );\n\n\tconst { editPost, savePost } = useDispatch( editorStore );\n\n\tconst [ hasPassword, setHasPassword ] = useState( !! password );\n\tconst [ showPrivateConfirmDialog, setShowPrivateConfirmDialog ] =\n\t\tuseState( false );\n\n\tconst setPublic = () => {\n\t\teditPost( {\n\t\t\tstatus: visibility === 'private' ? 'draft' : status,\n\t\t\tpassword: '',\n\t\t} );\n\t\tsetHasPassword( false );\n\t};\n\n\tconst setPrivate = () => {\n\t\tsetShowPrivateConfirmDialog( true );\n\t};\n\n\tconst confirmPrivate = () => {\n\t\teditPost( { status: 'private', password: '' } );\n\t\tsetHasPassword( false );\n\t\tsetShowPrivateConfirmDialog( false );\n\t\tsavePost();\n\t};\n\n\tconst handleDialogCancel = () => {\n\t\tsetShowPrivateConfirmDialog( false );\n\t};\n\n\tconst setPasswordProtected = () => {\n\t\teditPost( {\n\t\t\tstatus: visibility === 'private' ? 'draft' : status,\n\t\t\tpassword: password || '',\n\t\t} );\n\t\tsetHasPassword( true );\n\t};\n\n\tconst updatePassword = ( event ) => {\n\t\teditPost( { password: event.target.value } );\n\t};\n\n\treturn (\n\t\t<div className=\"editor-post-visibility\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Visibility' ) }\n\t\t\t\thelp={ __( 'Control how this post is viewed.' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<fieldset className=\"editor-post-visibility__fieldset\">\n\t\t\t\t<VisuallyHidden as=\"legend\">\n\t\t\t\t\t{ __( 'Visibility' ) }\n\t\t\t\t</VisuallyHidden>\n\t\t\t\t<PostVisibilityChoice\n\t\t\t\t\tinstanceId={ instanceId }\n\t\t\t\t\tvalue=\"public\"\n\t\t\t\t\tlabel={ visibilityOptions.public.label }\n\t\t\t\t\tinfo={ visibilityOptions.public.info }\n\t\t\t\t\tchecked={ visibility === 'public' && ! hasPassword }\n\t\t\t\t\tonChange={ setPublic }\n\t\t\t\t/>\n\t\t\t\t<PostVisibilityChoice\n\t\t\t\t\tinstanceId={ instanceId }\n\t\t\t\t\tvalue=\"private\"\n\t\t\t\t\tlabel={ visibilityOptions.private.label }\n\t\t\t\t\tinfo={ visibilityOptions.private.info }\n\t\t\t\t\tchecked={ visibility === 'private' }\n\t\t\t\t\tonChange={ setPrivate }\n\t\t\t\t/>\n\t\t\t\t<PostVisibilityChoice\n\t\t\t\t\tinstanceId={ instanceId }\n\t\t\t\t\tvalue=\"password\"\n\t\t\t\t\tlabel={ visibilityOptions.password.label }\n\t\t\t\t\tinfo={ visibilityOptions.password.info }\n\t\t\t\t\tchecked={ hasPassword }\n\t\t\t\t\tonChange={ setPasswordProtected }\n\t\t\t\t/>\n\t\t\t\t{ hasPassword && (\n\t\t\t\t\t<div className=\"editor-post-visibility__password\">\n\t\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\t\tas=\"label\"\n\t\t\t\t\t\t\thtmlFor={ `editor-post-visibility__password-input-${ instanceId }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create password' ) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"editor-post-visibility__password-input\"\n\t\t\t\t\t\t\tid={ `editor-post-visibility__password-input-${ instanceId }` }\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tonChange={ updatePassword }\n\t\t\t\t\t\t\tvalue={ password }\n\t\t\t\t\t\t\tplaceholder={ __( 'Use a secure password' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</fieldset>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showPrivateConfirmDialog }\n\t\t\t\tonConfirm={ confirmPrivate }\n\t\t\t\tonCancel={ handleDialogCancel }\n\t\t\t\tconfirmButtonText={ __( 'Publish' ) }\n\t\t\t\tsize=\"medium\"\n\t\t\t>\n\t\t\t\t{ __( 'Would you like to privately publish this post now?' ) }\n\t\t\t</ConfirmDialog>\n\t\t</div>\n\t);\n}\n\nfunction PostVisibilityChoice( { instanceId, value, label, info, ...props } ) {\n\treturn (\n\t\t<div className=\"editor-post-visibility__choice\">\n\t\t\t<input\n\t\t\t\ttype=\"radio\"\n\t\t\t\tname={ `editor-post-visibility__setting-${ instanceId }` }\n\t\t\t\tvalue={ value }\n\t\t\t\tid={ `editor-post-${ value }-${ instanceId }` }\n\t\t\t\taria-describedby={ `editor-post-${ value }-${ instanceId }-description` }\n\t\t\t\tclassName=\"editor-post-visibility__radio\"\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t\t<label\n\t\t\t\thtmlFor={ `editor-post-${ value }-${ instanceId }` }\n\t\t\t\tclassName=\"editor-post-visibility__label\"\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</label>\n\t\t\t<p\n\t\t\t\tid={ `editor-post-${ value }-${ instanceId }-description` }\n\t\t\t\tclassName=\"editor-post-visibility__info\"\n\t\t\t>\n\t\t\t\t{ info }\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { visibilityOptions } from './utils';\nimport { store as editorStore } from '../../store';\n\n/**\n * Returns the label for the current post visibility setting.\n *\n * @return {string} Post visibility label.\n */\nexport default function PostVisibilityLabel() {\n\treturn usePostVisibilityLabel();\n}\n\n/**\n * Get the label for the current post visibility setting.\n *\n * @return {string} Post visibility label.\n */\nexport function usePostVisibilityLabel() {\n\tconst visibility = useSelect( ( select ) =>\n\t\tselect( editorStore ).getEditedPostVisibility()\n\t);\n\treturn visibilityOptions[ visibility ]?.label;\n}\n","/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date) {\n  const _date = toDate(date);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","import { millisecondsInHour, millisecondsInMinute } from \"./constants.mjs\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n\n  const timestamp = date.getTime();\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    const dirtyDate = new Date(timestamp + time);\n    // JS parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n    const result = new Date(0);\n    result.setFullYear(\n      dirtyDate.getUTCFullYear(),\n      dirtyDate.getUTCMonth(),\n      dirtyDate.getUTCDate(),\n    );\n    result.setHours(\n      dirtyDate.getUTCHours(),\n      dirtyDate.getUTCMinutes(),\n      dirtyDate.getUTCSeconds(),\n      dirtyDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n","/**\n * External dependencies\n */\nimport { parseISO, endOfMonth, startOfMonth } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getSettings } from '@wordpress/date';\nimport { _x } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useState, useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { PrivatePublishDateTimePicker } = unlock( blockEditorPrivateApis );\n\n/**\n * Renders the PostSchedule component. It allows the user to schedule a post.\n *\n * @param {Object}   props         Props.\n * @param {Function} props.onClose Function to close the component.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PostSchedule( props ) {\n\treturn (\n\t\t<PrivatePostSchedule\n\t\t\t{ ...props }\n\t\t\tshowPopoverHeaderActions\n\t\t\tisCompact={ false }\n\t\t/>\n\t);\n}\n\nexport function PrivatePostSchedule( {\n\tonClose,\n\tshowPopoverHeaderActions,\n\tisCompact,\n} ) {\n\tconst { postDate, postType } = useSelect(\n\t\t( select ) => ( {\n\t\t\tpostDate: select( editorStore ).getEditedPostAttribute( 'date' ),\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onUpdateDate = ( date ) => editPost( { date } );\n\n\tconst [ previewedMonth, setPreviewedMonth ] = useState(\n\t\tstartOfMonth( new Date( postDate ) )\n\t);\n\n\t// Pick up published and schduled site posts.\n\tconst eventsByPostType = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', postType, {\n\t\t\t\tstatus: 'publish,future',\n\t\t\t\tafter: startOfMonth( previewedMonth ).toISOString(),\n\t\t\t\tbefore: endOfMonth( previewedMonth ).toISOString(),\n\t\t\t\texclude: [ select( editorStore ).getCurrentPostId() ],\n\t\t\t\tper_page: 100,\n\t\t\t\t_fields: 'id,date',\n\t\t\t} ),\n\t\t[ previewedMonth, postType ]\n\t);\n\n\tconst events = useMemo(\n\t\t() =>\n\t\t\t( eventsByPostType || [] ).map( ( { date: eventDate } ) => ( {\n\t\t\t\tdate: new Date( eventDate ),\n\t\t\t} ) ),\n\t\t[ eventsByPostType ]\n\t);\n\n\tconst settings = getSettings();\n\n\t// To know if the current timezone is a 12 hour time with look for \"a\" in the time format\n\t// We also make sure this a is not escaped by a \"/\"\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a.\n\t\t\t.replace( /\\\\\\\\/g, '' ) // Replace \"//\" with empty strings.\n\t\t\t.split( '' )\n\t\t\t.reverse()\n\t\t\t.join( '' ) // Reverse the string and test for \"a\" not followed by a slash.\n\t);\n\n\treturn (\n\t\t<PrivatePublishDateTimePicker\n\t\t\tcurrentDate={ postDate }\n\t\t\tonChange={ onUpdateDate }\n\t\t\tis12Hour={ is12HourTime }\n\t\t\tdateOrder={\n\t\t\t\t/* translators: Order of day, month, and year. Available formats are 'dmy', 'mdy', and 'ymd'. */\n\t\t\t\t_x( 'dmy', 'date order' )\n\t\t\t}\n\t\t\tevents={ events }\n\t\t\tonMonthPreviewed={ ( date ) =>\n\t\t\t\tsetPreviewedMonth( parseISO( date ) )\n\t\t\t}\n\t\t\tonClose={ onClose }\n\t\t\tisCompact={ isCompact }\n\t\t\tshowPopoverHeaderActions={ showPopoverHeaderActions }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\nimport { getSettings, getDate, dateI18n } from '@wordpress/date';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the PostScheduleLabel component.\n *\n * @param {Object} props Props.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PostScheduleLabel( props ) {\n\treturn usePostScheduleLabel( props );\n}\n\n/**\n * Custom hook to get the label for post schedule.\n *\n * @param {Object}  options      Options for the hook.\n * @param {boolean} options.full Whether to get the full label or not. Default is false.\n *\n * @return {string} The label for post schedule.\n */\nexport function usePostScheduleLabel( { full = false } = {} ) {\n\tconst { date, isFloating } = useSelect(\n\t\t( select ) => ( {\n\t\t\tdate: select( editorStore ).getEditedPostAttribute( 'date' ),\n\t\t\tisFloating: select( editorStore ).isEditedPostDateFloating(),\n\t\t} ),\n\t\t[]\n\t);\n\n\treturn full\n\t\t? getFullPostScheduleLabel( date )\n\t\t: getPostScheduleLabel( date, { isFloating } );\n}\n\nexport function getFullPostScheduleLabel( dateAttribute ) {\n\tconst date = getDate( dateAttribute );\n\n\tconst timezoneAbbreviation = getTimezoneAbbreviation();\n\tconst formattedDate = dateI18n(\n\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t_x( 'F j, Y g:i\\xa0a', 'post schedule full date format' ),\n\t\tdate\n\t);\n\treturn isRTL()\n\t\t? `${ timezoneAbbreviation } ${ formattedDate }`\n\t\t: `${ formattedDate } ${ timezoneAbbreviation }`;\n}\n\nexport function getPostScheduleLabel(\n\tdateAttribute,\n\t{ isFloating = false, now = new Date() } = {}\n) {\n\tif ( ! dateAttribute || isFloating ) {\n\t\treturn __( 'Immediately' );\n\t}\n\n\t// If the user timezone does not equal the site timezone then using words\n\t// like 'tomorrow' is confusing, so show the full date.\n\tif ( ! isTimezoneSameAsSiteTimezone( now ) ) {\n\t\treturn getFullPostScheduleLabel( dateAttribute );\n\t}\n\n\tconst date = getDate( dateAttribute );\n\n\tif ( isSameDay( date, now ) ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Time of day the post is scheduled for.\n\t\t\t__( 'Today at %s' ),\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\tdateI18n( _x( 'g:i\\xa0a', 'post schedule time format' ), date )\n\t\t);\n\t}\n\n\tconst tomorrow = new Date( now );\n\ttomorrow.setDate( tomorrow.getDate() + 1 );\n\n\tif ( isSameDay( date, tomorrow ) ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Time of day the post is scheduled for.\n\t\t\t__( 'Tomorrow at %s' ),\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\tdateI18n( _x( 'g:i\\xa0a', 'post schedule time format' ), date )\n\t\t);\n\t}\n\n\tif ( date.getFullYear() === now.getFullYear() ) {\n\t\treturn dateI18n(\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\t_x( 'F j g:i\\xa0a', 'post schedule date format without year' ),\n\t\t\tdate\n\t\t);\n\t}\n\n\treturn dateI18n(\n\t\t// translators: Use a non-breaking space between 'g:i' and 'a' if appropriate.\n\t\t_x( 'F j, Y g:i\\xa0a', 'post schedule full date format' ),\n\t\tdate\n\t);\n}\n\nfunction getTimezoneAbbreviation() {\n\tconst { timezone } = getSettings();\n\n\tif ( timezone.abbr && isNaN( Number( timezone.abbr ) ) ) {\n\t\treturn timezone.abbr;\n\t}\n\n\tconst symbol = timezone.offset < 0 ? '' : '+';\n\treturn `UTC${ symbol }${ timezone.offsetFormatted }`;\n}\n\nfunction isTimezoneSameAsSiteTimezone( date ) {\n\tconst { timezone } = getSettings();\n\n\tconst siteOffset = Number( timezone.offset );\n\tconst dateOffset = -1 * ( date.getTimezoneOffset() / 60 );\n\treturn siteOffset === dateOffset;\n}\n\nfunction isSameDay( left, right ) {\n\treturn (\n\t\tleft.getDate() === right.getDate() &&\n\t\tleft.getMonth() === right.getMonth() &&\n\t\tleft.getFullYear() === right.getFullYear()\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { BaseControl, Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unescapeTerms } from '../../utils/terms';\n\nconst MIN_MOST_USED_TERMS = 3;\nconst DEFAULT_QUERY = {\n\tper_page: 10,\n\torderby: 'count',\n\torder: 'desc',\n\thide_empty: true,\n\t_fields: 'id,name,count',\n\tcontext: 'view',\n};\n\nexport default function MostUsedTerms( { onSelect, taxonomy } ) {\n\tconst { _terms, showTerms } = useSelect(\n\t\t( select ) => {\n\t\t\tconst mostUsedTerms = select( coreStore ).getEntityRecords(\n\t\t\t\t'taxonomy',\n\t\t\t\ttaxonomy.slug,\n\t\t\t\tDEFAULT_QUERY\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t_terms: mostUsedTerms,\n\t\t\t\tshowTerms: mostUsedTerms?.length >= MIN_MOST_USED_TERMS,\n\t\t\t};\n\t\t},\n\t\t[ taxonomy.slug ]\n\t);\n\n\tif ( ! showTerms ) {\n\t\treturn null;\n\t}\n\n\tconst terms = unescapeTerms( _terms );\n\n\treturn (\n\t\t<div className=\"editor-post-taxonomies__flat-term-most-used\">\n\t\t\t<BaseControl.VisualLabel\n\t\t\t\tas=\"h3\"\n\t\t\t\tclassName=\"editor-post-taxonomies__flat-term-most-used-label\"\n\t\t\t>\n\t\t\t\t{ taxonomy.labels.most_used }\n\t\t\t</BaseControl.VisualLabel>\n\t\t\t{ /*\n\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t */\n\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t<ul\n\t\t\t\trole=\"list\"\n\t\t\t\tclassName=\"editor-post-taxonomies__flat-term-most-used-list\"\n\t\t\t>\n\t\t\t\t{ terms.map( ( term ) => (\n\t\t\t\t\t<li key={ term.id }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () => onSelect( term ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ term.name }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useEffect, useMemo, useState } from '@wordpress/element';\nimport { FormTokenField, withFilters } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unescapeString, unescapeTerm } from '../../utils/terms';\nimport MostUsedTerms from './most-used-terms';\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation.\n *\n * @type {Array<any>}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * How the max suggestions limit was chosen:\n *  - Matches the `per_page` range set by the REST API.\n *  - Can't use \"unbound\" query. The `FormTokenField` needs a fixed number.\n *  - Matches default for `FormTokenField`.\n */\nconst MAX_TERMS_SUGGESTIONS = 100;\nconst DEFAULT_QUERY = {\n\tper_page: MAX_TERMS_SUGGESTIONS,\n\t_fields: 'id,name',\n\tcontext: 'view',\n};\n\nconst isSameTermName = ( termA, termB ) =>\n\tunescapeString( termA ).toLowerCase() ===\n\tunescapeString( termB ).toLowerCase();\n\nconst termNamesToIds = ( names, terms ) => {\n\treturn names\n\t\t.map(\n\t\t\t( termName ) =>\n\t\t\t\tterms.find( ( term ) => isSameTermName( term.name, termName ) )\n\t\t\t\t\t?.id\n\t\t)\n\t\t.filter( ( id ) => id !== undefined );\n};\n\n/**\n * Renders a flat term selector component.\n *\n * @param {Object}  props                         The component props.\n * @param {string}  props.slug                    The slug of the taxonomy.\n * @param {boolean} props.__nextHasNoMarginBottom Start opting into the new margin-free styles that will become the default in a future version, currently scheduled to be WordPress 7.0. (The prop can be safely removed once this happens.)\n *\n * @return {JSX.Element} The rendered flat term selector component.\n */\nexport function FlatTermSelector( { slug, __nextHasNoMarginBottom } ) {\n\tconst [ values, setValues ] = useState( [] );\n\tconst [ search, setSearch ] = useState( '' );\n\tconst debouncedSearch = useDebounce( setSearch, 500 );\n\n\tif ( ! __nextHasNoMarginBottom ) {\n\t\tdeprecated(\n\t\t\t'Bottom margin styles for wp.editor.PostTaxonomiesFlatTermSelector',\n\t\t\t{\n\t\t\t\tsince: '6.7',\n\t\t\t\tversion: '7.0',\n\t\t\t\thint: 'Set the `__nextHasNoMarginBottom` prop to true to start opting into the new styles, which will become the default in a future version.',\n\t\t\t}\n\t\t);\n\t}\n\n\tconst {\n\t\tterms,\n\t\ttermIds,\n\t\ttaxonomy,\n\t\thasAssignAction,\n\t\thasCreateAction,\n\t\thasResolvedTerms,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEntityRecords, getTaxonomy, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst post = getCurrentPost();\n\t\t\tconst _taxonomy = getTaxonomy( slug );\n\t\t\tconst _termIds = _taxonomy\n\t\t\t\t? getEditedPostAttribute( _taxonomy.rest_base )\n\t\t\t\t: EMPTY_ARRAY;\n\n\t\t\tconst query = {\n\t\t\t\t...DEFAULT_QUERY,\n\t\t\t\tinclude: _termIds?.join( ',' ),\n\t\t\t\tper_page: -1,\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\thasCreateAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-create-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\thasAssignAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-assign-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\ttaxonomy: _taxonomy,\n\t\t\t\ttermIds: _termIds,\n\t\t\t\tterms: _termIds?.length\n\t\t\t\t\t? getEntityRecords( 'taxonomy', slug, query )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t\thasResolvedTerms: hasFinishedResolution( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tslug,\n\t\t\t\t\tquery,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ slug ]\n\t);\n\n\tconst { searchResults } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords } = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\tsearchResults: !! search\n\t\t\t\t\t? getEntityRecords( 'taxonomy', slug, {\n\t\t\t\t\t\t\t...DEFAULT_QUERY,\n\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t  } )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t};\n\t\t},\n\t\t[ search, slug ]\n\t);\n\n\t// Update terms state only after the selectors are resolved.\n\t// We're using this to avoid terms temporarily disappearing on slow networks\n\t// while core data makes REST API requests.\n\tuseEffect( () => {\n\t\tif ( hasResolvedTerms ) {\n\t\t\tconst newValues = ( terms ?? [] ).map( ( term ) =>\n\t\t\t\tunescapeString( term.name )\n\t\t\t);\n\n\t\t\tsetValues( newValues );\n\t\t}\n\t}, [ terms, hasResolvedTerms ] );\n\n\tconst suggestions = useMemo( () => {\n\t\treturn ( searchResults ?? [] ).map( ( term ) =>\n\t\t\tunescapeString( term.name )\n\t\t);\n\t}, [ searchResults ] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! hasAssignAction ) {\n\t\treturn null;\n\t}\n\n\tasync function findOrCreateTerm( term ) {\n\t\ttry {\n\t\t\tconst newTerm = await saveEntityRecord( 'taxonomy', slug, term, {\n\t\t\t\tthrowOnError: true,\n\t\t\t} );\n\t\t\treturn unescapeTerm( newTerm );\n\t\t} catch ( error ) {\n\t\t\tif ( error.code !== 'term_exists' ) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: error.data.term_id,\n\t\t\t\tname: term.name,\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction onUpdateTerms( newTermIds ) {\n\t\teditPost( { [ taxonomy.rest_base ]: newTermIds } );\n\t}\n\n\tfunction onChange( termNames ) {\n\t\tconst availableTerms = [\n\t\t\t...( terms ?? [] ),\n\t\t\t...( searchResults ?? [] ),\n\t\t];\n\t\tconst uniqueTerms = termNames.reduce( ( acc, name ) => {\n\t\t\tif (\n\t\t\t\t! acc.some( ( n ) => n.toLowerCase() === name.toLowerCase() )\n\t\t\t) {\n\t\t\t\tacc.push( name );\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, [] );\n\n\t\tconst newTermNames = uniqueTerms.filter(\n\t\t\t( termName ) =>\n\t\t\t\t! availableTerms.find( ( term ) =>\n\t\t\t\t\tisSameTermName( term.name, termName )\n\t\t\t\t)\n\t\t);\n\n\t\t// Optimistically update term values.\n\t\t// The selector will always re-fetch terms later.\n\t\tsetValues( uniqueTerms );\n\n\t\tif ( newTermNames.length === 0 ) {\n\t\t\tonUpdateTerms( termNamesToIds( uniqueTerms, availableTerms ) );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! hasCreateAction ) {\n\t\t\treturn;\n\t\t}\n\n\t\tPromise.all(\n\t\t\tnewTermNames.map( ( termName ) =>\n\t\t\t\tfindOrCreateTerm( { name: termName } )\n\t\t\t)\n\t\t)\n\t\t\t.then( ( newTerms ) => {\n\t\t\t\tconst newAvailableTerms = availableTerms.concat( newTerms );\n\t\t\t\tonUpdateTerms(\n\t\t\t\t\ttermNamesToIds( uniqueTerms, newAvailableTerms )\n\t\t\t\t);\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tcreateErrorNotice( error.message, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t\t// In case of a failure, try assigning available terms.\n\t\t\t\t// This will invalidate the optimistic update.\n\t\t\t\tonUpdateTerms( termNamesToIds( uniqueTerms, availableTerms ) );\n\t\t\t} );\n\t}\n\n\tfunction appendTerm( newTerm ) {\n\t\tif ( termIds.includes( newTerm.id ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newTermIds = [ ...termIds, newTerm.id ];\n\t\tconst defaultName = slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' );\n\t\tconst termAddedMessage = sprintf(\n\t\t\t/* translators: %s: term name. */\n\t\t\t_x( '%s added', 'term' ),\n\t\t\ttaxonomy?.labels?.singular_name ?? defaultName\n\t\t);\n\n\t\tspeak( termAddedMessage, 'assertive' );\n\t\tonUpdateTerms( newTermIds );\n\t}\n\n\tconst newTermLabel =\n\t\ttaxonomy?.labels?.add_new_item ??\n\t\t( slug === 'post_tag' ? __( 'Add new tag' ) : __( 'Add new Term' ) );\n\tconst singularName =\n\t\ttaxonomy?.labels?.singular_name ??\n\t\t( slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' ) );\n\tconst termAddedLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( '%s added', 'term' ),\n\t\tsingularName\n\t);\n\tconst termRemovedLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( '%s removed', 'term' ),\n\t\tsingularName\n\t);\n\tconst removeTermLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( 'Remove %s', 'term' ),\n\t\tsingularName\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<FormTokenField\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tvalue={ values }\n\t\t\t\tsuggestions={ suggestions }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tonInputChange={ debouncedSearch }\n\t\t\t\tmaxSuggestions={ MAX_TERMS_SUGGESTIONS }\n\t\t\t\tlabel={ newTermLabel }\n\t\t\t\tmessages={ {\n\t\t\t\t\tadded: termAddedLabel,\n\t\t\t\t\tremoved: termRemovedLabel,\n\t\t\t\t\tremove: removeTermLabel,\n\t\t\t\t} }\n\t\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\n\t\t\t/>\n\t\t\t<MostUsedTerms taxonomy={ taxonomy } onSelect={ appendTerm } />\n\t\t</>\n\t);\n}\n\nexport default withFilters( 'editor.PostTaxonomyType' )( FlatTermSelector );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport FlatTermSelector from '../post-taxonomies/flat-term-selector';\nimport { store as editorStore } from '../../store';\n\nconst TagsPanel = () => {\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Add tags' ) }\n\t\t</span>,\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Tags help users and search engines navigate your site and find your content. Add a few keywords to describe your post.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<FlatTermSelector slug=\"post_tag\" __nextHasNoMarginBottom />\n\t\t</PanelBody>\n\t);\n};\n\nconst MaybeTagsPanel = () => {\n\tconst { hasTags, isPostTypeSupported } = useSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst tagsTaxonomy = select( coreStore ).getTaxonomy( 'post_tag' );\n\t\tconst _isPostTypeSupported = tagsTaxonomy?.types?.includes( postType );\n\t\tconst areTagsFetched = tagsTaxonomy !== undefined;\n\t\tconst tags =\n\t\t\ttagsTaxonomy &&\n\t\t\tselect( editorStore ).getEditedPostAttribute(\n\t\t\t\ttagsTaxonomy.rest_base\n\t\t\t);\n\t\treturn {\n\t\t\thasTags: !! tags?.length,\n\t\t\tisPostTypeSupported: areTagsFetched && _isPostTypeSupported,\n\t\t};\n\t}, [] );\n\tconst [ hadTagsWhenOpeningThePanel ] = useState( hasTags );\n\n\tif ( ! isPostTypeSupported ) {\n\t\treturn null;\n\t}\n\n\t/*\n\t * We only want to show the tag panel if the post didn't have\n\t * any tags when the user hit the Publish button.\n\t *\n\t * We can't use the prop.hasTags because it'll change to true\n\t * if the user adds a new tag within the pre-publish panel.\n\t * This would force a re-render and a new prop.hasTags check,\n\t * hiding this panel and keeping the user from adding\n\t * more than one tag.\n\t */\n\tif ( ! hadTagsWhenOpeningThePanel ) {\n\t\treturn <TagsPanel />;\n\t}\n\n\treturn null;\n};\n\nexport default MaybeTagsPanel;\n","/**\n * WordPress dependencies\n */\nimport { Button, PanelBody } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { POST_FORMATS } from '../post-format';\nimport { store as editorStore } from '../../store';\n\nconst getSuggestion = ( supportedFormats, suggestedPostFormat ) => {\n\tconst formats = POST_FORMATS.filter( ( format ) =>\n\t\tsupportedFormats?.includes( format.id )\n\t);\n\treturn formats.find( ( format ) => format.id === suggestedPostFormat );\n};\n\nconst PostFormatSuggestion = ( {\n\tsuggestedPostFormat,\n\tsuggestionText,\n\tonUpdatePostFormat,\n} ) => (\n\t<Button\n\t\t__next40pxDefaultSize\n\t\tvariant=\"link\"\n\t\tonClick={ () => onUpdatePostFormat( suggestedPostFormat ) }\n\t>\n\t\t{ suggestionText }\n\t</Button>\n);\n\nexport default function PostFormatPanel() {\n\tconst { currentPostFormat, suggestion } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } =\n\t\t\tselect( editorStore );\n\t\tconst supportedFormats =\n\t\t\tselect( coreStore ).getThemeSupports().formats ?? [];\n\t\treturn {\n\t\t\tcurrentPostFormat: getEditedPostAttribute( 'format' ),\n\t\t\tsuggestion: getSuggestion(\n\t\t\t\tsupportedFormats,\n\t\t\t\tgetSuggestedPostFormat()\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst onUpdatePostFormat = ( format ) => editPost( { format } );\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Use a post format' ) }\n\t\t</span>,\n\t];\n\n\tif ( ! suggestion || suggestion.id === currentPostFormat ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<PostFormatSuggestion\n\t\t\t\t\tonUpdatePostFormat={ onUpdatePostFormat }\n\t\t\t\t\tsuggestedPostFormat={ suggestion.id }\n\t\t\t\t\tsuggestionText={ sprintf(\n\t\t\t\t\t\t/* translators: %s: post format */\n\t\t\t\t\t\t__( 'Apply the \"%1$s\" format.' ),\n\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _n, _x, sprintf } from '@wordpress/i18n';\nimport { useMemo, useState } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport {\n\tButton,\n\tCheckboxControl,\n\tTextControl,\n\tTreeSelect,\n\twithFilters,\n\tFlex,\n\tFlexItem,\n\tSearchControl,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useDebounce } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { speak } from '@wordpress/a11y';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from '../../utils/terms';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module Constants\n */\nconst DEFAULT_QUERY = {\n\tper_page: -1,\n\torderby: 'name',\n\torder: 'asc',\n\t_fields: 'id,name,parent',\n\tcontext: 'view',\n};\n\nconst MIN_TERMS_COUNT_FOR_FILTER = 8;\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Sort Terms by Selected.\n *\n * @param {Object[]} termsTree Array of terms in tree format.\n * @param {number[]} terms     Selected terms.\n *\n * @return {Object[]} Sorted array of terms.\n */\nexport function sortBySelected( termsTree, terms ) {\n\tconst treeHasSelection = ( termTree ) => {\n\t\tif ( terms.indexOf( termTree.id ) !== -1 ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( undefined === termTree.children ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (\n\t\t\ttermTree.children\n\t\t\t\t.map( treeHasSelection )\n\t\t\t\t.filter( ( child ) => child ).length > 0\n\t\t);\n\t};\n\tconst termOrChildIsSelected = ( termA, termB ) => {\n\t\tconst termASelected = treeHasSelection( termA );\n\t\tconst termBSelected = treeHasSelection( termB );\n\n\t\tif ( termASelected === termBSelected ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( termASelected && ! termBSelected ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif ( ! termASelected && termBSelected ) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t};\n\tconst newTermTree = [ ...termsTree ];\n\tnewTermTree.sort( termOrChildIsSelected );\n\treturn newTermTree;\n}\n\n/**\n * Find term by parent id or name.\n *\n * @param {Object[]}      terms  Array of Terms.\n * @param {number|string} parent id.\n * @param {string}        name   Term name.\n * @return {Object} Term object.\n */\nexport function findTerm( terms, parent, name ) {\n\treturn terms.find( ( term ) => {\n\t\treturn (\n\t\t\t( ( ! term.parent && ! parent ) ||\n\t\t\t\tparseInt( term.parent ) === parseInt( parent ) ) &&\n\t\t\tterm.name.toLowerCase() === name.toLowerCase()\n\t\t);\n\t} );\n}\n\n/**\n * Get filter matcher function.\n *\n * @param {string} filterValue Filter value.\n * @return {(function(Object): (Object|boolean))} Matcher function.\n */\nexport function getFilterMatcher( filterValue ) {\n\tconst matchTermsForFilter = ( originalTerm ) => {\n\t\tif ( '' === filterValue ) {\n\t\t\treturn originalTerm;\n\t\t}\n\n\t\t// Shallow clone, because we'll be filtering the term's children and\n\t\t// don't want to modify the original term.\n\t\tconst term = { ...originalTerm };\n\n\t\t// Map and filter the children, recursive so we deal with grandchildren\n\t\t// and any deeper levels.\n\t\tif ( term.children.length > 0 ) {\n\t\t\tterm.children = term.children\n\t\t\t\t.map( matchTermsForFilter )\n\t\t\t\t.filter( ( child ) => child );\n\t\t}\n\n\t\t// If the term's name contains the filterValue, or it has children\n\t\t// (i.e. some child matched at some point in the tree) then return it.\n\t\tif (\n\t\t\t-1 !==\n\t\t\t\tterm.name.toLowerCase().indexOf( filterValue.toLowerCase() ) ||\n\t\t\tterm.children.length > 0\n\t\t) {\n\t\t\treturn term;\n\t\t}\n\n\t\t// Otherwise, return false. After mapping, the list of terms will need\n\t\t// to have false values filtered out.\n\t\treturn false;\n\t};\n\treturn matchTermsForFilter;\n}\n\n/**\n * Hierarchical term selector.\n *\n * @param {Object} props      Component props.\n * @param {string} props.slug Taxonomy slug.\n * @return {Element}        Hierarchical term selector component.\n */\nexport function HierarchicalTermSelector( { slug } ) {\n\tconst [ adding, setAdding ] = useState( false );\n\tconst [ formName, setFormName ] = useState( '' );\n\t/**\n\t * @type {[number|'', Function]}\n\t */\n\tconst [ formParent, setFormParent ] = useState( '' );\n\tconst [ showForm, setShowForm ] = useState( false );\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst [ filteredTermsTree, setFilteredTermsTree ] = useState( [] );\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\n\tconst {\n\t\thasCreateAction,\n\t\thasAssignAction,\n\t\tterms,\n\t\tloading,\n\t\tavailableTerms,\n\t\ttaxonomy,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getTaxonomy, getEntityRecords, isResolving } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst _taxonomy = getTaxonomy( slug );\n\t\t\tconst post = getCurrentPost();\n\n\t\t\treturn {\n\t\t\t\thasCreateAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-create-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\thasAssignAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-assign-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\tterms: _taxonomy\n\t\t\t\t\t? getEditedPostAttribute( _taxonomy.rest_base )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t\tloading: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tslug,\n\t\t\t\t\tDEFAULT_QUERY,\n\t\t\t\t] ),\n\t\t\t\tavailableTerms:\n\t\t\t\t\tgetEntityRecords( 'taxonomy', slug, DEFAULT_QUERY ) ||\n\t\t\t\t\tEMPTY_ARRAY,\n\t\t\t\ttaxonomy: _taxonomy,\n\t\t\t};\n\t\t},\n\t\t[ slug ]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\tconst availableTermsTree = useMemo(\n\t\t() => sortBySelected( buildTermsTree( availableTerms ), terms ),\n\t\t// Remove `terms` from the dependency list to avoid reordering every time\n\t\t// checking or unchecking a term.\n\t\t[ availableTerms ]\n\t);\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! hasAssignAction ) {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Append new term.\n\t *\n\t * @param {Object} term Term object.\n\t * @return {Promise} A promise that resolves to save term object.\n\t */\n\tconst addTerm = ( term ) => {\n\t\treturn saveEntityRecord( 'taxonomy', slug, term, {\n\t\t\tthrowOnError: true,\n\t\t} );\n\t};\n\n\t/**\n\t * Update terms for post.\n\t *\n\t * @param {number[]} termIds Term ids.\n\t */\n\tconst onUpdateTerms = ( termIds ) => {\n\t\teditPost( { [ taxonomy.rest_base ]: termIds } );\n\t};\n\n\t/**\n\t * Handler for checking term.\n\t *\n\t * @param {number} termId\n\t */\n\tconst onChange = ( termId ) => {\n\t\tconst hasTerm = terms.includes( termId );\n\t\tconst newTerms = hasTerm\n\t\t\t? terms.filter( ( id ) => id !== termId )\n\t\t\t: [ ...terms, termId ];\n\t\tonUpdateTerms( newTerms );\n\t};\n\n\tconst onChangeFormName = ( value ) => {\n\t\tsetFormName( value );\n\t};\n\n\t/**\n\t * Handler for changing form parent.\n\t *\n\t * @param {number|''} parentId Parent post id.\n\t */\n\tconst onChangeFormParent = ( parentId ) => {\n\t\tsetFormParent( parentId );\n\t};\n\n\tconst onToggleForm = () => {\n\t\tsetShowForm( ! showForm );\n\t};\n\n\tconst onAddTerm = async ( event ) => {\n\t\tevent.preventDefault();\n\t\tif ( formName === '' || adding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if the term we are adding already exists.\n\t\tconst existingTerm = findTerm( availableTerms, formParent, formName );\n\t\tif ( existingTerm ) {\n\t\t\t// If the term we are adding exists but is not selected select it.\n\t\t\tif ( ! terms.some( ( term ) => term === existingTerm.id ) ) {\n\t\t\t\tonUpdateTerms( [ ...terms, existingTerm.id ] );\n\t\t\t}\n\n\t\t\tsetFormName( '' );\n\t\t\tsetFormParent( '' );\n\n\t\t\treturn;\n\t\t}\n\t\tsetAdding( true );\n\t\tlet newTerm;\n\t\ttry {\n\t\t\tnewTerm = await addTerm( {\n\t\t\t\tname: formName,\n\t\t\t\tparent: formParent ? formParent : undefined,\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tcreateErrorNotice( error.message, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\t\tconst defaultName =\n\t\t\tslug === 'category' ? __( 'Category' ) : __( 'Term' );\n\t\tconst termAddedMessage = sprintf(\n\t\t\t/* translators: %s: taxonomy name */\n\t\t\t_x( '%s added', 'term' ),\n\t\t\ttaxonomy?.labels?.singular_name ?? defaultName\n\t\t);\n\t\tspeak( termAddedMessage, 'assertive' );\n\t\tsetAdding( false );\n\t\tsetFormName( '' );\n\t\tsetFormParent( '' );\n\t\tonUpdateTerms( [ ...terms, newTerm.id ] );\n\t};\n\n\tconst setFilter = ( value ) => {\n\t\tconst newFilteredTermsTree = availableTermsTree\n\t\t\t.map( getFilterMatcher( value ) )\n\t\t\t.filter( ( term ) => term );\n\t\tconst getResultCount = ( termsTree ) => {\n\t\t\tlet count = 0;\n\t\t\tfor ( let i = 0; i < termsTree.length; i++ ) {\n\t\t\t\tcount++;\n\t\t\t\tif ( undefined !== termsTree[ i ].children ) {\n\t\t\t\t\tcount += getResultCount( termsTree[ i ].children );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t};\n\n\t\tsetFilterValue( value );\n\t\tsetFilteredTermsTree( newFilteredTermsTree );\n\n\t\tconst resultCount = getResultCount( newFilteredTermsTree );\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results */\n\t\t\t_n( '%d result found.', '%d results found.', resultCount ),\n\t\t\tresultCount\n\t\t);\n\n\t\tdebouncedSpeak( resultsFoundMessage, 'assertive' );\n\t};\n\n\tconst renderTerms = ( renderedTerms ) => {\n\t\treturn renderedTerms.map( ( term ) => {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tkey={ term.id }\n\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-choice\"\n\t\t\t\t>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tchecked={ terms.indexOf( term.id ) !== -1 }\n\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\tconst termId = parseInt( term.id, 10 );\n\t\t\t\t\t\t\tonChange( termId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ decodeEntities( term.name ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ !! term.children.length && (\n\t\t\t\t\t\t<div className=\"editor-post-taxonomies__hierarchical-terms-subchoices\">\n\t\t\t\t\t\t\t{ renderTerms( term.children ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t};\n\n\tconst labelWithFallback = (\n\t\tlabelProperty,\n\t\tfallbackIsCategory,\n\t\tfallbackIsNotCategory\n\t) =>\n\t\ttaxonomy?.labels?.[ labelProperty ] ??\n\t\t( slug === 'category' ? fallbackIsCategory : fallbackIsNotCategory );\n\n\tconst newTermButtonLabel = labelWithFallback(\n\t\t'add_new_item',\n\t\t__( 'Add new category' ),\n\t\t__( 'Add new term' )\n\t);\n\tconst newTermLabel = labelWithFallback(\n\t\t'new_item_name',\n\t\t__( 'Add new category' ),\n\t\t__( 'Add new term' )\n\t);\n\tconst parentSelectLabel = labelWithFallback(\n\t\t'parent_item',\n\t\t__( 'Parent Category' ),\n\t\t__( 'Parent Term' )\n\t);\n\tconst noParentOption = `— ${ parentSelectLabel } —`;\n\tconst newTermSubmitLabel = newTermButtonLabel;\n\tconst filterLabel = taxonomy?.labels?.search_items ?? __( 'Search Terms' );\n\tconst groupLabel = taxonomy?.name ?? __( 'Terms' );\n\tconst showFilter = availableTerms.length >= MIN_TERMS_COUNT_FOR_FILTER;\n\n\treturn (\n\t\t<Flex direction=\"column\" gap=\"4\">\n\t\t\t{ showFilter && (\n\t\t\t\t<SearchControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ filterLabel }\n\t\t\t\t\tvalue={ filterValue }\n\t\t\t\t\tonChange={ setFilter }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-list\"\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\trole=\"group\"\n\t\t\t\taria-label={ groupLabel }\n\t\t\t>\n\t\t\t\t{ renderTerms(\n\t\t\t\t\t'' !== filterValue ? filteredTermsTree : availableTermsTree\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ ! loading && hasCreateAction && (\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tonClick={ onToggleForm }\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-add\"\n\t\t\t\t\t\taria-expanded={ showForm }\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ newTermButtonLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t) }\n\t\t\t{ showForm && (\n\t\t\t\t<form onSubmit={ onAddTerm }>\n\t\t\t\t\t<Flex direction=\"column\" gap=\"4\">\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-input\"\n\t\t\t\t\t\t\tlabel={ newTermLabel }\n\t\t\t\t\t\t\tvalue={ formName }\n\t\t\t\t\t\t\tonChange={ onChangeFormName }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !! availableTerms.length && (\n\t\t\t\t\t\t\t<TreeSelect\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ parentSelectLabel }\n\t\t\t\t\t\t\t\tnoOptionLabel={ noParentOption }\n\t\t\t\t\t\t\t\tonChange={ onChangeFormParent }\n\t\t\t\t\t\t\t\tselectedId={ formParent }\n\t\t\t\t\t\t\t\ttree={ availableTermsTree }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ newTermSubmitLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t</form>\n\t\t\t) }\n\t\t</Flex>\n\t);\n}\n\nexport default withFilters( 'editor.PostTaxonomyType' )(\n\tHierarchicalTermSelector\n);\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from '../post-taxonomies/hierarchical-term-selector';\nimport { store as editorStore } from '../../store';\n\nfunction MaybeCategoryPanel() {\n\tconst hasNoCategory = useSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst { canUser, getEntityRecord, getTaxonomy } = select( coreStore );\n\t\tconst categoriesTaxonomy = getTaxonomy( 'category' );\n\t\tconst defaultCategoryId = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )?.default_category\n\t\t\t: undefined;\n\t\tconst defaultCategory = defaultCategoryId\n\t\t\t? getEntityRecord( 'taxonomy', 'category', defaultCategoryId )\n\t\t\t: undefined;\n\t\tconst postTypeSupportsCategories =\n\t\t\tcategoriesTaxonomy &&\n\t\t\tcategoriesTaxonomy.types.some( ( type ) => type === postType );\n\t\tconst categories =\n\t\t\tcategoriesTaxonomy &&\n\t\t\tselect( editorStore ).getEditedPostAttribute(\n\t\t\t\tcategoriesTaxonomy.rest_base\n\t\t\t);\n\n\t\t// This boolean should return true if everything is loaded\n\t\t// ( categoriesTaxonomy, defaultCategory )\n\t\t// and the post has not been assigned a category different than \"uncategorized\".\n\t\treturn (\n\t\t\t!! categoriesTaxonomy &&\n\t\t\t!! defaultCategory &&\n\t\t\tpostTypeSupportsCategories &&\n\t\t\t( categories?.length === 0 ||\n\t\t\t\t( categories?.length === 1 &&\n\t\t\t\t\tdefaultCategory?.id === categories[ 0 ] ) )\n\t\t);\n\t}, [] );\n\tconst [ shouldShowPanel, setShouldShowPanel ] = useState( false );\n\tuseEffect( () => {\n\t\t// We use state to avoid hiding the panel if the user edits the categories\n\t\t// and adds one within the panel itself (while visible).\n\t\tif ( hasNoCategory ) {\n\t\t\tsetShouldShowPanel( true );\n\t\t}\n\t}, [ hasNoCategory ] );\n\n\tif ( ! shouldShowPanel ) {\n\t\treturn null;\n\t}\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Assign a category' ) }\n\t\t</span>,\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Categories provide a helpful way to group related posts together and to quickly tell readers what a post is about.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<HierarchicalTermSelector slug=\"category\" />\n\t\t</PanelBody>\n\t);\n}\n\nexport default MaybeCategoryPanel;\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tButton,\n\tSpinner,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { isBlobURL } from '@wordpress/blob';\n\n/**\n * Internal dependencies\n */\nimport { fetchMedia } from './media-util';\n\nfunction flattenBlocks( blocks ) {\n\tconst result = [];\n\n\tblocks.forEach( ( block ) => {\n\t\tresult.push( block );\n\t\tresult.push( ...flattenBlocks( block.innerBlocks ) );\n\t} );\n\n\treturn result;\n}\n\n/**\n * Determine whether a block has external media.\n *\n * Different blocks use different attribute names (and potentially\n * different logic as well) in determining whether the media is\n * present, and whether it's external.\n *\n * @param {{name: string, attributes: Object}} block The block.\n * @return {boolean?} Whether the block has external media\n */\nfunction hasExternalMedia( block ) {\n\tif ( block.name === 'core/image' || block.name === 'core/cover' ) {\n\t\treturn block.attributes.url && ! block.attributes.id;\n\t}\n\n\tif ( block.name === 'core/media-text' ) {\n\t\treturn block.attributes.mediaUrl && ! block.attributes.mediaId;\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Retrieve media info from a block.\n *\n * Different blocks use different attribute names, so we need this\n * function to normalize things into a consistent naming scheme.\n *\n * @param {{name: string, attributes: Object}} block The block.\n * @return {{url: ?string, alt: ?string, id: ?number}} The media info for the block.\n */\nfunction getMediaInfo( block ) {\n\tif ( block.name === 'core/image' || block.name === 'core/cover' ) {\n\t\tconst { url, alt, id } = block.attributes;\n\t\treturn { url, alt, id };\n\t}\n\n\tif ( block.name === 'core/media-text' ) {\n\t\tconst { mediaUrl: url, mediaAlt: alt, mediaId: id } = block.attributes;\n\t\treturn { url, alt, id };\n\t}\n\n\treturn {};\n}\n\n// Image component to represent a single image in the upload dialog.\nfunction Image( { clientId, alt, url } ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\treturn (\n\t\t<motion.img\n\t\t\ttabIndex={ 0 }\n\t\t\trole=\"button\"\n\t\t\taria-label={ __( 'Select image block.' ) }\n\t\t\tonClick={ () => {\n\t\t\t\tselectBlock( clientId );\n\t\t\t} }\n\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\tif ( event.key === 'Enter' || event.key === ' ' ) {\n\t\t\t\t\tselectBlock( clientId );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t} }\n\t\t\tkey={ clientId }\n\t\t\talt={ alt }\n\t\t\tsrc={ url }\n\t\t\tanimate={ { opacity: 1 } }\n\t\t\texit={ { opacity: 0, scale: 0 } }\n\t\t\tstyle={ {\n\t\t\t\twidth: '32px',\n\t\t\t\theight: '32px',\n\t\t\t\tobjectFit: 'cover',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tcursor: 'pointer',\n\t\t\t} }\n\t\t\twhileHover={ { scale: 1.08 } }\n\t\t/>\n\t);\n}\n\nexport default function MaybeUploadMediaPanel() {\n\tconst [ isUploading, setIsUploading ] = useState( false );\n\tconst [ isAnimating, setIsAnimating ] = useState( false );\n\tconst [ hadUploadError, setHadUploadError ] = useState( false );\n\tconst { editorBlocks, mediaUpload } = useSelect(\n\t\t( select ) => ( {\n\t\t\teditorBlocks: select( blockEditorStore ).getBlocks(),\n\t\t\tmediaUpload: select( blockEditorStore ).getSettings().mediaUpload,\n\t\t} ),\n\t\t[]\n\t);\n\n\t// Get a list of blocks with external media.\n\tconst blocksWithExternalMedia = flattenBlocks( editorBlocks ).filter(\n\t\t( block ) => hasExternalMedia( block )\n\t);\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tif ( ! mediaUpload || ! blocksWithExternalMedia.length ) {\n\t\treturn null;\n\t}\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'External media' ) }\n\t\t</span>,\n\t];\n\n\t/**\n\t * Update an individual block to point to newly-added library media.\n\t *\n\t * Different blocks use different attribute names, so we need this\n\t * function to ensure we modify the correct attributes for each type.\n\t *\n\t * @param {{name: string, attributes: Object}} block The block.\n\t * @param {{id: number, url: string}}          media Media library file info.\n\t */\n\tfunction updateBlockWithUploadedMedia( block, media ) {\n\t\tif ( block.name === 'core/image' || block.name === 'core/cover' ) {\n\t\t\tupdateBlockAttributes( block.clientId, {\n\t\t\t\tid: media.id,\n\t\t\t\turl: media.url,\n\t\t\t} );\n\t\t}\n\n\t\tif ( block.name === 'core/media-text' ) {\n\t\t\tupdateBlockAttributes( block.clientId, {\n\t\t\t\tmediaId: media.id,\n\t\t\t\tmediaUrl: media.url,\n\t\t\t} );\n\t\t}\n\t}\n\n\t// Handle fetching and uploading all external media in the post.\n\tfunction uploadImages() {\n\t\tsetIsUploading( true );\n\t\tsetHadUploadError( false );\n\n\t\t// Multiple blocks can be using the same URL, so we\n\t\t// should ensure we only fetch and upload each of them once.\n\t\tconst mediaUrls = new Set(\n\t\t\tblocksWithExternalMedia.map( ( block ) => {\n\t\t\t\tconst { url } = getMediaInfo( block );\n\t\t\t\treturn url;\n\t\t\t} )\n\t\t);\n\n\t\t// Create an upload promise for each URL, that we can wait for in all\n\t\t// blocks that make use of that media.\n\t\tconst uploadPromises = Object.fromEntries(\n\t\t\tObject.entries( fetchMedia( [ ...mediaUrls ] ) ).map(\n\t\t\t\t( [ url, filePromise ] ) => {\n\t\t\t\t\tconst uploadPromise = filePromise.then(\n\t\t\t\t\t\t( blob ) =>\n\t\t\t\t\t\t\tnew Promise( ( resolve, reject ) => {\n\t\t\t\t\t\t\t\tmediaUpload( {\n\t\t\t\t\t\t\t\t\tfilesList: [ blob ],\n\t\t\t\t\t\t\t\t\tonFileChange: ( [ media ] ) => {\n\t\t\t\t\t\t\t\t\t\tif ( isBlobURL( media.url ) ) {\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tresolve( media );\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonError() {\n\t\t\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\n\t\t\t\t\treturn [ url, uploadPromise ];\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\n\t\t// Wait for all blocks to be updated with library media.\n\t\tPromise.allSettled(\n\t\t\tblocksWithExternalMedia.map( ( block ) => {\n\t\t\t\tconst { url } = getMediaInfo( block );\n\n\t\t\t\treturn uploadPromises[ url ]\n\t\t\t\t\t.then( ( media ) =>\n\t\t\t\t\t\tupdateBlockWithUploadedMedia( block, media )\n\t\t\t\t\t)\n\t\t\t\t\t.then( () => setIsAnimating( true ) )\n\t\t\t\t\t.catch( () => setHadUploadError( true ) );\n\t\t\t} )\n\t\t).finally( () => {\n\t\t\tsetIsUploading( false );\n\t\t} );\n\t}\n\n\treturn (\n\t\t<PanelBody initialOpen title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Upload external images to the Media Library. Images from different domains may load slowly, display incorrectly, or be removed unexpectedly.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<div\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'inline-flex',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\tgap: '8px',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<AnimatePresence\n\t\t\t\t\tonExitComplete={ () => setIsAnimating( false ) }\n\t\t\t\t>\n\t\t\t\t\t{ blocksWithExternalMedia.map( ( block ) => {\n\t\t\t\t\t\tconst { url, alt } = getMediaInfo( block );\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tkey={ block.clientId }\n\t\t\t\t\t\t\t\tclientId={ block.clientId }\n\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\talt={ alt }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</AnimatePresence>\n\t\t\t\t{ isUploading || isAnimating ? (\n\t\t\t\t\t<Spinner />\n\t\t\t\t) : (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={ uploadImages }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ hadUploadError && <p>{ __( 'Upload failed, try again.' ) }</p> }\n\t\t</PanelBody>\n\t);\n}\n","/**\n * External dependencies\n */\nimport { v4 as uuid } from 'uuid';\n\n/**\n * WordPress dependencies\n */\nimport { getFilename } from '@wordpress/url';\n\n/**\n * Generate a list of unique basenames given a list of URLs.\n *\n * We want all basenames to be unique, since sometimes the extension\n * doesn't reflect the mime type, and may end up getting changed by\n * the server, on upload.\n *\n * @param {string[]} urls The list of URLs\n * @return {Record< string, string >} A URL => basename record.\n */\nexport function generateUniqueBasenames( urls ) {\n\tconst basenames = new Set();\n\n\treturn Object.fromEntries(\n\t\turls.map( ( url ) => {\n\t\t\t// We prefer to match the remote filename, if possible.\n\t\t\tconst filename = getFilename( url );\n\t\t\tlet basename = '';\n\n\t\t\tif ( filename ) {\n\t\t\t\tconst parts = filename.split( '.' );\n\t\t\t\tif ( parts.length > 1 ) {\n\t\t\t\t\t// Assume the last part is the extension.\n\t\t\t\t\tparts.pop();\n\t\t\t\t}\n\t\t\t\tbasename = parts.join( '.' );\n\t\t\t}\n\n\t\t\tif ( ! basename ) {\n\t\t\t\t// It looks like we don't have a basename, so let's use a UUID.\n\t\t\t\tbasename = uuid();\n\t\t\t}\n\n\t\t\tif ( basenames.has( basename ) ) {\n\t\t\t\t// Append a UUID to deduplicate the basename.\n\t\t\t\t// The server will try to deduplicate on its own if we don't do this,\n\t\t\t\t// but it may run into a race condition\n\t\t\t\t// (see https://github.com/WordPress/gutenberg/issues/64899).\n\t\t\t\t// Deduplicating the filenames before uploading is safer.\n\t\t\t\tbasename = `${ basename }-${ uuid() }`;\n\t\t\t}\n\n\t\t\tbasenames.add( basename );\n\n\t\t\treturn [ url, basename ];\n\t\t} )\n\t);\n}\n\n/**\n * Fetch a list of URLs, turning those into promises for files with\n * unique filenames.\n *\n * @param {string[]} urls The list of URLs\n * @return {Record< string, Promise< File > >} A URL => File promise record.\n */\nexport function fetchMedia( urls ) {\n\treturn Object.fromEntries(\n\t\tObject.entries( generateUniqueBasenames( urls ) ).map(\n\t\t\t( [ url, basename ] ) => {\n\t\t\t\tconst filePromise = window\n\t\t\t\t\t.fetch( url.includes( '?' ) ? url : url + '?' )\n\t\t\t\t\t.then( ( response ) => response.blob() )\n\t\t\t\t\t.then( ( blob ) => {\n\t\t\t\t\t\t// The server will reject the upload if it doesn't have an extension,\n\t\t\t\t\t\t// even though it'll rewrite the file name to match the mime type.\n\t\t\t\t\t\t// Here we provide it with a safe extension to get it past that check.\n\t\t\t\t\t\treturn new File( [ blob ], `${ basename }.png`, {\n\t\t\t\t\t\t\ttype: blob.type,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\treturn [ url, filePromise ];\n\t\t\t}\n\t\t)\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { wordpress } from '@wordpress/icons';\nimport { filterURLForDisplay } from '@wordpress/url';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport PostVisibility from '../post-visibility';\nimport PostVisibilityLabel from '../post-visibility/label';\nimport PostSchedule from '../post-schedule';\nimport PostScheduleLabel from '../post-schedule/label';\nimport MaybeTagsPanel from './maybe-tags-panel';\nimport MaybePostFormatPanel from './maybe-post-format-panel';\nimport { store as editorStore } from '../../store';\nimport MaybeCategoryPanel from './maybe-category-panel';\nimport MaybeUploadMedia from './maybe-upload-media';\n\nfunction PostPublishPanelPrepublish( { children } ) {\n\tconst {\n\t\tisBeingScheduled,\n\t\tisRequestingSiteIcon,\n\t\thasPublishAction,\n\t\tsiteIconUrl,\n\t\tsiteTitle,\n\t\tsiteHome,\n\t} = useSelect( ( select ) => {\n\t\tconst { getCurrentPost, isEditedPostBeingScheduled } =\n\t\t\tselect( editorStore );\n\t\tconst { getEntityRecord, isResolving } = select( coreStore );\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisRequestingSiteIcon: isResolving( 'getEntityRecord', [\n\t\t\t\t'root',\n\t\t\t\t'__unstableBase',\n\t\t\t\tundefined,\n\t\t\t] ),\n\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\tsiteTitle: siteData.name,\n\t\t\tsiteHome: siteData.home && filterURLForDisplay( siteData.home ),\n\t\t};\n\t}, [] );\n\n\tlet siteIcon = (\n\t\t<Icon className=\"components-site-icon\" size=\"36px\" icon={ wordpress } />\n\t);\n\n\tif ( siteIconUrl ) {\n\t\tsiteIcon = (\n\t\t\t<img\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"components-site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( isRequestingSiteIcon ) {\n\t\tsiteIcon = null;\n\t}\n\n\tlet prePublishTitle, prePublishBodyText;\n\n\tif ( ! hasPublishAction ) {\n\t\tprePublishTitle = __( 'Are you ready to submit for review?' );\n\t\tprePublishBodyText = __(\n\t\t\t'When you’re ready, submit your work for review, and an Editor will be able to approve it for you.'\n\t\t);\n\t} else if ( isBeingScheduled ) {\n\t\tprePublishTitle = __( 'Are you ready to schedule?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Your work will be published at the specified date and time.'\n\t\t);\n\t} else {\n\t\tprePublishTitle = __( 'Are you ready to publish?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Double-check your settings before publishing.'\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"editor-post-publish-panel__prepublish\">\n\t\t\t<div>\n\t\t\t\t<strong>{ prePublishTitle }</strong>\n\t\t\t</div>\n\t\t\t<p>{ prePublishBodyText }</p>\n\t\t\t<div className=\"components-site-card\">\n\t\t\t\t{ siteIcon }\n\t\t\t\t<div className=\"components-site-info\">\n\t\t\t\t\t<span className=\"components-site-name\">\n\t\t\t\t\t\t{ decodeEntities( siteTitle ) || __( '(Untitled)' ) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"components-site-home\">{ siteHome }</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<MaybeUploadMedia />\n\t\t\t{ hasPublishAction && (\n\t\t\t\t<>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Visibility:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostVisibilityLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostVisibility />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Publish:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostScheduleLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostSchedule />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<MaybePostFormatPanel />\n\t\t\t<MaybeTagsPanel />\n\t\t\t<MaybeCategoryPanel />\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default PostPublishPanelPrepublish;\n","/**\n * WordPress dependencies\n */\nimport { PanelBody, Button, TextControl } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { addQueryArgs, safeDecodeURIComponent } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleLabel from '../post-schedule/label';\nimport { store as editorStore } from '../../store';\n\nconst POSTNAME = '%postname%';\nconst PAGENAME = '%pagename%';\n\n/**\n * Returns URL for a future post.\n *\n * @param {Object} post Post object.\n *\n * @return {string} PostPublish URL.\n */\n\nconst getFuturePostUrl = ( post ) => {\n\tconst { slug } = post;\n\n\tif ( post.permalink_template.includes( POSTNAME ) ) {\n\t\treturn post.permalink_template.replace( POSTNAME, slug );\n\t}\n\n\tif ( post.permalink_template.includes( PAGENAME ) ) {\n\t\treturn post.permalink_template.replace( PAGENAME, slug );\n\t}\n\n\treturn post.permalink_template;\n};\n\nfunction CopyButton( { text, onCopy, children } ) {\n\tconst ref = useCopyToClipboard( text, onCopy );\n\treturn (\n\t\t<Button __next40pxDefaultSize variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nclass PostPublishPanelPostpublish extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tshowCopyConfirmation: false,\n\t\t};\n\t\tthis.onCopy = this.onCopy.bind( this );\n\t\tthis.onSelectInput = this.onSelectInput.bind( this );\n\t\tthis.postLink = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.props.focusOnMount ) {\n\t\t\tthis.postLink.current.focus();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.dismissCopyConfirmation );\n\t}\n\n\tonCopy() {\n\t\tthis.setState( {\n\t\t\tshowCopyConfirmation: true,\n\t\t} );\n\n\t\tclearTimeout( this.dismissCopyConfirmation );\n\t\tthis.dismissCopyConfirmation = setTimeout( () => {\n\t\t\tthis.setState( {\n\t\t\t\tshowCopyConfirmation: false,\n\t\t\t} );\n\t\t}, 4000 );\n\t}\n\n\tonSelectInput( event ) {\n\t\tevent.target.select();\n\t}\n\n\trender() {\n\t\tconst { children, isScheduled, post, postType } = this.props;\n\t\tconst postLabel = postType?.labels?.singular_name;\n\t\tconst viewPostLabel = postType?.labels?.view_item;\n\t\tconst addNewPostLabel = postType?.labels?.add_new_item;\n\t\tconst link =\n\t\t\tpost.status === 'future' ? getFuturePostUrl( post ) : post.link;\n\t\tconst addLink = addQueryArgs( 'post-new.php', {\n\t\t\tpost_type: post.type,\n\t\t} );\n\n\t\tconst postPublishNonLinkHeader = isScheduled ? (\n\t\t\t<>\n\t\t\t\t{ __( 'is now scheduled. It will go live on' ) }{ ' ' }\n\t\t\t\t<PostScheduleLabel />.\n\t\t\t</>\n\t\t) : (\n\t\t\t__( 'is now live.' )\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"post-publish-panel__postpublish\">\n\t\t\t\t<PanelBody className=\"post-publish-panel__postpublish-header\">\n\t\t\t\t\t<a ref={ this.postLink } href={ link }>\n\t\t\t\t\t\t{ decodeEntities( post.title ) || __( '(no title)' ) }\n\t\t\t\t\t</a>{ ' ' }\n\t\t\t\t\t{ postPublishNonLinkHeader }\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<p className=\"post-publish-panel__postpublish-subheader\">\n\t\t\t\t\t\t<strong>{ __( 'What’s next?' ) }</strong>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"post-publish-panel__postpublish-post-address-container\">\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tclassName=\"post-publish-panel__postpublish-post-address\"\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: post type singular name */\n\t\t\t\t\t\t\t\t__( '%s address' ),\n\t\t\t\t\t\t\t\tpostLabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ safeDecodeURIComponent( link ) }\n\t\t\t\t\t\t\tonFocus={ this.onSelectInput }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"post-publish-panel__postpublish-post-address__copy-button-wrap\">\n\t\t\t\t\t\t\t<CopyButton text={ link } onCopy={ this.onCopy }>\n\t\t\t\t\t\t\t\t{ this.state.showCopyConfirmation\n\t\t\t\t\t\t\t\t\t? __( 'Copied!' )\n\t\t\t\t\t\t\t\t\t: __( 'Copy' ) }\n\t\t\t\t\t\t\t</CopyButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"post-publish-panel__postpublish-buttons\">\n\t\t\t\t\t\t{ ! isScheduled && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\thref={ link }\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ viewPostLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant={ isScheduled ? 'primary' : 'secondary' }\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\thref={ addLink }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ addNewPostLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditedPostAttribute, getCurrentPost, isCurrentPostScheduled } =\n\t\tselect( editorStore );\n\tconst { getPostType } = select( coreStore );\n\n\treturn {\n\t\tpost: getCurrentPost(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tisScheduled: isCurrentPostScheduled(),\n\t};\n} )( PostPublishPanelPostpublish );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport {\n\tButton,\n\tSpinner,\n\tCheckboxControl,\n\twithFocusReturn,\n\twithConstrainedTabbing,\n} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { closeSmall } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostPublishButton from '../post-publish-button';\nimport PostPublishPanelPrepublish from './prepublish';\nimport PostPublishPanelPostpublish from './postpublish';\nimport { store as editorStore } from '../../store';\n\nexport class PostPublishPanel extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSubmit = this.onSubmit.bind( this );\n\t\tthis.cancelButtonNode = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\t// This timeout is necessary to make sure the `useEffect` hook of\n\t\t// `useFocusReturn` gets the correct element (the button that opens the\n\t\t// PostPublishPanel) otherwise it will get this button.\n\t\tthis.timeoutID = setTimeout( () => {\n\t\t\tthis.cancelButtonNode.current.focus();\n\t\t}, 0 );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.timeoutID );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Automatically collapse the publish sidebar when a post\n\t\t// is published and the user makes an edit.\n\t\tif (\n\t\t\tprevProps.isPublished &&\n\t\t\t! this.props.isSaving &&\n\t\t\tthis.props.isDirty\n\t\t) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t}\n\n\tonSubmit() {\n\t\tconst { onClose, hasPublishAction, isPostTypeViewable } = this.props;\n\t\tif ( ! hasPublishAction || ! isPostTypeViewable ) {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\tisBeingScheduled,\n\t\t\tisPublished,\n\t\t\tisPublishSidebarEnabled,\n\t\t\tisScheduled,\n\t\t\tisSaving,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tonClose,\n\t\t\tonTogglePublishSidebar,\n\t\t\tPostPublishExtension,\n\t\t\tPrePublishExtension,\n\t\t\t...additionalProps\n\t\t} = this.props;\n\t\tconst {\n\t\t\thasPublishAction,\n\t\t\tisDirty,\n\t\t\tisPostTypeViewable,\n\t\t\t...propsForPanel\n\t\t} = additionalProps;\n\t\tconst isPublishedOrScheduled =\n\t\t\tisPublished || ( isScheduled && isBeingScheduled );\n\t\tconst isPrePublish = ! isPublishedOrScheduled && ! isSaving;\n\t\tconst isPostPublish = isPublishedOrScheduled && ! isSaving;\n\t\treturn (\n\t\t\t<div className=\"editor-post-publish-panel\" { ...propsForPanel }>\n\t\t\t\t<div className=\"editor-post-publish-panel__header\">\n\t\t\t\t\t{ isPostPublish ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\tlabel={ __( 'Close panel' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-cancel-button\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tref={ this.cancelButtonNode }\n\t\t\t\t\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\t\t\t\t\tdisabled={ isSavingNonPostEntityChanges }\n\t\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-publish-button\">\n\t\t\t\t\t\t\t\t<PostPublishButton\n\t\t\t\t\t\t\t\t\tonSubmit={ this.onSubmit }\n\t\t\t\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__content\">\n\t\t\t\t\t{ isPrePublish && (\n\t\t\t\t\t\t<PostPublishPanelPrepublish>\n\t\t\t\t\t\t\t{ PrePublishExtension && <PrePublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPrepublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isPostPublish && (\n\t\t\t\t\t\t<PostPublishPanelPostpublish focusOnMount>\n\t\t\t\t\t\t\t{ PostPublishExtension && <PostPublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPostpublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isSaving && <Spinner /> }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__footer\">\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Always show pre-publish checks.' ) }\n\t\t\t\t\t\tchecked={ isPublishSidebarEnabled }\n\t\t\t\t\t\tonChange={ onTogglePublishSidebar }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * Renders a panel for publishing a post.\n */\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst {\n\t\t\tgetCurrentPost,\n\t\t\tgetEditedPostAttribute,\n\t\t\tisCurrentPostPublished,\n\t\t\tisCurrentPostScheduled,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisEditedPostDirty,\n\t\t\tisAutosavingPost,\n\t\t\tisSavingPost,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t} = select( editorStore );\n\t\tconst { isPublishSidebarEnabled } = select( editorStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisPostTypeViewable: postType?.viewable,\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisPublishSidebarEnabled: isPublishSidebarEnabled(),\n\t\t\tisSaving: isSavingPost() && ! isAutosavingPost(),\n\t\t\tisSavingNonPostEntityChanges: isSavingNonPostEntityChanges(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { isPublishSidebarEnabled } ) => {\n\t\tconst { disablePublishSidebar, enablePublishSidebar } =\n\t\t\tdispatch( editorStore );\n\t\treturn {\n\t\t\tonTogglePublishSidebar: () => {\n\t\t\t\tif ( isPublishSidebarEnabled ) {\n\t\t\t\t\tdisablePublishSidebar();\n\t\t\t\t} else {\n\t\t\t\t\tenablePublishSidebar();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n\twithFocusReturn,\n\twithConstrainedTabbing,\n] )( PostPublishPanel );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst cloudUpload = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-4v-2.4L14 14l1-1-3-3-3 3 1 1 1.2-1.2v2.4H7.7c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4H9l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8 0 1-.8 1.8-1.7 1.8z\" />\n\t</SVG>\n);\n\nexport default cloudUpload;\n","/**\n * WordPress dependencies\n */\nimport { cloneElement, forwardRef } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps}                                 props icon is the SVG component to render\n *                                                          size is a number specifiying the icon size in pixels\n *                                                          Other props will be passed to wrapped SVG component\n * @param {import('react').ForwardedRef<HTMLElement>} ref   The forwarded ref to the SVG element.\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props }, ref ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t\tref,\n\t} );\n}\n\nexport default forwardRef( Icon );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst cloud = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z\" />\n\t</SVG>\n);\n\nexport default cloud;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drafts = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 0 4-4H8a4 4 0 0 0 4 4Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drafts;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pending = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 1-4-4h4V8a4 4 0 0 1 0 8Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default pending;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst notAllowed = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 18.5A6.5 6.5 0 0 1 6.93 7.931l9.139 9.138A6.473 6.473 0 0 1 12 18.5Zm5.123-2.498a6.5 6.5 0 0 0-9.124-9.124l9.124 9.124ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default notAllowed;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst scheduled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm9 1V8h-1.5v3.5h-2V13H13Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default scheduled;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst published = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm11.53-1.47-1.06-1.06L11 12.94l-1.47-1.47-1.06 1.06L11 15.06l4.53-4.53Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default published;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if post has a sticky action.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component} The component to be rendered or null if post type is not 'post' or hasStickyAction is false.\n */\nexport default function PostStickyCheck( { children } ) {\n\tconst { hasStickyAction, postType } = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\treturn {\n\t\t\thasStickyAction: post._links?.[ 'wp:action-sticky' ] ?? false,\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tif ( postType !== 'post' || ! hasStickyAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostStickyCheck from './check';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the PostSticky component. It provides a checkbox control for the sticky post feature.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PostSticky() {\n\tconst postSticky = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'sticky' ) ?? false\n\t\t);\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\n\treturn (\n\t\t<PostStickyCheck>\n\t\t\t<CheckboxControl\n\t\t\t\tclassName=\"editor-post-sticky__checkbox-control\"\n\t\t\t\tlabel={ __( 'Sticky' ) }\n\t\t\t\thelp={ __( 'Pin this post to the top of the blog' ) }\n\t\t\t\tchecked={ postSticky }\n\t\t\t\tonChange={ () => editPost( { sticky: ! postSticky } ) }\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t</PostStickyCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tCheckboxControl,\n\tDropdown,\n\t__experimentalVStack as VStack,\n\tTextControl,\n\tRadioControl,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { useInstanceId } from '@wordpress/compose';\nimport {\n\tdrafts,\n\tpublished,\n\tscheduled,\n\tpending,\n\tnotAllowed,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n} from '../../store/constants';\nimport PostPanelRow from '../post-panel-row';\nimport PostSticky from '../post-sticky';\nimport { PrivatePostSchedule } from '../post-schedule';\nimport { store as editorStore } from '../../store';\n\nconst postStatusesInfo = {\n\t'auto-draft': { label: __( 'Draft' ), icon: drafts },\n\tdraft: { label: __( 'Draft' ), icon: drafts },\n\tpending: { label: __( 'Pending' ), icon: pending },\n\tprivate: { label: __( 'Private' ), icon: notAllowed },\n\tfuture: { label: __( 'Scheduled' ), icon: scheduled },\n\tpublish: { label: __( 'Published' ), icon: published },\n};\n\nexport const STATUS_OPTIONS = [\n\t{\n\t\tlabel: __( 'Draft' ),\n\t\tvalue: 'draft',\n\t\tdescription: __( 'Not ready to publish.' ),\n\t},\n\t{\n\t\tlabel: __( 'Pending' ),\n\t\tvalue: 'pending',\n\t\tdescription: __( 'Waiting for review before publishing.' ),\n\t},\n\t{\n\t\tlabel: __( 'Private' ),\n\t\tvalue: 'private',\n\t\tdescription: __( 'Only visible to site admins and editors.' ),\n\t},\n\t{\n\t\tlabel: __( 'Scheduled' ),\n\t\tvalue: 'future',\n\t\tdescription: __( 'Publish automatically on a chosen date.' ),\n\t},\n\t{\n\t\tlabel: __( 'Published' ),\n\t\tvalue: 'publish',\n\t\tdescription: __( 'Visible to everyone.' ),\n\t},\n];\n\nconst DESIGN_POST_TYPES = [\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n];\n\nexport default function PostStatus() {\n\tconst { status, date, password, postId, postType, canEdit } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tgetCurrentPostId,\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPost,\n\t\t\t} = select( editorStore );\n\t\t\treturn {\n\t\t\t\tstatus: getEditedPostAttribute( 'status' ),\n\t\t\t\tdate: getEditedPostAttribute( 'date' ),\n\t\t\t\tpassword: getEditedPostAttribute( 'password' ),\n\t\t\t\tpostId: getCurrentPostId(),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tcanEdit:\n\t\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\tconst [ showPassword, setShowPassword ] = useState( !! password );\n\tconst passwordInputId = useInstanceId(\n\t\tPostStatus,\n\t\t'editor-change-status__password-input'\n\t);\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': __( 'Status & visibility' ),\n\t\t\theaderTitle: __( 'Status & visibility' ),\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( DESIGN_POST_TYPES.includes( postType ) ) {\n\t\treturn null;\n\t}\n\n\tconst updatePost = ( {\n\t\tstatus: newStatus = status,\n\t\tpassword: newPassword = password,\n\t\tdate: newDate = date,\n\t} ) => {\n\t\teditEntityRecord( 'postType', postType, postId, {\n\t\t\tstatus: newStatus,\n\t\t\tdate: newDate,\n\t\t\tpassword: newPassword,\n\t\t} );\n\t};\n\n\tconst handleTogglePassword = ( value ) => {\n\t\tsetShowPassword( value );\n\t\tif ( ! value ) {\n\t\t\tupdatePost( { password: '' } );\n\t\t}\n\t};\n\n\tconst handleStatus = ( value ) => {\n\t\tlet newDate = date;\n\t\tlet newPassword = password;\n\t\tif ( status === 'future' && new Date( date ) > new Date() ) {\n\t\t\tnewDate = null;\n\t\t}\n\t\tif ( value === 'private' && password ) {\n\t\t\tnewPassword = '';\n\t\t}\n\t\tupdatePost( {\n\t\t\tstatus: value,\n\t\t\tdate: newDate,\n\t\t\tpassword: newPassword,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Status' ) } ref={ setPopoverAnchor }>\n\t\t\t{ canEdit ? (\n\t\t\t\t<Dropdown\n\t\t\t\t\tclassName=\"editor-post-status\"\n\t\t\t\t\tcontentClassName=\"editor-change-status__content\"\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"editor-post-status__toggle\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\ticon={ postStatusesInfo[ status ]?.icon }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post status.\n\t\t\t\t\t\t\t\t__( 'Change status: %s' ),\n\t\t\t\t\t\t\t\tpostStatusesInfo[ status ]?.label\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ postStatusesInfo[ status ]?.label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\t\ttitle={ __( 'Status & visibility' ) }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\t\t\tclassName=\"editor-change-status__options\"\n\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Status' ) }\n\t\t\t\t\t\t\t\t\t\toptions={ STATUS_OPTIONS }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleStatus }\n\t\t\t\t\t\t\t\t\t\tselected={\n\t\t\t\t\t\t\t\t\t\t\tstatus === 'auto-draft'\n\t\t\t\t\t\t\t\t\t\t\t\t? 'draft'\n\t\t\t\t\t\t\t\t\t\t\t\t: status\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ status === 'future' && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"editor-change-status__publish-date-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t<PrivatePostSchedule\n\t\t\t\t\t\t\t\t\t\t\t\tshowPopoverHeaderActions={\n\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tisCompact\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ status !== 'private' && (\n\t\t\t\t\t\t\t\t\t\t<VStack\n\t\t\t\t\t\t\t\t\t\t\tas=\"fieldset\"\n\t\t\t\t\t\t\t\t\t\t\tspacing={ 4 }\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-change-status__password-fieldset\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Password protected'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Only visible to those who know the password'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={ showPassword }\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleTogglePassword\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{ showPassword && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"editor-change-status__password-input\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Password'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdatePost( {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassword: value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ password }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Use a secure password'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={ passwordInputId }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={ 255 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<PostSticky />\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<div className=\"editor-post-status is-read-only\">\n\t\t\t\t\t{ postStatusesInfo[ status ]?.label }\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</PostPanelRow>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__unstableGetAnimateClassName as getAnimateClassName,\n\tButton,\n} from '@wordpress/components';\nimport { usePrevious, useViewportMatch } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, cloud, cloudUpload } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { STATUS_OPTIONS } from '../../components/post-status';\nimport { store as editorStore } from '../../store';\n\n/**\n * Component showing whether the post is saved or not and providing save\n * buttons.\n *\n * @param {Object}   props              Component props.\n * @param {?boolean} props.forceIsDirty Whether to force the post to be marked\n *                                      as dirty.\n * @return {import('react').ComponentType} The component.\n */\nexport default function PostSavedState( { forceIsDirty } ) {\n\tconst [ forceSavedMessage, setForceSavedMessage ] = useState( false );\n\tconst isLargeViewport = useViewportMatch( 'small' );\n\n\tconst {\n\t\tisAutosaving,\n\t\tisDirty,\n\t\tisNew,\n\t\tisPublished,\n\t\tisSaveable,\n\t\tisSaving,\n\t\tisScheduled,\n\t\thasPublishAction,\n\t\tshowIconLabels,\n\t\tpostStatus,\n\t\tpostStatusHasChanged,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tisEditedPostNew,\n\t\t\t\tisCurrentPostPublished,\n\t\t\t\tisCurrentPostScheduled,\n\t\t\t\tisEditedPostDirty,\n\t\t\t\tisSavingPost,\n\t\t\t\tisEditedPostSaveable,\n\t\t\t\tgetCurrentPost,\n\t\t\t\tisAutosavingPost,\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t\tgetPostEdits,\n\t\t\t} = select( editorStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\treturn {\n\t\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\t\tisDirty: forceIsDirty || isEditedPostDirty(),\n\t\t\t\tisNew: isEditedPostNew(),\n\t\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\t\tisSaving: isSavingPost(),\n\t\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t\t\thasPublishAction:\n\t\t\t\t\tgetCurrentPost()?._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t\tpostStatus: getEditedPostAttribute( 'status' ),\n\t\t\t\tpostStatusHasChanged: !! getPostEdits()?.status,\n\t\t\t};\n\t\t},\n\t\t[ forceIsDirty ]\n\t);\n\tconst isPending = postStatus === 'pending';\n\tconst { savePost } = useDispatch( editorStore );\n\n\tconst wasSaving = usePrevious( isSaving );\n\n\tuseEffect( () => {\n\t\tlet timeoutId;\n\n\t\tif ( wasSaving && ! isSaving ) {\n\t\t\tsetForceSavedMessage( true );\n\t\t\ttimeoutId = setTimeout( () => {\n\t\t\t\tsetForceSavedMessage( false );\n\t\t\t}, 1000 );\n\t\t}\n\n\t\treturn () => clearTimeout( timeoutId );\n\t}, [ isSaving ] );\n\n\t// Once the post has been submitted for review this button\n\t// is not needed for the contributor role.\n\tif ( ! hasPublishAction && isPending ) {\n\t\treturn null;\n\t}\n\n\t// We shouldn't render the button if the post has not one of the following statuses: pending, draft, auto-draft.\n\t// The reason for this is that this button handles the `save as pending` and `save draft` actions.\n\t// An exception for this is when the post has a custom status and there should be a way to save changes without\n\t// having to publish. This should be handled better in the future when custom statuses have better support.\n\t// @see https://github.com/WordPress/gutenberg/issues/3144.\n\tconst isIneligibleStatus =\n\t\t! [ 'pending', 'draft', 'auto-draft' ].includes( postStatus ) &&\n\t\tSTATUS_OPTIONS.map( ( { value } ) => value ).includes( postStatus );\n\n\tif (\n\t\tisPublished ||\n\t\tisScheduled ||\n\t\tisIneligibleStatus ||\n\t\t( postStatusHasChanged &&\n\t\t\t[ 'pending', 'draft' ].includes( postStatus ) )\n\t) {\n\t\treturn null;\n\t}\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst label = isPending ? __( 'Save as pending' ) : __( 'Save draft' );\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst shortLabel = __( 'Save' );\n\n\tconst isSaved = forceSavedMessage || ( ! isNew && ! isDirty );\n\tconst isSavedState = isSaving || isSaved;\n\tconst isDisabled = isSaving || isSaved || ! isSaveable;\n\tlet text;\n\n\tif ( isSaving ) {\n\t\ttext = isAutosaving ? __( 'Autosaving' ) : __( 'Saving' );\n\t} else if ( isSaved ) {\n\t\ttext = __( 'Saved' );\n\t} else if ( isLargeViewport ) {\n\t\ttext = label;\n\t} else if ( showIconLabels ) {\n\t\ttext = shortLabel;\n\t}\n\n\t// Use common Button instance for all saved states so that focus is not\n\t// lost.\n\treturn (\n\t\t<Button\n\t\t\tclassName={\n\t\t\t\tisSaveable || isSaving\n\t\t\t\t\t? clsx( {\n\t\t\t\t\t\t\t'editor-post-save-draft': ! isSavedState,\n\t\t\t\t\t\t\t'editor-post-saved-state': isSavedState,\n\t\t\t\t\t\t\t'is-saving': isSaving,\n\t\t\t\t\t\t\t'is-autosaving': isAutosaving,\n\t\t\t\t\t\t\t'is-saved': isSaved,\n\t\t\t\t\t\t\t[ getAnimateClassName( {\n\t\t\t\t\t\t\t\ttype: 'loading',\n\t\t\t\t\t\t\t} ) ]: isSaving,\n\t\t\t\t\t  } )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tonClick={ isDisabled ? undefined : () => savePost() }\n\t\t\t/*\n\t\t\t * We want the tooltip to show the keyboard shortcut only when the\n\t\t\t * button does something, i.e. when it's not disabled.\n\t\t\t */\n\t\t\tshortcut={ isDisabled ? undefined : displayShortcut.primary( 's' ) }\n\t\t\tvariant=\"tertiary\"\n\t\t\tsize=\"compact\"\n\t\t\ticon={ isLargeViewport ? undefined : cloudUpload }\n\t\t\tlabel={ text || label }\n\t\t\taria-disabled={ isDisabled }\n\t\t>\n\t\t\t{ isSavedState && <Icon icon={ isSaved ? check : cloud } /> }\n\t\t\t{ text }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Wrapper component that renders its children only if post has a publish action.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component} - The component to be rendered or null if there is no publish action.\n */\nexport default function PostScheduleCheck( { children } ) {\n\tconst hasPublishAction = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getCurrentPost()._links?.[\n\t\t\t\t'wp:action-publish'\n\t\t\t] ?? false\n\t\t);\n\t}, [] );\n\n\tif ( ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleCheck from './check';\nimport PostScheduleForm from './index';\nimport { usePostScheduleLabel } from './label';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n} from '../../store/constants';\n\nconst DESIGN_POST_TYPES = [\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n];\n\n/**\n * Renders the Post Schedule Panel component.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PostSchedulePanel() {\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\tconst postType = useSelect(\n\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t[]\n\t);\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': __( 'Change publish date' ),\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tconst label = usePostScheduleLabel();\n\tconst fullLabel = usePostScheduleLabel( { full: true } );\n\tif ( DESIGN_POST_TYPES.includes( postType ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostScheduleCheck>\n\t\t\t<PostPanelRow label={ __( 'Publish' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\tclassName=\"editor-post-schedule__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-schedule__dialog\"\n\t\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tclassName=\"editor-post-schedule__dialog-toggle\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\ttooltipPosition=\"middle left\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post date.\n\t\t\t\t\t\t\t\t__( 'Change date: %s' ),\n\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tlabel={ fullLabel }\n\t\t\t\t\t\t\tshowTooltip={ label !== fullLabel }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<PostScheduleForm onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostScheduleCheck>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\n/**\n * Wrapper component that renders its children only if the post type supports the slug.\n *\n * @param {Object}  props          Props.\n * @param {Element} props.children Children to be rendered.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PostSlugCheck( { children } ) {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"slug\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { safeDecodeURIComponent, cleanForSlug } from '@wordpress/url';\nimport { TextControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PostSlugCheck from './check';\nimport { store as editorStore } from '../../store';\n\nfunction PostSlugControl() {\n\tconst postSlug = useSelect( ( select ) => {\n\t\treturn safeDecodeURIComponent(\n\t\t\tselect( editorStore ).getEditedPostSlug()\n\t\t);\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ forceEmptyField, setForceEmptyField ] = useState( false );\n\n\treturn (\n\t\t<TextControl\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Slug' ) }\n\t\t\tautoComplete=\"off\"\n\t\t\tspellCheck=\"false\"\n\t\t\tvalue={ forceEmptyField ? '' : postSlug }\n\t\t\tonChange={ ( newValue ) => {\n\t\t\t\teditPost( { slug: newValue } );\n\t\t\t\t// When we delete the field the permalink gets\n\t\t\t\t// reverted to the original value.\n\t\t\t\t// The forceEmptyField logic allows the user to have\n\t\t\t\t// the field temporarily empty while typing.\n\t\t\t\tif ( ! newValue ) {\n\t\t\t\t\tif ( ! forceEmptyField ) {\n\t\t\t\t\t\tsetForceEmptyField( true );\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tonBlur={ ( event ) => {\n\t\t\t\teditPost( {\n\t\t\t\t\tslug: cleanForSlug( event.target.value ),\n\t\t\t\t} );\n\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tclassName=\"editor-post-slug\"\n\t\t/>\n\t);\n}\n\n/**\n * Renders the PostSlug component. It provide a control for editing the post slug.\n *\n * @return {Component} The component to be rendered.\n */\nexport default function PostSlug() {\n\treturn (\n\t\t<PostSlugCheck>\n\t\t\t<PostSlugControl />\n\t\t</PostSlugCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders a button component that allows the user to switch a post to draft status.\n *\n * @return {JSX.Element} The rendered component.\n */\nexport default function PostSwitchToDraftButton() {\n\tdeprecated( 'wp.editor.PostSwitchToDraftButton', {\n\t\tsince: '6.7',\n\t\tversion: '6.9',\n\t} );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tconst { editPost, savePost } = useDispatch( editorStore );\n\tconst { isSaving, isPublished, isScheduled } = useSelect( ( select ) => {\n\t\tconst { isSavingPost, isCurrentPostPublished, isCurrentPostScheduled } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t}, [] );\n\n\tconst isDisabled = isSaving || ( ! isPublished && ! isScheduled );\n\n\tlet alertMessage;\n\tlet confirmButtonText;\n\tif ( isPublished ) {\n\t\talertMessage = __( 'Are you sure you want to unpublish this post?' );\n\t\tconfirmButtonText = __( 'Unpublish' );\n\t} else if ( isScheduled ) {\n\t\talertMessage = __( 'Are you sure you want to unschedule this post?' );\n\t\tconfirmButtonText = __( 'Unschedule' );\n\t}\n\n\tconst handleConfirm = () => {\n\t\tsetShowConfirmDialog( false );\n\t\teditPost( { status: 'draft' } );\n\t\tsavePost();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tclassName=\"editor-post-switch-to-draft\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( ! isDisabled ) {\n\t\t\t\t\t\tsetShowConfirmDialog( true );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\taria-disabled={ isDisabled }\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tstyle={ { flexGrow: '1', justifyContent: 'center' } }\n\t\t\t>\n\t\t\t\t{ __( 'Switch to draft' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t\tconfirmButtonText={ confirmButtonText }\n\t\t\t>\n\t\t\t\t{ alertMessage }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the sync status of a post.\n *\n * @return {JSX.Element|null} The rendered sync status component.\n */\nexport default function PostSyncStatus() {\n\tconst { syncStatus, postType } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst meta = getEditedPostAttribute( 'meta' );\n\n\t\t// When the post is first created, the top level wp_pattern_sync_status is not set so get meta value instead.\n\t\tconst currentSyncStatus =\n\t\t\tmeta?.wp_pattern_sync_status === 'unsynced'\n\t\t\t\t? 'unsynced'\n\t\t\t\t: getEditedPostAttribute( 'wp_pattern_sync_status' );\n\n\t\treturn {\n\t\t\tsyncStatus: currentSyncStatus,\n\t\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\t};\n\t} );\n\n\tif ( postType !== 'wp_block' ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Sync status' ) }>\n\t\t\t<div className=\"editor-post-sync-status__value\">\n\t\t\t\t{ syncStatus === 'unsynced'\n\t\t\t\t\t? _x( 'Not synced', 'pattern (singular)' )\n\t\t\t\t\t: _x( 'Synced', 'pattern (singular)' ) }\n\t\t\t</div>\n\t\t</PostPanelRow>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from './hierarchical-term-selector';\nimport FlatTermSelector from './flat-term-selector';\nimport { store as editorStore } from '../../store';\n\nconst identity = ( x ) => x;\n\nexport function PostTaxonomies( { taxonomyWrapper = identity } ) {\n\tconst { postType, taxonomies } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t\ttaxonomies: select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t};\n\t}, [] );\n\tconst visibleTaxonomies = ( taxonomies ?? [] ).filter(\n\t\t( taxonomy ) =>\n\t\t\t// In some circumstances .visibility can end up as undefined so optional chaining operator required.\n\t\t\t// https://github.com/WordPress/gutenberg/issues/40326\n\t\t\ttaxonomy.types.includes( postType ) && taxonomy.visibility?.show_ui\n\t);\n\n\treturn visibleTaxonomies.map( ( taxonomy ) => {\n\t\tconst TaxonomyComponent = taxonomy.hierarchical\n\t\t\t? HierarchicalTermSelector\n\t\t\t: FlatTermSelector;\n\t\tconst taxonomyComponentProps = {\n\t\t\tslug: taxonomy.slug,\n\t\t\t...( taxonomy.hierarchical\n\t\t\t\t? {}\n\t\t\t\t: { __nextHasNoMarginBottom: true } ),\n\t\t};\n\n\t\treturn (\n\t\t\t<Fragment key={ `taxonomy-${ taxonomy.slug }` }>\n\t\t\t\t{ taxonomyWrapper(\n\t\t\t\t\t<TaxonomyComponent { ...taxonomyComponentProps } />,\n\t\t\t\t\ttaxonomy\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t} );\n}\n\n/**\n * Renders the taxonomies associated with a post.\n *\n * @param {Object}   props                 The component props.\n * @param {Function} props.taxonomyWrapper The wrapper function for each taxonomy component.\n *\n * @return {Array} An array of JSX elements representing the visible taxonomies.\n */\nexport default PostTaxonomies;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the children components only if the current post type has taxonomies.\n *\n * @param {Object}  props          The component props.\n * @param {Element} props.children The children components to render.\n *\n * @return {Component|null} The rendered children components or null if the current post type has no taxonomies.\n */\nexport default function PostTaxonomiesCheck( { children } ) {\n\tconst hasTaxonomies = useSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst taxonomies = select( coreStore ).getTaxonomies( {\n\t\t\tper_page: -1,\n\t\t} );\n\t\treturn taxonomies?.some( ( taxonomy ) =>\n\t\t\ttaxonomy.types.includes( postType )\n\t\t);\n\t}, [] );\n\tif ( ! hasTaxonomies ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTaxonomiesForm from './index';\nimport PostTaxonomiesCheck from './check';\n\nfunction TaxonomyPanel( { taxonomy, children } ) {\n\tconst slug = taxonomy?.slug;\n\tconst panelName = slug ? `taxonomy-panel-${ slug }` : '';\n\tconst { isEnabled, isOpened } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isEditorPanelEnabled, isEditorPanelOpened } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tisEnabled: slug ? isEditorPanelEnabled( panelName ) : false,\n\t\t\t\tisOpened: slug ? isEditorPanelOpened( panelName ) : false,\n\t\t\t};\n\t\t},\n\t\t[ panelName, slug ]\n\t);\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst taxonomyMenuName = taxonomy?.labels?.menu_name;\n\tif ( ! taxonomyMenuName ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ taxonomyMenuName }\n\t\t\topened={ isOpened }\n\t\t\tonToggle={ () => toggleEditorPanelOpened( panelName ) }\n\t\t>\n\t\t\t{ children }\n\t\t</PanelBody>\n\t);\n}\n\nfunction PostTaxonomies() {\n\treturn (\n\t\t<PostTaxonomiesCheck>\n\t\t\t<PostTaxonomiesForm\n\t\t\t\ttaxonomyWrapper={ ( content, taxonomy ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TaxonomyPanel taxonomy={ taxonomy }>\n\t\t\t\t\t\t\t{ content }\n\t\t\t\t\t\t</TaxonomyPanel>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t/>\n\t\t</PostTaxonomiesCheck>\n\t);\n}\n\n/**\n * Renders a panel for a specific taxonomy.\n *\n * @param {Object}  props          The component props.\n * @param {Object}  props.taxonomy The taxonomy object.\n * @param {Element} props.children The child components.\n *\n * @return {Component} The rendered taxonomy panel.\n */\nexport default PostTaxonomies;\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { VisuallyHidden } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Displays the Post Text Editor along with content in Visual and Text mode.\n *\n * @return {JSX.Element|null} The rendered PostTextEditor component.\n */\nexport default function PostTextEditor() {\n\tconst instanceId = useInstanceId( PostTextEditor );\n\tconst { content, blocks, type, id } = useSelect( ( select ) => {\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst _type = getCurrentPostType();\n\t\tconst _id = getCurrentPostId();\n\t\tconst editedRecord = getEditedEntityRecord( 'postType', _type, _id );\n\n\t\treturn {\n\t\t\tcontent: editedRecord?.content,\n\t\t\tblocks: editedRecord?.blocks,\n\t\t\ttype: _type,\n\t\t\tid: _id,\n\t\t};\n\t}, [] );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\t// Replicates the logic found in getEditedPostContent().\n\tconst value = useMemo( () => {\n\t\tif ( content instanceof Function ) {\n\t\t\treturn content( { blocks } );\n\t\t} else if ( blocks ) {\n\t\t\t// If we have parsed blocks already, they should be our source of truth.\n\t\t\t// Parsing applies block deprecations and legacy block conversions that\n\t\t\t// unparsed content will not have.\n\t\t\treturn __unstableSerializeAndClean( blocks );\n\t\t}\n\t\treturn content;\n\t}, [ content, blocks ] );\n\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `post-content-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Textarea\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\teditEntityRecord( 'postType', type, id, {\n\t\t\t\t\t\tcontent: event.target.value,\n\t\t\t\t\t\tblocks: undefined,\n\t\t\t\t\t\tselection: undefined,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tclassName=\"editor-post-text-editor\"\n\t\t\t\tid={ `post-content-${ instanceId }` }\n\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"dom\"];","export const DEFAULT_CLASSNAMES =\n\t'wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text';\n\nexport const REGEXP_NEWLINES = /[\\r\\n]+/g;\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useImperativeHandle, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Custom hook that manages the focus behavior of the post title input field.\n *\n * @param {Element} forwardedRef - The forwarded ref for the input field.\n *\n * @return {Object} - The ref object.\n */\nexport default function usePostTitleFocus( forwardedRef ) {\n\tconst ref = useRef();\n\n\tconst { isCleanNewPost } = useSelect( ( select ) => {\n\t\tconst { isCleanNewPost: _isCleanNewPost } = select( editorStore );\n\n\t\treturn {\n\t\t\tisCleanNewPost: _isCleanNewPost(),\n\t\t};\n\t}, [] );\n\n\tuseImperativeHandle( forwardedRef, () => ( {\n\t\tfocus: () => {\n\t\t\tref?.current?.focus();\n\t\t},\n\t} ) );\n\n\tuseEffect( () => {\n\t\tif ( ! ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { defaultView } = ref.current.ownerDocument;\n\t\tconst { name, parent } = defaultView;\n\t\tconst ownerDocument =\n\t\t\tname === 'editor-canvas' ? parent.document : defaultView.document;\n\t\tconst { activeElement, body } = ownerDocument;\n\n\t\t// Only autofocus the title when the post is entirely empty. This should\n\t\t// only happen for a new post, which means we focus the title on new\n\t\t// post so the author can start typing right away, without needing to\n\t\t// click anything.\n\t\tif ( isCleanNewPost && ( ! activeElement || body === activeElement ) ) {\n\t\t\tref.current.focus();\n\t\t}\n\t}, [ isCleanNewPost ] );\n\n\treturn { ref };\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Custom hook for managing the post title in the editor.\n *\n * @return {Object} An object containing the current title and a function to update the title.\n */\nexport default function usePostTitle() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { title } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t};\n\t}, [] );\n\n\tfunction updateTitle( newTitle ) {\n\t\teditPost( { title: newTitle } );\n\t}\n\n\treturn { title, setTitle: updateTitle };\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { forwardRef, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { pasteHandler } from '@wordpress/blocks';\nimport {\n\t__unstableUseRichText as useRichText,\n\tcreate,\n\tinsert,\n} from '@wordpress/rich-text';\nimport { useMergeRefs } from '@wordpress/compose';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_CLASSNAMES, REGEXP_NEWLINES } from './constants';\nimport usePostTitleFocus from './use-post-title-focus';\nimport usePostTitle from './use-post-title';\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nfunction PostTitle( _, forwardedRef ) {\n\tconst { placeholder } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { titlePlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tplaceholder: titlePlaceholder,\n\t\t};\n\t}, [] );\n\n\tconst [ isSelected, setIsSelected ] = useState( false );\n\n\tconst { ref: focusRef } = usePostTitleFocus( forwardedRef );\n\n\tconst { title, setTitle: onUpdate } = usePostTitle();\n\n\tconst [ selection, setSelection ] = useState( {} );\n\n\tconst { clearSelectedBlock, insertBlocks, insertDefaultBlock } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst decodedPlaceholder =\n\t\tdecodeEntities( placeholder ) || __( 'Add title' );\n\n\tconst {\n\t\tvalue,\n\t\tonChange,\n\t\tref: richTextRef,\n\t} = useRichText( {\n\t\tvalue: title,\n\t\tonChange( newValue ) {\n\t\t\tonUpdate( newValue.replace( REGEXP_NEWLINES, ' ' ) );\n\t\t},\n\t\tplaceholder: decodedPlaceholder,\n\t\tselectionStart: selection.start,\n\t\tselectionEnd: selection.end,\n\t\tonSelectionChange( newStart, newEnd ) {\n\t\t\tsetSelection( ( sel ) => {\n\t\t\t\tconst { start, end } = sel;\n\t\t\t\tif ( start === newStart && end === newEnd ) {\n\t\t\t\t\treturn sel;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tstart: newStart,\n\t\t\t\t\tend: newEnd,\n\t\t\t\t};\n\t\t\t} );\n\t\t},\n\t\t__unstableDisableFormats: false,\n\t} );\n\n\tfunction onInsertBlockAfter( blocks ) {\n\t\tinsertBlocks( blocks, 0 );\n\t}\n\n\tfunction onSelect() {\n\t\tsetIsSelected( true );\n\t\tclearSelectedBlock();\n\t}\n\n\tfunction onUnselect() {\n\t\tsetIsSelected( false );\n\t\tsetSelection( {} );\n\t}\n\n\tfunction onEnterPress() {\n\t\tinsertDefaultBlock( undefined, undefined, 0 );\n\t}\n\n\tfunction onKeyDown( event ) {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tonEnterPress();\n\t\t}\n\t}\n\n\tfunction onPaste( event ) {\n\t\tconst clipboardData = event.clipboardData;\n\n\t\tlet plainText = '';\n\t\tlet html = '';\n\n\t\ttry {\n\t\t\tplainText = clipboardData.getData( 'text/plain' );\n\t\t\thtml = clipboardData.getData( 'text/html' );\n\t\t} catch ( error ) {\n\t\t\t// Some browsers like UC Browser paste plain text by default and\n\t\t\t// don't support clipboardData at all, so allow default\n\t\t\t// behaviour.\n\t\t\treturn;\n\t\t}\n\n\t\t// Allows us to ask for this information when we get a report.\n\t\twindow.console.log( 'Received HTML:\\n\\n', html );\n\t\twindow.console.log( 'Received plain text:\\n\\n', plainText );\n\n\t\tconst content = pasteHandler( {\n\t\t\tHTML: html,\n\t\t\tplainText,\n\t\t} );\n\n\t\tevent.preventDefault();\n\n\t\tif ( ! content.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( typeof content !== 'string' ) {\n\t\t\tconst [ firstBlock ] = content;\n\n\t\t\tif (\n\t\t\t\t! title &&\n\t\t\t\t( firstBlock.name === 'core/heading' ||\n\t\t\t\t\tfirstBlock.name === 'core/paragraph' )\n\t\t\t) {\n\t\t\t\t// Strip HTML to avoid unwanted HTML being added to the title.\n\t\t\t\t// In the majority of cases it is assumed that HTML in the title\n\t\t\t\t// is undesirable.\n\t\t\t\tconst contentNoHTML = stripHTML(\n\t\t\t\t\tfirstBlock.attributes.content\n\t\t\t\t);\n\t\t\t\tonUpdate( contentNoHTML );\n\t\t\t\tonInsertBlockAfter( content.slice( 1 ) );\n\t\t\t} else {\n\t\t\t\tonInsertBlockAfter( content );\n\t\t\t}\n\t\t} else {\n\t\t\t// Strip HTML to avoid unwanted HTML being added to the title.\n\t\t\t// In the majority of cases it is assumed that HTML in the title\n\t\t\t// is undesirable.\n\t\t\tconst contentNoHTML = stripHTML( content );\n\t\t\tonChange( insert( value, create( { html: contentNoHTML } ) ) );\n\t\t}\n\t}\n\n\t// The wp-block className is important for editor styles.\n\t// This same block is used in both the visual and the code editor.\n\tconst className = clsx( DEFAULT_CLASSNAMES, {\n\t\t'is-selected': isSelected,\n\t} );\n\n\treturn (\n\t\t/* eslint-disable jsx-a11y/heading-has-content, jsx-a11y/no-noninteractive-element-to-interactive-role */\n\t\t<PostTypeSupportCheck supportKeys=\"title\">\n\t\t\t<h1\n\t\t\t\tref={ useMergeRefs( [ richTextRef, focusRef ] ) }\n\t\t\t\tcontentEditable\n\t\t\t\tclassName={ className }\n\t\t\t\taria-label={ decodedPlaceholder }\n\t\t\t\trole=\"textbox\"\n\t\t\t\taria-multiline=\"true\"\n\t\t\t\tonFocus={ onSelect }\n\t\t\t\tonBlur={ onUnselect }\n\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\tonPaste={ onPaste }\n\t\t\t/>\n\t\t</PostTypeSupportCheck>\n\t\t/* eslint-enable jsx-a11y/heading-has-content, jsx-a11y/no-noninteractive-element-to-interactive-role */\n\t);\n}\n\n/**\n * Renders the `PostTitle` component.\n *\n * @param {Object}  _            Unused parameter.\n * @param {Element} forwardedRef Forwarded ref for the component.\n *\n * @return {Component} The rendered PostTitle component.\n */\nexport default forwardRef( PostTitle );\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { TextareaControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useState, forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_CLASSNAMES, REGEXP_NEWLINES } from './constants';\nimport usePostTitleFocus from './use-post-title-focus';\nimport usePostTitle from './use-post-title';\n\n/**\n * Renders a raw post title input field.\n *\n * @param {Object}  _            Unused parameter.\n * @param {Element} forwardedRef Reference to the component's DOM node.\n *\n * @return {Component} The rendered component.\n */\nfunction PostTitleRaw( _, forwardedRef ) {\n\tconst { placeholder } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { titlePlaceholder } = getSettings();\n\n\t\treturn {\n\t\t\tplaceholder: titlePlaceholder,\n\t\t};\n\t}, [] );\n\n\tconst [ isSelected, setIsSelected ] = useState( false );\n\n\tconst { title, setTitle: onUpdate } = usePostTitle();\n\tconst { ref: focusRef } = usePostTitleFocus( forwardedRef );\n\n\tfunction onChange( value ) {\n\t\tonUpdate( value.replace( REGEXP_NEWLINES, ' ' ) );\n\t}\n\n\tfunction onSelect() {\n\t\tsetIsSelected( true );\n\t}\n\n\tfunction onUnselect() {\n\t\tsetIsSelected( false );\n\t}\n\n\t// The wp-block className is important for editor styles.\n\t// This same block is used in both the visual and the code editor.\n\tconst className = clsx( DEFAULT_CLASSNAMES, {\n\t\t'is-selected': isSelected,\n\t\t'is-raw-text': true,\n\t} );\n\n\tconst decodedPlaceholder =\n\t\tdecodeEntities( placeholder ) || __( 'Add title' );\n\n\treturn (\n\t\t<TextareaControl\n\t\t\tref={ focusRef }\n\t\t\tvalue={ title }\n\t\t\tonChange={ onChange }\n\t\t\tonFocus={ onSelect }\n\t\t\tonBlur={ onUnselect }\n\t\t\tlabel={ placeholder }\n\t\t\tclassName={ className }\n\t\t\tplaceholder={ decodedPlaceholder }\n\t\t\thideLabelFromVision\n\t\t\tautoComplete=\"off\"\n\t\t\tdir=\"auto\"\n\t\t\trows={ 1 }\n\t\t\t__nextHasNoMarginBottom\n\t\t/>\n\t);\n}\n\nexport default forwardRef( PostTitleRaw );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { GLOBAL_POST_TYPES } from '../../store/constants';\n\n/**\n * Wrapper component that renders its children only if the post can trashed.\n *\n * @param {Object}  props          - The component props.\n * @param {Element} props.children - The child components to render.\n *\n * @return {Component|null} The rendered child components or null if the post can not trashed.\n */\nexport default function PostTrashCheck( { children } ) {\n\tconst { canTrashPost } = useSelect( ( select ) => {\n\t\tconst { isEditedPostNew, getCurrentPostId, getCurrentPostType } =\n\t\t\tselect( editorStore );\n\t\tconst { canUser } = select( coreStore );\n\t\tconst postType = getCurrentPostType();\n\t\tconst postId = getCurrentPostId();\n\t\tconst isNew = isEditedPostNew();\n\t\tconst canUserDelete = !! postId\n\t\t\t? canUser( 'delete', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: postType,\n\t\t\t\t\tid: postId,\n\t\t\t  } )\n\t\t\t: false;\n\n\t\treturn {\n\t\t\tcanTrashPost:\n\t\t\t\t( ! isNew || postId ) &&\n\t\t\t\tcanUserDelete &&\n\t\t\t\t! GLOBAL_POST_TYPES.includes( postType ),\n\t\t};\n\t}, [] );\n\tif ( ! canTrashPost ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { useSelect, useDispatch, useRegistry } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTrashCheck from './check';\n\n/**\n * Displays the Post Trash Button and Confirm Dialog in the Editor.\n *\n * @param {?{onActionPerformed: Object}} An object containing the onActionPerformed function.\n * @return {JSX.Element|null} The rendered PostTrash component.\n */\nexport default function PostTrash( { onActionPerformed } ) {\n\tconst registry = useRegistry();\n\tconst { isNew, isDeleting, postId, title } = useSelect( ( select ) => {\n\t\tconst store = select( editorStore );\n\t\treturn {\n\t\t\tisNew: store.isEditedPostNew(),\n\t\t\tisDeleting: store.isDeletingPost(),\n\t\t\tpostId: store.getCurrentPostId(),\n\t\t\ttitle: store.getCurrentPostAttribute( 'title' ),\n\t\t};\n\t}, [] );\n\tconst { trashPost } = useDispatch( editorStore );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tif ( isNew || ! postId ) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = async () => {\n\t\tsetShowConfirmDialog( false );\n\t\tawait trashPost();\n\t\tconst item = await registry\n\t\t\t.resolveSelect( editorStore )\n\t\t\t.getCurrentPost();\n\t\t// After the post is trashed, we want to trigger the onActionPerformed callback, so the user is redirect\n\t\t// to the post view depending on if the user is on post editor or site editor.\n\t\tonActionPerformed?.( 'move-to-trash', [ item ] );\n\t};\n\treturn (\n\t\t<PostTrashCheck>\n\t\t\t<Button\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tclassName=\"editor-post-trash\"\n\t\t\t\tisDestructive\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tisBusy={ isDeleting }\n\t\t\t\taria-disabled={ isDeleting }\n\t\t\t\tonClick={\n\t\t\t\t\tisDeleting ? undefined : () => setShowConfirmDialog( true )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ __( 'Move to trash' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t\tconfirmButtonText={ __( 'Move to trash' ) }\n\t\t\t\tsize=\"small\"\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t// translators: %s: The item's title.\n\t\t\t\t\t__( 'Are you sure you want to move \"%s\" to the trash?' ),\n\t\t\t\t\ttitle\n\t\t\t\t) }\n\t\t\t</ConfirmDialog>\n\t\t</PostTrashCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst copySmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M5.625 5.5h9.75c.069 0 .125.056.125.125v9.75a.125.125 0 0 1-.125.125h-9.75a.125.125 0 0 1-.125-.125v-9.75c0-.069.056-.125.125-.125ZM4 5.625C4 4.728 4.728 4 5.625 4h9.75C16.273 4 17 4.728 17 5.625v9.75c0 .898-.727 1.625-1.625 1.625h-9.75A1.625 1.625 0 0 1 4 15.375v-9.75Zm14.5 11.656v-9H20v9C20 18.8 18.77 20 17.251 20H6.25v-1.5h11.001c.69 0 1.249-.528 1.249-1.219Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default copySmall;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { safeDecodeURIComponent, cleanForSlug } from '@wordpress/url';\nimport { useState, createInterpolateElement } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tExternalLink,\n\tButton,\n\t__experimentalInputControl as InputControl,\n\t__experimentalInputControlPrefixWrapper as InputControlPrefixWrapper,\n\t__experimentalInputControlSuffixWrapper as InputControlSuffixWrapper,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { copySmall } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useCopyToClipboard } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the `PostURL` component.\n *\n * @example\n * ```jsx\n * <PostURL />\n * ```\n *\n * @param {Function} onClose Callback function to be executed when the popover is closed.\n *\n * @return {Component} The rendered PostURL component.\n */\nexport default function PostURL( { onClose } ) {\n\tconst {\n\t\tisEditable,\n\t\tpostSlug,\n\t\tpostLink,\n\t\tpermalinkPrefix,\n\t\tpermalinkSuffix,\n\t\tpermalink,\n\t} = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tconst hasPublishAction = post?._links?.[ 'wp:action-publish' ] ?? false;\n\n\t\treturn {\n\t\t\tisEditable:\n\t\t\t\tselect( editorStore ).isPermalinkEditable() && hasPublishAction,\n\t\t\tpostSlug: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getEditedPostSlug()\n\t\t\t),\n\t\t\tviewPostLabel: postType?.labels.view_item,\n\t\t\tpostLink: post.link,\n\t\t\tpermalinkPrefix: permalinkParts?.prefix,\n\t\t\tpermalinkSuffix: permalinkParts?.suffix,\n\t\t\tpermalink: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getPermalink()\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst [ forceEmptyField, setForceEmptyField ] = useState( false );\n\tconst copyButtonRef = useCopyToClipboard( permalink, () => {\n\t\tcreateNotice( 'info', __( 'Copied URL to clipboard.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} );\n\treturn (\n\t\t<div className=\"editor-post-url\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Link' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t{ isEditable && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'Customize the last part of the URL. <a>Learn more.</a>'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ta: (\n\t\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<div>\n\t\t\t\t\t{ isEditable && (\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tprefix={\n\t\t\t\t\t\t\t\t<InputControlPrefixWrapper>\n\t\t\t\t\t\t\t\t\t/\n\t\t\t\t\t\t\t\t</InputControlPrefixWrapper>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsuffix={\n\t\t\t\t\t\t\t\t<InputControlSuffixWrapper variant=\"control\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ticon={ copySmall }\n\t\t\t\t\t\t\t\t\t\tref={ copyButtonRef }\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Copy\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</InputControlSuffixWrapper>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={ __( 'Link' ) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tvalue={ forceEmptyField ? '' : postSlug }\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"editor-post-url__input\"\n\t\t\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\t\t\teditPost( { slug: newValue } );\n\t\t\t\t\t\t\t\t// When we delete the field the permalink gets\n\t\t\t\t\t\t\t\t// reverted to the original value.\n\t\t\t\t\t\t\t\t// The forceEmptyField logic allows the user to have\n\t\t\t\t\t\t\t\t// the field temporarily empty while typing.\n\t\t\t\t\t\t\t\tif ( ! newValue ) {\n\t\t\t\t\t\t\t\t\tif ( ! forceEmptyField ) {\n\t\t\t\t\t\t\t\t\t\tsetForceEmptyField( true );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonBlur={ ( event ) => {\n\t\t\t\t\t\t\t\teditPost( {\n\t\t\t\t\t\t\t\t\tslug: cleanForSlug( event.target.value ),\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\t\t\t\t\thref={ postLink }\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-prefix\">\n\t\t\t\t\t\t\t\t\t\t{ permalinkPrefix }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-slug\">\n\t\t\t\t\t\t\t\t\t\t{ postSlug }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"editor-post-url__link-suffix\">\n\t\t\t\t\t\t\t\t\t\t{ permalinkSuffix }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isEditable && (\n\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\t\t\thref={ postLink }\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ postLink }\n\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</VStack>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Check if the post URL is valid and visible.\n *\n * @param {Object}  props          The component props.\n * @param {Element} props.children The child components.\n *\n * @return {Component|null} The child components if the post URL is valid and visible, otherwise null.\n */\nexport default function PostURLCheck( { children } ) {\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tif ( ! postType?.viewable ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tif ( ! post.link ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tif ( ! permalinkParts ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}, [] );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { filterURLForDisplay, safeDecodeURIComponent } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Represents a label component for a post URL.\n *\n * @return {Component} The PostURLLabel component.\n */\nexport default function PostURLLabel() {\n\treturn usePostURLLabel();\n}\n\n/**\n * Custom hook to get the label for the post URL.\n *\n * @return {string} The filtered and decoded post URL label.\n */\nexport function usePostURLLabel() {\n\tconst postLink = useSelect(\n\t\t( select ) => select( editorStore ).getPermalink(),\n\t\t[]\n\t);\n\treturn filterURLForDisplay( safeDecodeURIComponent( postLink ) );\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tDropdown,\n\tButton,\n\t__experimentalTruncate as Truncate,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { safeDecodeURIComponent } from '@wordpress/url';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostURLCheck from './check';\nimport PostURL from './index';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the `PostURLPanel` component.\n *\n * @return {JSX.Element} The rendered PostURLPanel component.\n */\nexport default function PostURLPanel() {\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\treturn (\n\t\t<PostURLCheck>\n\t\t\t<PostPanelRow label={ __( 'Link' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tclassName=\"editor-post-url__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-url__panel-dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<PostURLToggle isOpen={ isOpen } onClick={ onToggle } />\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<PostURL onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostURLCheck>\n\t);\n}\n\nfunction PostURLToggle( { isOpen, onClick } ) {\n\tconst { slug, isFrontPage, postLink } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostId, getCurrentPost } = select( editorStore );\n\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\tconst _id = getCurrentPostId();\n\t\treturn {\n\t\t\tslug: select( editorStore ).getEditedPostSlug(),\n\t\t\tisFrontPage: siteSettings?.page_on_front === _id,\n\t\t\tpostLink: getCurrentPost()?.link,\n\t\t};\n\t}, [] );\n\tconst decodedSlug = safeDecodeURIComponent( slug );\n\treturn (\n\t\t<Button\n\t\t\tsize=\"compact\"\n\t\t\tclassName=\"editor-post-url__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\t// translators: %s: Current post link.\n\t\t\taria-label={ sprintf( __( 'Change link: %s' ), decodedSlug ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t<Truncate numberOfLines={ 1 }>\n\t\t\t\t{ isFrontPage ? postLink : `/${ decodedSlug }` }\n\t\t\t</Truncate>\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Determines if the current post can be edited (published)\n * and passes this information to the provided render function.\n *\n * @param {Object}   props        The component props.\n * @param {Function} props.render Function to render the component.\n *                                Receives an object with a `canEdit` property.\n * @return {JSX.Element} The rendered component.\n */\nexport default function PostVisibilityCheck( { render } ) {\n\tconst canEdit = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getCurrentPost()._links?.[\n\t\t\t\t'wp:action-publish'\n\t\t\t] ?? false\n\t\t);\n\t} );\n\n\treturn render( { canEdit } );\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst info = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z\" />\n\t</SVG>\n);\n\nexport default info;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"wordcount\"];","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the word count of the post content.\n *\n * @return {JSX.Element|null} The rendered WordCount component.\n */\nexport default function WordCount() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\n\treturn (\n\t\t<span className=\"word-count\">\n\t\t\t{ wordCount( content, wordCountType ) }\n\t\t</span>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { _x, _n, __, sprintf } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Average reading rate - based on average taken from\n * https://irisreading.com/average-reading-speed-in-various-languages/\n * (Characters/minute used for Chinese rather than words).\n *\n * @type {number} A rough estimate of the average reading rate across multiple languages.\n */\nconst AVERAGE_READING_RATE = 189;\n\n/**\n * Component for showing Time To Read in Content.\n *\n * @return {JSX.Element} The rendered TimeToRead component.\n */\nexport default function TimeToRead() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\tconst minutesToRead = Math.round(\n\t\twordCount( content, wordCountType ) / AVERAGE_READING_RATE\n\t);\n\tconst minutesToReadString =\n\t\tminutesToRead === 0\n\t\t\t? createInterpolateElement( __( '<span>< 1</span> minute' ), {\n\t\t\t\t\tspan: <span />,\n\t\t\t  } )\n\t\t\t: createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %s is the number of minutes the post will take to read. */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'<span>%d</span> minute',\n\t\t\t\t\t\t\t'<span>%d</span> minutes',\n\t\t\t\t\t\t\tminutesToRead\n\t\t\t\t\t\t),\n\t\t\t\t\t\tminutesToRead\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tspan: <span />,\n\t\t\t\t\t}\n\t\t\t  );\n\n\treturn <span className=\"time-to-read\">{ minutesToReadString }</span>;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { count as characterCount } from '@wordpress/wordcount';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the character count of the post content.\n *\n * @return {number} The character count.\n */\nexport default function CharacterCount() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\treturn characterCount( content, 'characters_including_spaces' );\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport WordCount from '../word-count';\nimport TimeToRead from '../time-to-read';\nimport DocumentOutline from '../document-outline';\nimport CharacterCount from '../character-count';\n\nfunction TableOfContentsPanel( { hasOutlineItemsDisabled, onRequestClose } ) {\n\tconst { headingCount, paragraphCount, numberOfBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getGlobalBlockCount } = select( blockEditorStore );\n\t\t\treturn {\n\t\t\t\theadingCount: getGlobalBlockCount( 'core/heading' ),\n\t\t\t\tparagraphCount: getGlobalBlockCount( 'core/paragraph' ),\n\t\t\t\tnumberOfBlocks: getGlobalBlockCount(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"table-of-contents__wrapper\"\n\t\t\t\trole=\"note\"\n\t\t\t\taria-label={ __( 'Document Statistics' ) }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t>\n\t\t\t\t<ul role=\"list\" className=\"table-of-contents__counts\">\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Words' ) }\n\t\t\t\t\t\t<WordCount />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Characters' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t<CharacterCount />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Time to read' ) }\n\t\t\t\t\t\t<TimeToRead />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Headings' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ headingCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Paragraphs' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ paragraphCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Blocks' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ numberOfBlocks }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{ headingCount > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<h2 className=\"table-of-contents__title\">\n\t\t\t\t\t\t{ __( 'Document Outline' ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<DocumentOutline\n\t\t\t\t\t\tonSelect={ onRequestClose }\n\t\t\t\t\t\thasOutlineItemsDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default TableOfContentsPanel;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { info } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport TableOfContentsPanel from './panel';\n\nfunction TableOfContents(\n\t{ hasOutlineItemsDisabled, repositionDropdown, ...props },\n\tref\n) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( blockEditorStore ).getBlockCount(),\n\t\t[]\n\t);\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ {\n\t\t\t\tplacement: repositionDropdown ? 'right' : 'bottom',\n\t\t\t} }\n\t\t\tclassName=\"table-of-contents\"\n\t\t\tcontentClassName=\"table-of-contents__popover\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tonClick={ hasBlocks ? onToggle : undefined }\n\t\t\t\t\ticon={ info }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\tlabel={ __( 'Details' ) }\n\t\t\t\t\ttooltipPosition=\"bottom\"\n\t\t\t\t\taria-disabled={ ! hasBlocks }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<TableOfContentsPanel\n\t\t\t\t\tonRequestClose={ onClose }\n\t\t\t\t\thasOutlineItemsDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\n/**\n * Renders a table of contents component.\n *\n * @param {Object}      props                         The component props.\n * @param {boolean}     props.hasOutlineItemsDisabled Whether outline items are disabled.\n * @param {boolean}     props.repositionDropdown      Whether to reposition the dropdown.\n * @param {Element.ref} ref                           The component's ref.\n *\n * @return {JSX.Element} The rendered table of contents component.\n */\nexport default forwardRef( TableOfContents );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Warns the user if there are unsaved changes before leaving the editor.\n * Compatible with Post Editor and Site Editor.\n *\n * @return {Component} The component.\n */\nexport default function UnsavedChangesWarning() {\n\tconst { __experimentalGetDirtyEntityRecords } = useSelect( coreStore );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Warns the user if there are unsaved changes before leaving the editor.\n\t\t *\n\t\t * @param {Event} event `beforeunload` event.\n\t\t *\n\t\t * @return {string | undefined} Warning prompt message, if unsaved changes exist.\n\t\t */\n\t\tconst warnIfUnsavedChanges = ( event ) => {\n\t\t\t// We need to call the selector directly in the listener to avoid race\n\t\t\t// conditions with `BrowserURL` where `componentDidUpdate` gets the\n\t\t\t// new value of `isEditedPostDirty` before this component does,\n\t\t\t// causing this component to incorrectly think a trashed post is still dirty.\n\t\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\t\tif ( dirtyEntityRecords.length > 0 ) {\n\t\t\t\tevent.returnValue = __(\n\t\t\t\t\t'You have unsaved changes. If you proceed, they will be lost.'\n\t\t\t\t);\n\t\t\t\treturn event.returnValue;\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'beforeunload', warnIfUnsavedChanges );\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t\t};\n\t}, [ __experimentalGetDirtyEntityRecords ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { useRegistry, createRegistry, RegistryProvider } from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { storeConfig as blockEditorStoreConfig } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\n\nfunction getSubRegistry( subRegistries, registry, useSubRegistry ) {\n\tif ( ! useSubRegistry ) {\n\t\treturn registry;\n\t}\n\tlet subRegistry = subRegistries.get( registry );\n\tif ( ! subRegistry ) {\n\t\tsubRegistry = createRegistry(\n\t\t\t{\n\t\t\t\t'core/block-editor': blockEditorStoreConfig,\n\t\t\t},\n\t\t\tregistry\n\t\t);\n\t\t// Todo: The interface store should also be created per instance.\n\t\tsubRegistry.registerStore( 'core/editor', storeConfig );\n\t\tsubRegistries.set( registry, subRegistry );\n\t}\n\treturn subRegistry;\n}\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\t( { useSubRegistry = true, ...props } ) => {\n\t\t\tconst registry = useRegistry();\n\t\t\tconst [ subRegistries ] = useState( () => new WeakMap() );\n\t\t\tconst subRegistry = getSubRegistry(\n\t\t\t\tsubRegistries,\n\t\t\t\tregistry,\n\t\t\t\tuseSubRegistry\n\t\t\t);\n\n\t\t\tif ( subRegistry === registry ) {\n\t\t\t\treturn <WrappedComponent registry={ registry } { ...props } />;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t\t<WrappedComponent registry={ subRegistry } { ...props } />\n\t\t\t\t</RegistryProvider>\n\t\t\t);\n\t\t},\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n","/**\n * The `editor` settings here need to be in sync with the corresponding ones in `editor` package.\n * See `packages/editor/src/components/media-categories/index.js`.\n *\n * In the future we could consider creating an Openvese package that can be used in both `editor` and `site-editor`.\n * The rest of the settings would still need to be in sync though.\n */\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { resolveSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\n\n/** @typedef {import('@wordpress/block-editor').InserterMediaRequest} InserterMediaRequest */\n/** @typedef {import('@wordpress/block-editor').InserterMediaItem} InserterMediaItem */\n/** @typedef {import('@wordpress/block-editor').InserterMediaCategory} InserterMediaCategory */\n\nconst getExternalLink = ( url, text ) =>\n\t`<a ${ getExternalLinkAttributes( url ) }>${ text }</a>`;\n\nconst getExternalLinkAttributes = ( url ) =>\n\t`href=\"${ url }\" target=\"_blank\" rel=\"noreferrer noopener\"`;\n\nconst getOpenverseLicense = ( license, licenseVersion ) => {\n\tlet licenseName = license.trim();\n\t// PDM has no abbreviation\n\tif ( license !== 'pdm' ) {\n\t\tlicenseName = license.toUpperCase().replace( 'SAMPLING', 'Sampling' );\n\t}\n\t// If version is known, append version to the name.\n\t// The license has to have a version to be valid. Only\n\t// PDM (public domain mark) doesn't have a version.\n\tif ( licenseVersion ) {\n\t\tlicenseName += ` ${ licenseVersion }`;\n\t}\n\t// For licenses other than public-domain marks, prepend 'CC' to the name.\n\tif ( ! [ 'pdm', 'cc0' ].includes( license ) ) {\n\t\tlicenseName = `CC ${ licenseName }`;\n\t}\n\treturn licenseName;\n};\n\nconst getOpenverseCaption = ( item ) => {\n\tconst {\n\t\ttitle,\n\t\tforeign_landing_url: foreignLandingUrl,\n\t\tcreator,\n\t\tcreator_url: creatorUrl,\n\t\tlicense,\n\t\tlicense_version: licenseVersion,\n\t\tlicense_url: licenseUrl,\n\t} = item;\n\tconst fullLicense = getOpenverseLicense( license, licenseVersion );\n\tconst _creator = decodeEntities( creator );\n\tlet _caption;\n\tif ( _creator ) {\n\t\t_caption = title\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %1s: Title of a media work from Openverse; %2s: Name of the work's creator; %3s: Work's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '\"%1$s\" by %2$s/ %3$s', 'caption' ),\n\t\t\t\t\tgetExternalLink(\n\t\t\t\t\t\tforeignLandingUrl,\n\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t),\n\t\t\t\t\tcreatorUrl\n\t\t\t\t\t\t? getExternalLink( creatorUrl, _creator )\n\t\t\t\t\t\t: _creator,\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %1s: Link attributes for a given Openverse media work; %2s: Name of the work's creator; %3s: Works's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '<a %1$s>Work</a> by %2$s/ %3$s', 'caption' ),\n\t\t\t\t\tgetExternalLinkAttributes( foreignLandingUrl ),\n\t\t\t\t\tcreatorUrl\n\t\t\t\t\t\t? getExternalLink( creatorUrl, _creator )\n\t\t\t\t\t\t: _creator,\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  );\n\t} else {\n\t\t_caption = title\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %1s: Title of a media work from Openverse; %2s: Work's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '\"%1$s\"/ %2$s', 'caption' ),\n\t\t\t\t\tgetExternalLink(\n\t\t\t\t\t\tforeignLandingUrl,\n\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t),\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %1s: Link attributes for a given Openverse media work; %2s: Works's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '<a %1$s>Work</a>/ %2$s', 'caption' ),\n\t\t\t\t\tgetExternalLinkAttributes( foreignLandingUrl ),\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  );\n\t}\n\treturn _caption.replace( /\\s{2}/g, ' ' );\n};\n\nconst coreMediaFetch = async ( query = {} ) => {\n\tconst mediaItems = await resolveSelect( coreStore ).getMediaItems( {\n\t\t...query,\n\t\torderBy: !! query?.search ? 'relevance' : 'date',\n\t} );\n\treturn mediaItems.map( ( mediaItem ) => ( {\n\t\t...mediaItem,\n\t\talt: mediaItem.alt_text,\n\t\turl: mediaItem.source_url,\n\t\tpreviewUrl: mediaItem.media_details?.sizes?.medium?.source_url,\n\t\tcaption: mediaItem.caption?.raw,\n\t} ) );\n};\n\n/** @type {InserterMediaCategory[]} */\nconst inserterMediaCategories = [\n\t{\n\t\tname: 'images',\n\t\tlabels: {\n\t\t\tname: __( 'Images' ),\n\t\t\tsearch_items: __( 'Search images' ),\n\t\t},\n\t\tmediaType: 'image',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'image' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'videos',\n\t\tlabels: {\n\t\t\tname: __( 'Videos' ),\n\t\t\tsearch_items: __( 'Search videos' ),\n\t\t},\n\t\tmediaType: 'video',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'video' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'audio',\n\t\tlabels: {\n\t\t\tname: __( 'Audio' ),\n\t\t\tsearch_items: __( 'Search audio' ),\n\t\t},\n\t\tmediaType: 'audio',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'audio' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'openverse',\n\t\tlabels: {\n\t\t\tname: __( 'Openverse' ),\n\t\t\tsearch_items: __( 'Search Openverse' ),\n\t\t},\n\t\tmediaType: 'image',\n\t\tasync fetch( query = {} ) {\n\t\t\tconst defaultArgs = {\n\t\t\t\tmature: false,\n\t\t\t\texcluded_source: 'flickr,inaturalist,wikimedia',\n\t\t\t\tlicense: 'pdm,cc0',\n\t\t\t};\n\t\t\tconst finalQuery = { ...query, ...defaultArgs };\n\t\t\tconst mapFromInserterMediaRequest = {\n\t\t\t\tper_page: 'page_size',\n\t\t\t\tsearch: 'q',\n\t\t\t};\n\t\t\tconst url = new URL( 'https://api.openverse.org/v1/images/' );\n\t\t\tObject.entries( finalQuery ).forEach( ( [ key, value ] ) => {\n\t\t\t\tconst queryKey = mapFromInserterMediaRequest[ key ] || key;\n\t\t\t\turl.searchParams.set( queryKey, value );\n\t\t\t} );\n\t\t\tconst response = await window.fetch( url, {\n\t\t\t\theaders: {\n\t\t\t\t\t'User-Agent': 'WordPress/inserter-media-fetch',\n\t\t\t\t},\n\t\t\t} );\n\t\t\tconst jsonResponse = await response.json();\n\t\t\tconst results = jsonResponse.results;\n\t\t\treturn results.map( ( result ) => ( {\n\t\t\t\t...result,\n\t\t\t\t// This is a temp solution for better titles, until Openverse API\n\t\t\t\t// completes the cleaning up of some titles of their upstream data.\n\t\t\t\ttitle: result.title?.toLowerCase().startsWith( 'file:' )\n\t\t\t\t\t? result.title.slice( 5 )\n\t\t\t\t\t: result.title,\n\t\t\t\tsourceId: result.id,\n\t\t\t\tid: undefined,\n\t\t\t\tcaption: getOpenverseCaption( result ),\n\t\t\t\tpreviewUrl: result.thumbnail,\n\t\t\t} ) );\n\t\t},\n\t\tgetReportUrl: ( { sourceId } ) =>\n\t\t\t`https://wordpress.org/openverse/image/${ sourceId }/report/`,\n\t\tisExternalResource: true,\n\t},\n];\n\nexport default inserterMediaCategories;\n","/**\n * External dependencies\n */\nimport { v4 as uuid } from 'uuid';\n\n/**\n * WordPress dependencies\n */\nimport { select, dispatch } from '@wordpress/data';\nimport { uploadMedia } from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nconst noop = () => {};\n\n/**\n * Upload a media file when the file upload button is activated.\n * Wrapper around mediaUpload() that injects the current post ID.\n *\n * @param {Object}   $0                   Parameters object passed to the function.\n * @param {?Object}  $0.additionalData    Additional data to include in the request.\n * @param {string}   $0.allowedTypes      Array with the types of media that can be uploaded, if unset all types are allowed.\n * @param {Array}    $0.filesList         List of files.\n * @param {?number}  $0.maxUploadFileSize Maximum upload size in bytes allowed for the site.\n * @param {Function} $0.onError           Function called when an error happens.\n * @param {Function} $0.onFileChange      Function called each time a file or a temporary representation of the file is available.\n */\nexport default function mediaUpload( {\n\tadditionalData = {},\n\tallowedTypes,\n\tfilesList,\n\tmaxUploadFileSize,\n\tonError = noop,\n\tonFileChange,\n} ) {\n\tconst { getCurrentPost, getEditorSettings } = select( editorStore );\n\tconst {\n\t\tlockPostAutosaving,\n\t\tunlockPostAutosaving,\n\t\tlockPostSaving,\n\t\tunlockPostSaving,\n\t} = dispatch( editorStore );\n\n\tconst wpAllowedMimeTypes = getEditorSettings().allowedMimeTypes;\n\tconst lockKey = `image-upload-${ uuid() }`;\n\tlet imageIsUploading = false;\n\tmaxUploadFileSize =\n\t\tmaxUploadFileSize || getEditorSettings().maxUploadFileSize;\n\tconst currentPost = getCurrentPost();\n\t// Templates and template parts' numerical ID is stored in `wp_id`.\n\tconst currentPostId =\n\t\ttypeof currentPost?.id === 'number'\n\t\t\t? currentPost.id\n\t\t\t: currentPost?.wp_id;\n\tconst setSaveLock = () => {\n\t\tlockPostSaving( lockKey );\n\t\tlockPostAutosaving( lockKey );\n\t\timageIsUploading = true;\n\t};\n\n\tconst postData = currentPostId ? { post: currentPostId } : {};\n\tconst clearSaveLock = () => {\n\t\tunlockPostSaving( lockKey );\n\t\tunlockPostAutosaving( lockKey );\n\t\timageIsUploading = false;\n\t};\n\n\tuploadMedia( {\n\t\tallowedTypes,\n\t\tfilesList,\n\t\tonFileChange: ( file ) => {\n\t\t\tif ( ! imageIsUploading ) {\n\t\t\t\tsetSaveLock();\n\t\t\t} else {\n\t\t\t\tclearSaveLock();\n\t\t\t}\n\t\t\tonFileChange( file );\n\t\t},\n\t\tadditionalData: {\n\t\t\t...postData,\n\t\t\t...additionalData,\n\t\t},\n\t\tmaxUploadFileSize,\n\t\tonError: ( { message } ) => {\n\t\t\tclearSaveLock();\n\t\t\tonError( message );\n\t\t},\n\t\twpAllowedMimeTypes,\n\t} );\n}\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","/**\n * External dependencies\n */\nimport deepmerge from 'deepmerge';\nimport { isPlainObject } from 'is-plain-object';\n\n/**\n * WordPress dependencies\n */\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useMemo, useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { GlobalStylesContext, cleanEmptyObject } = unlock(\n\tblockEditorPrivateApis\n);\n\nexport function mergeBaseAndUserConfigs( base, user ) {\n\treturn deepmerge( base, user, {\n\t\t/*\n\t\t * We only pass as arrays the presets,\n\t\t * in which case we want the new array of values\n\t\t * to override the old array (no merging).\n\t\t */\n\t\tisMergeableObject: isPlainObject,\n\t\t/*\n\t\t * Exceptions to the above rule.\n\t\t * Background images should be replaced, not merged,\n\t\t * as they themselves are specific object definitions for the style.\n\t\t */\n\t\tcustomMerge: ( key ) => {\n\t\t\tif ( key === 'backgroundImage' ) {\n\t\t\t\treturn ( baseConfig, userConfig ) => userConfig;\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\t} );\n}\n\nfunction useGlobalStylesUserConfig() {\n\tconst { globalStylesId, isReady, settings, styles, _links } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetEditedEntityRecord,\n\t\t\t\thasFinishedResolution,\n\t\t\t\tcanUser,\n\t\t\t} = select( coreStore );\n\t\t\tconst _globalStylesId =\n\t\t\t\tselect( coreStore ).__experimentalGetCurrentGlobalStylesId();\n\n\t\t\tlet record;\n\t\t\tconst userCanEditGlobalStyles = canUser( 'update', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'globalStyles',\n\t\t\t\tid: _globalStylesId,\n\t\t\t} );\n\n\t\t\tif ( _globalStylesId ) {\n\t\t\t\tif ( userCanEditGlobalStyles ) {\n\t\t\t\t\trecord = getEditedEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\trecord = getEntityRecord(\n\t\t\t\t\t\t'root',\n\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t{ context: 'view' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet hasResolved = false;\n\t\t\tif (\n\t\t\t\thasFinishedResolution(\n\t\t\t\t\t'__experimentalGetCurrentGlobalStylesId'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tif ( _globalStylesId ) {\n\t\t\t\t\thasResolved = userCanEditGlobalStyles\n\t\t\t\t\t\t? hasFinishedResolution( 'getEditedEntityRecord', [\n\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t  ] )\n\t\t\t\t\t\t: hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t\t\t\t'root',\n\t\t\t\t\t\t\t\t'globalStyles',\n\t\t\t\t\t\t\t\t_globalStylesId,\n\t\t\t\t\t\t\t\t{ context: 'view' },\n\t\t\t\t\t\t  ] );\n\t\t\t\t} else {\n\t\t\t\t\thasResolved = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tglobalStylesId: _globalStylesId,\n\t\t\t\tisReady: hasResolved,\n\t\t\t\tsettings: record?.settings,\n\t\t\t\tstyles: record?.styles,\n\t\t\t\t_links: record?._links,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst config = useMemo( () => {\n\t\treturn {\n\t\t\tsettings: settings ?? {},\n\t\t\tstyles: styles ?? {},\n\t\t\t_links: _links ?? {},\n\t\t};\n\t}, [ settings, styles, _links ] );\n\n\tconst setConfig = useCallback(\n\t\t/**\n\t\t * Set the global styles config.\n\t\t * @param {Function|Object} callbackOrObject If the callbackOrObject is a function, pass the current config to the callback so the consumer can merge values.\n\t\t *                                           Otherwise, overwrite the current config with the incoming object.\n\t\t * @param {Object}          options          Options for editEntityRecord Core selector.\n\t\t */\n\t\t( callbackOrObject, options = {} ) => {\n\t\t\tconst record = getEditedEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId\n\t\t\t);\n\n\t\t\tconst currentConfig = {\n\t\t\t\tstyles: record?.styles ?? {},\n\t\t\t\tsettings: record?.settings ?? {},\n\t\t\t\t_links: record?._links ?? {},\n\t\t\t};\n\n\t\t\tconst updatedConfig =\n\t\t\t\ttypeof callbackOrObject === 'function'\n\t\t\t\t\t? callbackOrObject( currentConfig )\n\t\t\t\t\t: callbackOrObject;\n\n\t\t\teditEntityRecord(\n\t\t\t\t'root',\n\t\t\t\t'globalStyles',\n\t\t\t\tglobalStylesId,\n\t\t\t\t{\n\t\t\t\t\tstyles: cleanEmptyObject( updatedConfig.styles ) || {},\n\t\t\t\t\tsettings: cleanEmptyObject( updatedConfig.settings ) || {},\n\t\t\t\t\t_links: cleanEmptyObject( updatedConfig._links ) || {},\n\t\t\t\t},\n\t\t\t\toptions\n\t\t\t);\n\t\t},\n\t\t[ globalStylesId, editEntityRecord, getEditedEntityRecord ]\n\t);\n\n\treturn [ isReady, config, setConfig ];\n}\n\nfunction useGlobalStylesBaseConfig() {\n\tconst baseConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).__experimentalGetCurrentThemeBaseGlobalStyles(),\n\t\t[]\n\t);\n\treturn [ !! baseConfig, baseConfig ];\n}\n\nexport function useGlobalStylesContext() {\n\tconst [ isUserConfigReady, userConfig, setUserConfig ] =\n\t\tuseGlobalStylesUserConfig();\n\tconst [ isBaseConfigReady, baseConfig ] = useGlobalStylesBaseConfig();\n\n\tconst mergedConfig = useMemo( () => {\n\t\tif ( ! baseConfig || ! userConfig ) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn mergeBaseAndUserConfigs( baseConfig, userConfig );\n\t}, [ userConfig, baseConfig ] );\n\n\tconst context = useMemo( () => {\n\t\treturn {\n\t\t\tisReady: isUserConfigReady && isBaseConfigReady,\n\t\t\tuser: userConfig,\n\t\t\tbase: baseConfig,\n\t\t\tmerged: mergedConfig,\n\t\t\tsetUserConfig,\n\t\t};\n\t}, [\n\t\tmergedConfig,\n\t\tuserConfig,\n\t\tbaseConfig,\n\t\tsetUserConfig,\n\t\tisUserConfigReady,\n\t\tisBaseConfigReady,\n\t] );\n\n\treturn context;\n}\n\nexport function GlobalStylesProvider( { children } ) {\n\tconst context = useGlobalStylesContext();\n\tif ( ! context.isReady ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<GlobalStylesContext.Provider value={ context }>\n\t\t\t{ children }\n\t\t</GlobalStylesContext.Provider>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tstore as coreStore,\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\t__experimentalFetchUrlData as fetchUrlData,\n} from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tprivateApis,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport inserterMediaCategories from '../media-categories';\nimport { mediaUpload } from '../../utils';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { useGlobalStylesContext } from '../global-styles-provider';\n\nconst EMPTY_OBJECT = {};\n\nfunction __experimentalReusableBlocksSelect( select ) {\n\tconst { getEntityRecords, hasFinishedResolution } = select( coreStore );\n\tconst reusableBlocks = getEntityRecords( 'postType', 'wp_block', {\n\t\tper_page: -1,\n\t} );\n\treturn hasFinishedResolution( 'getEntityRecords', [\n\t\t'postType',\n\t\t'wp_block',\n\t\t{ per_page: -1 },\n\t] )\n\t\t? reusableBlocks\n\t\t: undefined;\n}\n\nconst BLOCK_EDITOR_SETTINGS = [\n\t'__experimentalBlockDirectory',\n\t'__experimentalDiscussionSettings',\n\t'__experimentalFeatures',\n\t'__experimentalGlobalStylesBaseStyles',\n\t'alignWide',\n\t'blockInspectorTabs',\n\t'allowedMimeTypes',\n\t'bodyPlaceholder',\n\t'canLockBlocks',\n\t'canUpdateBlockBindings',\n\t'capabilities',\n\t'clearBlockSelection',\n\t'codeEditingEnabled',\n\t'colors',\n\t'disableCustomColors',\n\t'disableCustomFontSizes',\n\t'disableCustomSpacingSizes',\n\t'disableCustomGradients',\n\t'disableLayoutStyles',\n\t'enableCustomLineHeight',\n\t'enableCustomSpacing',\n\t'enableCustomUnits',\n\t'enableOpenverseMediaCategory',\n\t'fontSizes',\n\t'gradients',\n\t'generateAnchors',\n\t'onNavigateToEntityRecord',\n\t'imageDefaultSize',\n\t'imageDimensions',\n\t'imageEditing',\n\t'imageSizes',\n\t'isRTL',\n\t'locale',\n\t'maxWidth',\n\t'postContentAttributes',\n\t'postsPerPage',\n\t'readOnly',\n\t'styles',\n\t'titlePlaceholder',\n\t'supportsLayout',\n\t'widgetTypesToHideFromLegacyWidgetBlock',\n\t'__unstableHasCustomAppender',\n\t'__unstableIsPreviewMode',\n\t'__unstableResolvedAssets',\n\t'__unstableIsBlockBasedTheme',\n];\n\nconst {\n\tglobalStylesDataKey,\n\tglobalStylesLinksDataKey,\n\tselectBlockPatternsKey,\n\treusableBlocksSelectKey,\n\tsectionRootClientIdKey,\n} = unlock( privateApis );\n\n/**\n * React hook used to compute the block editor settings to use for the post editor.\n *\n * @param {Object} settings      EditorProvider settings prop.\n * @param {string} postType      Editor root level post type.\n * @param {string} postId        Editor root level post ID.\n * @param {string} renderingMode Editor rendering mode.\n *\n * @return {Object} Block Editor Settings.\n */\nfunction useBlockEditorSettings( settings, postType, postId, renderingMode ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst {\n\t\tallowRightClickOverrides,\n\t\tblockTypes,\n\t\tfocusMode,\n\t\thasFixedToolbar,\n\t\tisDistractionFree,\n\t\tkeepCaretInsideBlock,\n\t\thasUploadPermissions,\n\t\thiddenBlockTypes,\n\t\tcanUseUnfilteredHTML,\n\t\tuserCanCreatePages,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t\tuserPatternCategories,\n\t\trestBlockPatternCategories,\n\t\tsectionRootClientId,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tcanUser,\n\t\t\t\tgetRawEntityRecord,\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetUserPatternCategories,\n\t\t\t\tgetBlockPatternCategories,\n\t\t\t} = select( coreStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst { getBlockTypes } = select( blocksStore );\n\t\t\tconst { getBlocksByName, getBlockAttributes } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\n\t\t\tfunction getSectionRootBlock() {\n\t\t\t\tif ( renderingMode === 'template-locked' ) {\n\t\t\t\t\treturn getBlocksByName( 'core/post-content' )?.[ 0 ] ?? '';\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\tgetBlocksByName( 'core/group' ).find(\n\t\t\t\t\t\t( clientId ) =>\n\t\t\t\t\t\t\tgetBlockAttributes( clientId )?.tagName === 'main'\n\t\t\t\t\t) ?? ''\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tallowRightClickOverrides: get(\n\t\t\t\t\t'core',\n\t\t\t\t\t'allowRightClickOverrides'\n\t\t\t\t),\n\t\t\t\tblockTypes: getBlockTypes(),\n\t\t\t\tcanUseUnfilteredHTML: getRawEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t)?._links?.hasOwnProperty( 'wp:action-unfiltered-html' ),\n\t\t\t\tfocusMode: get( 'core', 'focusMode' ),\n\t\t\t\thasFixedToolbar:\n\t\t\t\t\tget( 'core', 'fixedToolbar' ) || ! isLargeViewport,\n\t\t\t\thiddenBlockTypes: get( 'core', 'hiddenBlockTypes' ),\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\t\tkeepCaretInsideBlock: get( 'core', 'keepCaretInsideBlock' ),\n\t\t\t\thasUploadPermissions:\n\t\t\t\t\tcanUser( 'create', {\n\t\t\t\t\t\tkind: 'root',\n\t\t\t\t\t\tname: 'media',\n\t\t\t\t\t} ) ?? true,\n\t\t\t\tuserCanCreatePages: canUser( 'create', {\n\t\t\t\t\tkind: 'postType',\n\t\t\t\t\tname: 'page',\n\t\t\t\t} ),\n\t\t\t\tpageOnFront: siteSettings?.page_on_front,\n\t\t\t\tpageForPosts: siteSettings?.page_for_posts,\n\t\t\t\tuserPatternCategories: getUserPatternCategories(),\n\t\t\t\trestBlockPatternCategories: getBlockPatternCategories(),\n\t\t\t\tsectionRootClientId: getSectionRootBlock(),\n\t\t\t};\n\t\t},\n\t\t[ postType, postId, isLargeViewport, renderingMode ]\n\t);\n\n\tconst { merged: mergedGlobalStyles } = useGlobalStylesContext();\n\tconst globalStylesData = mergedGlobalStyles.styles ?? EMPTY_OBJECT;\n\tconst globalStylesLinksData = mergedGlobalStyles._links ?? EMPTY_OBJECT;\n\n\tconst settingsBlockPatterns =\n\t\tsettings.__experimentalAdditionalBlockPatterns ?? // WP 6.0\n\t\tsettings.__experimentalBlockPatterns; // WP 5.9\n\tconst settingsBlockPatternCategories =\n\t\tsettings.__experimentalAdditionalBlockPatternCategories ?? // WP 6.0\n\t\tsettings.__experimentalBlockPatternCategories; // WP 5.9\n\n\tconst blockPatterns = useMemo(\n\t\t() =>\n\t\t\t[ ...( settingsBlockPatterns || [] ) ].filter(\n\t\t\t\t( { postTypes } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t! postTypes ||\n\t\t\t\t\t\t( Array.isArray( postTypes ) &&\n\t\t\t\t\t\t\tpostTypes.includes( postType ) )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t),\n\t\t[ settingsBlockPatterns, postType ]\n\t);\n\n\tconst blockPatternCategories = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatternCategories || [] ),\n\t\t\t\t...( restBlockPatternCategories || [] ),\n\t\t\t].filter(\n\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t),\n\t\t[ settingsBlockPatternCategories, restBlockPatternCategories ]\n\t);\n\n\tconst { undo, setIsInserterOpened } = useDispatch( editorStore );\n\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\t/**\n\t * Creates a Post entity.\n\t * This is utilised by the Link UI to allow for on-the-fly creation of Posts/Pages.\n\t *\n\t * @param {Object} options parameters for the post being created. These mirror those used on 3rd param of saveEntityRecord.\n\t * @return {Object} the post type object that was created.\n\t */\n\tconst createPageEntity = useCallback(\n\t\t( options ) => {\n\t\t\tif ( ! userCanCreatePages ) {\n\t\t\t\treturn Promise.reject( {\n\t\t\t\t\tmessage: __(\n\t\t\t\t\t\t'You do not have permission to create Pages.'\n\t\t\t\t\t),\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn saveEntityRecord( 'postType', 'page', options );\n\t\t},\n\t\t[ saveEntityRecord, userCanCreatePages ]\n\t);\n\n\tconst allowedBlockTypes = useMemo( () => {\n\t\t// Omit hidden block types if exists and non-empty.\n\t\tif ( hiddenBlockTypes && hiddenBlockTypes.length > 0 ) {\n\t\t\t// Defer to passed setting for `allowedBlockTypes` if provided as\n\t\t\t// anything other than `true` (where `true` is equivalent to allow\n\t\t\t// all block types).\n\t\t\tconst defaultAllowedBlockTypes =\n\t\t\t\ttrue === settings.allowedBlockTypes\n\t\t\t\t\t? blockTypes.map( ( { name } ) => name )\n\t\t\t\t\t: settings.allowedBlockTypes || [];\n\n\t\t\treturn defaultAllowedBlockTypes.filter(\n\t\t\t\t( type ) => ! hiddenBlockTypes.includes( type )\n\t\t\t);\n\t\t}\n\n\t\treturn settings.allowedBlockTypes;\n\t}, [ settings.allowedBlockTypes, hiddenBlockTypes, blockTypes ] );\n\n\tconst forceDisableFocusMode = settings.focusMode === false;\n\n\treturn useMemo( () => {\n\t\tconst blockEditorSettings = {\n\t\t\t...Object.fromEntries(\n\t\t\t\tObject.entries( settings ).filter( ( [ key ] ) =>\n\t\t\t\t\tBLOCK_EDITOR_SETTINGS.includes( key )\n\t\t\t\t)\n\t\t\t),\n\t\t\t[ globalStylesDataKey ]: globalStylesData,\n\t\t\t[ globalStylesLinksDataKey ]: globalStylesLinksData,\n\t\t\tallowedBlockTypes,\n\t\t\tallowRightClickOverrides,\n\t\t\tfocusMode: focusMode && ! forceDisableFocusMode,\n\t\t\thasFixedToolbar,\n\t\t\tisDistractionFree,\n\t\t\tkeepCaretInsideBlock,\n\t\t\tmediaUpload: hasUploadPermissions ? mediaUpload : undefined,\n\t\t\t__experimentalBlockPatterns: blockPatterns,\n\t\t\t[ selectBlockPatternsKey ]: ( select ) => {\n\t\t\t\tconst { hasFinishedResolution, getBlockPatternsForPostType } =\n\t\t\t\t\tunlock( select( coreStore ) );\n\t\t\t\tconst patterns = getBlockPatternsForPostType( postType );\n\t\t\t\treturn hasFinishedResolution( 'getBlockPatterns' )\n\t\t\t\t\t? patterns\n\t\t\t\t\t: undefined;\n\t\t\t},\n\t\t\t[ reusableBlocksSelectKey ]: __experimentalReusableBlocksSelect,\n\t\t\t__experimentalBlockPatternCategories: blockPatternCategories,\n\t\t\t__experimentalUserPatternCategories: userPatternCategories,\n\t\t\t__experimentalFetchLinkSuggestions: ( search, searchOptions ) =>\n\t\t\t\tfetchLinkSuggestions( search, searchOptions, settings ),\n\t\t\tinserterMediaCategories,\n\t\t\t__experimentalFetchRichUrlData: fetchUrlData,\n\t\t\t// Todo: This only checks the top level post, not the post within a template or any other entity that can be edited.\n\t\t\t// This might be better as a generic \"canUser\" selector.\n\t\t\t__experimentalCanUserUseUnfilteredHTML: canUseUnfilteredHTML,\n\t\t\t//Todo: this is only needed for native and should probably be removed.\n\t\t\t__experimentalUndo: undo,\n\t\t\t// Check whether we want all site editor frames to have outlines\n\t\t\t// including the navigation / pattern / parts editors.\n\t\t\toutlineMode: ! isDistractionFree && postType === 'wp_template',\n\t\t\t// Check these two properties: they were not present in the site editor.\n\t\t\t__experimentalCreatePageEntity: createPageEntity,\n\t\t\t__experimentalUserCanCreatePages: userCanCreatePages,\n\t\t\tpageOnFront,\n\t\t\tpageForPosts,\n\t\t\t__experimentalPreferPatternsOnRoot: postType === 'wp_template',\n\t\t\ttemplateLock:\n\t\t\t\tpostType === 'wp_navigation' ? 'insert' : settings.templateLock,\n\t\t\ttemplate:\n\t\t\t\tpostType === 'wp_navigation'\n\t\t\t\t\t? [ [ 'core/navigation', {}, [] ] ]\n\t\t\t\t\t: settings.template,\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t\t[ sectionRootClientIdKey ]: sectionRootClientId,\n\t\t};\n\n\t\treturn blockEditorSettings;\n\t}, [\n\t\tallowedBlockTypes,\n\t\tallowRightClickOverrides,\n\t\tfocusMode,\n\t\tforceDisableFocusMode,\n\t\thasFixedToolbar,\n\t\tisDistractionFree,\n\t\tkeepCaretInsideBlock,\n\t\tsettings,\n\t\thasUploadPermissions,\n\t\tuserPatternCategories,\n\t\tblockPatterns,\n\t\tblockPatternCategories,\n\t\tcanUseUnfilteredHTML,\n\t\tundo,\n\t\tcreatePageEntity,\n\t\tuserCanCreatePages,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t\tpostType,\n\t\tsetIsInserterOpened,\n\t\tsectionRootClientId,\n\t\tglobalStylesData,\n\t\tglobalStylesLinksData,\n\t] );\n}\n\nexport default useBlockEditorSettings;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { applyFilters } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst POST_CONTENT_BLOCK_TYPES = [\n\t'core/post-title',\n\t'core/post-featured-image',\n\t'core/post-content',\n];\n\nexport default function usePostContentBlocks() {\n\tconst contentOnlyBlockTypes = useMemo(\n\t\t() => [\n\t\t\t...applyFilters(\n\t\t\t\t'editor.postContentBlockTypes',\n\t\t\t\tPOST_CONTENT_BLOCK_TYPES\n\t\t\t),\n\t\t],\n\t\t[]\n\t);\n\n\t// Note that there are two separate subscriptions because the result for each\n\t// returns a new array.\n\tconst contentOnlyIds = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPostBlocksByName } = unlock( select( editorStore ) );\n\t\t\treturn getPostBlocksByName( contentOnlyBlockTypes );\n\t\t},\n\t\t[ contentOnlyBlockTypes ]\n\t);\n\n\treturn contentOnlyIds;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useRegistry } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport usePostContentBlocks from './use-post-content-blocks';\n\n/**\n * Component that when rendered, makes it so that the site editor allows only\n * page content to be edited.\n */\nexport default function DisableNonPageContentBlocks() {\n\tconst contentOnlyIds = usePostContentBlocks();\n\tconst templateParts = useSelect( ( select ) => {\n\t\tconst { getBlocksByName } = select( blockEditorStore );\n\t\treturn getBlocksByName( 'core/template-part' );\n\t}, [] );\n\tconst disabledIds = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockOrder } = select( blockEditorStore );\n\t\t\treturn templateParts.flatMap( ( clientId ) =>\n\t\t\t\tgetBlockOrder( clientId )\n\t\t\t);\n\t\t},\n\t\t[ templateParts ]\n\t);\n\n\tconst registry = useRegistry();\n\n\tuseEffect( () => {\n\t\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\t\tregistry.dispatch( blockEditorStore );\n\n\t\tregistry.batch( () => {\n\t\t\tsetBlockEditingMode( '', 'disabled' );\n\t\t\tfor ( const clientId of contentOnlyIds ) {\n\t\t\t\tsetBlockEditingMode( clientId, 'contentOnly' );\n\t\t\t}\n\t\t\tfor ( const clientId of templateParts ) {\n\t\t\t\tsetBlockEditingMode( clientId, 'contentOnly' );\n\t\t\t}\n\t\t\tfor ( const clientId of disabledIds ) {\n\t\t\t\tsetBlockEditingMode( clientId, 'disabled' );\n\t\t\t}\n\t\t} );\n\n\t\treturn () => {\n\t\t\tregistry.batch( () => {\n\t\t\t\tunsetBlockEditingMode( '' );\n\t\t\t\tfor ( const clientId of contentOnlyIds ) {\n\t\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t\t}\n\t\t\t\tfor ( const clientId of templateParts ) {\n\t\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t\t}\n\t\t\t\tfor ( const clientId of disabledIds ) {\n\t\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t}, [ templateParts, contentOnlyIds, disabledIds, registry ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * For the Navigation block editor, we need to force the block editor to contentOnly for that block.\n *\n * Set block editing mode to contentOnly when entering Navigation focus mode.\n * this ensures that non-content controls on the block will be hidden and thus\n * the user can focus on editing the Navigation Menu content only.\n */\n\nexport default function NavigationBlockEditingMode() {\n\t// In the navigation block editor,\n\t// the navigation block is the only root block.\n\tconst blockClientId = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockOrder()?.[ 0 ],\n\t\t[]\n\t);\n\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\tuseDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( ! blockClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetBlockEditingMode( blockClientId, 'contentOnly' );\n\n\t\treturn () => {\n\t\t\tunsetBlockEditingMode( blockClientId );\n\t\t};\n\t}, [ blockClientId, unsetBlockEditingMode, setBlockEditingMode ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { addFilter, removeFilter } from '@wordpress/hooks';\n\n// These post types are \"structural\" block lists.\n// We should be allowed to use\n// the post content and template parts blocks within them.\nconst POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART = [\n\t'wp_block',\n\t'wp_template',\n\t'wp_template_part',\n];\n\n/**\n * In some specific contexts,\n * the template part and post content blocks need to be hidden.\n *\n * @param {string} postType Post Type\n * @param {string} mode     Rendering mode\n */\nexport function useHideBlocksFromInserter( postType, mode ) {\n\tuseEffect( () => {\n\t\t/*\n\t\t * Prevent adding template part in the editor.\n\t\t */\n\t\taddFilter(\n\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t'removeTemplatePartsFromInserter',\n\t\t\t( canInsert, blockType ) => {\n\t\t\t\tif (\n\t\t\t\t\t! POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART.includes(\n\t\t\t\t\t\tpostType\n\t\t\t\t\t) &&\n\t\t\t\t\tblockType.name === 'core/template-part' &&\n\t\t\t\t\tmode === 'post-only'\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn canInsert;\n\t\t\t}\n\t\t);\n\n\t\t/*\n\t\t * Prevent adding post content block (except in query block) in the editor.\n\t\t */\n\t\taddFilter(\n\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t'removePostContentFromInserter',\n\t\t\t(\n\t\t\t\tcanInsert,\n\t\t\t\tblockType,\n\t\t\t\trootClientId,\n\t\t\t\t{ getBlockParentsByBlockName }\n\t\t\t) => {\n\t\t\t\tif (\n\t\t\t\t\t! POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART.includes(\n\t\t\t\t\t\tpostType\n\t\t\t\t\t) &&\n\t\t\t\t\tblockType.name === 'core/post-content'\n\t\t\t\t) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tgetBlockParentsByBlockName( rootClientId, 'core/query' )\n\t\t\t\t\t\t\t.length > 0\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn canInsert;\n\t\t\t}\n\t\t);\n\n\t\treturn () => {\n\t\t\tremoveFilter(\n\t\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t\t'removeTemplatePartsFromInserter'\n\t\t\t);\n\t\t\tremoveFilter(\n\t\t\t\t'blockEditor.__unstableCanInsertBlockType',\n\t\t\t\t'removePostContentFromInserter'\n\t\t\t);\n\t\t};\n\t}, [ postType, mode ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst keyboard = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m16 15.5h-8v-1.5h8zm-7.5-2.5h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm-9-3h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2z\" />\n\t\t<Path d=\"m18.5 6.5h-13a.5.5 0 0 0 -.5.5v9.5a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9.5a.5.5 0 0 0 -.5-.5zm-13-1.5h13a2 2 0 0 1 2 2v9.5a2 2 0 0 1 -2 2h-13a2 2 0 0 1 -2-2v-9.5a2 2 0 0 1 2-2z\" />\n\t</SVG>\n);\n\nexport default keyboard;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst listView = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z\" />\n\t</SVG>\n);\n\nexport default listView;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst code = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z\" />\n\t</SVG>\n);\n\nexport default code;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerLeft = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerLeft;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst drawerRight = (\n\t<SVG\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 24 24\"\n\t>\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default drawerRight;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst blockDefault = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z\" />\n\t</SVG>\n);\n\nexport default blockDefault;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst formatListBullets = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n\t</SVG>\n);\n\nexport default formatListBullets;\n","/**\n * Internal dependencies\n */\n\nimport { default as pencil } from './pencil';\nexport default pencil;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst pencil = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z\" />\n\t</SVG>\n);\n\nexport default pencil;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport { PATTERN_POST_TYPE } from '../../store/constants';\n\nconst { RenamePatternModal } = unlock( patternsPrivateApis );\nexport const modalName = 'editor/pattern-rename';\n\nexport default function PatternRenameModal() {\n\tconst { record, postType } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst _postType = getCurrentPostType();\n\t\treturn {\n\t\t\trecord: getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t_postType,\n\t\t\t\tgetCurrentPostId()\n\t\t\t),\n\t\t\tpostType: _postType,\n\t\t};\n\t}, [] );\n\tconst { closeModal } = useDispatch( interfaceStore );\n\n\tconst isActive = useSelect( ( select ) =>\n\t\tselect( interfaceStore ).isModalActive( modalName )\n\t);\n\n\tif ( ! isActive || postType !== PATTERN_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\treturn <RenamePatternModal onClose={ closeModal } pattern={ record } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport { PATTERN_POST_TYPE } from '../../store/constants';\n\nconst { DuplicatePatternModal } = unlock( patternsPrivateApis );\nexport const modalName = 'editor/pattern-duplicate';\n\nexport default function PatternDuplicateModal() {\n\tconst { record, postType } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst _postType = getCurrentPostType();\n\t\treturn {\n\t\t\trecord: getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t_postType,\n\t\t\t\tgetCurrentPostId()\n\t\t\t),\n\t\t\tpostType: _postType,\n\t\t};\n\t}, [] );\n\tconst { closeModal } = useDispatch( interfaceStore );\n\n\tconst isActive = useSelect( ( select ) =>\n\t\tselect( interfaceStore ).isModalActive( modalName )\n\t);\n\n\tif ( ! isActive || postType !== PATTERN_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DuplicatePatternModal\n\t\t\tonClose={ closeModal }\n\t\t\tonSuccess={ () => closeModal() }\n\t\t\tpattern={ record }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, isRTL } from '@wordpress/i18n';\nimport {\n\tblockDefault,\n\tcode,\n\tdrawerLeft,\n\tdrawerRight,\n\tedit,\n\tformatListBullets,\n\tlistView,\n\texternal,\n\tkeyboard,\n\tsymbol,\n} from '@wordpress/icons';\nimport { useCommandLoader } from '@wordpress/commands';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { PATTERN_POST_TYPE } from '../../store/constants';\nimport { modalName as patternRenameModalName } from '../pattern-rename-modal';\nimport { modalName as patternDuplicateModalName } from '../pattern-duplicate-modal';\n\nfunction useEditorCommandLoader() {\n\tconst {\n\t\teditorMode,\n\t\tisListViewOpen,\n\t\tshowBlockBreadcrumbs,\n\t\tisDistractionFree,\n\t\tisTopToolbar,\n\t\tisFocusMode,\n\t\tisPreviewMode,\n\t\tisViewable,\n\t\tisCodeEditingEnabled,\n\t\tisRichEditingEnabled,\n\t\tisPublishSidebarEnabled,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { isListViewOpened, getCurrentPostType, getEditorSettings } =\n\t\t\tselect( editorStore );\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\teditorMode: get( 'core', 'editorMode' ) ?? 'visual',\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tshowBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tisFocusMode: get( 'core', 'focusMode' ),\n\t\t\tisTopToolbar: get( 'core', 'fixedToolbar' ),\n\t\t\tisPreviewMode: getSettings().__unstableIsPreviewMode,\n\t\t\tisViewable: getPostType( getCurrentPostType() )?.viewable ?? false,\n\t\t\tisCodeEditingEnabled: getEditorSettings().codeEditingEnabled,\n\t\t\tisRichEditingEnabled: getEditorSettings().richEditingEnabled,\n\t\t\tisPublishSidebarEnabled:\n\t\t\t\tselect( editorStore ).isPublishSidebarEnabled(),\n\t\t};\n\t}, [] );\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { toggle } = useDispatch( preferencesStore );\n\tconst { createInfoNotice } = useDispatch( noticesStore );\n\tconst {\n\t\t__unstableSaveForPreview,\n\t\tsetIsListViewOpened,\n\t\tswitchEditorMode,\n\t\ttoggleDistractionFree,\n\t} = useDispatch( editorStore );\n\tconst { openModal, enableComplementaryArea, disableComplementaryArea } =\n\t\tuseDispatch( interfaceStore );\n\tconst { getCurrentPostId } = useSelect( editorStore );\n\tconst allowSwitchEditorMode = isCodeEditingEnabled && isRichEditingEnabled;\n\n\tif ( isPreviewMode ) {\n\t\treturn { commands: [], isLoading: false };\n\t}\n\n\tconst commands = [];\n\n\tcommands.push( {\n\t\tname: 'core/open-shortcut-help',\n\t\tlabel: __( 'Keyboard shortcuts' ),\n\t\ticon: keyboard,\n\t\tcallback: ( { close } ) => {\n\t\t\tclose();\n\t\t\topenModal( 'editor/keyboard-shortcut-help' );\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/toggle-distraction-free',\n\t\tlabel: isDistractionFree\n\t\t\t? __( 'Exit Distraction Free' )\n\t\t\t: __( 'Enter Distraction Free' ),\n\t\tcallback: ( { close } ) => {\n\t\t\ttoggleDistractionFree();\n\t\t\tclose();\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/open-preferences',\n\t\tlabel: __( 'Editor preferences' ),\n\t\tcallback: ( { close } ) => {\n\t\t\tclose();\n\t\t\topenModal( 'editor/preferences' );\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/toggle-spotlight-mode',\n\t\tlabel: __( 'Toggle spotlight' ),\n\t\tcallback: ( { close } ) => {\n\t\t\ttoggle( 'core', 'focusMode' );\n\t\t\tclose();\n\t\t\tcreateInfoNotice(\n\t\t\t\tisFocusMode ? __( 'Spotlight off.' ) : __( 'Spotlight on.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/toggle-spotlight-mode/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\ttoggle( 'core', 'focusMode' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/toggle-list-view',\n\t\tlabel: isListViewOpen\n\t\t\t? __( 'Close List View' )\n\t\t\t: __( 'Open List View' ),\n\t\ticon: listView,\n\t\tcallback: ( { close } ) => {\n\t\t\tsetIsListViewOpened( ! isListViewOpen );\n\t\t\tclose();\n\t\t\tcreateInfoNotice(\n\t\t\t\tisListViewOpen ? __( 'List View off.' ) : __( 'List View on.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/toggle-list-view/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/toggle-top-toolbar',\n\t\tlabel: __( 'Toggle top toolbar' ),\n\t\tcallback: ( { close } ) => {\n\t\t\ttoggle( 'core', 'fixedToolbar' );\n\t\t\tif ( isDistractionFree ) {\n\t\t\t\ttoggleDistractionFree();\n\t\t\t}\n\t\t\tclose();\n\t\t\tcreateInfoNotice(\n\t\t\t\tisTopToolbar\n\t\t\t\t\t? __( 'Top toolbar off.' )\n\t\t\t\t\t: __( 'Top toolbar on.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/toggle-top-toolbar/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Undo' ),\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\ttoggle( 'core', 'fixedToolbar' );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t} );\n\n\tif ( allowSwitchEditorMode ) {\n\t\tcommands.push( {\n\t\t\tname: 'core/toggle-code-editor',\n\t\t\tlabel:\n\t\t\t\teditorMode === 'visual'\n\t\t\t\t\t? __( 'Open code editor' )\n\t\t\t\t\t: __( 'Exit code editor' ),\n\t\t\ticon: code,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\tswitchEditorMode( editorMode === 'visual' ? 'text' : 'visual' );\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\t}\n\n\tcommands.push( {\n\t\tname: 'core/toggle-breadcrumbs',\n\t\tlabel: showBlockBreadcrumbs\n\t\t\t? __( 'Hide block breadcrumbs' )\n\t\t\t: __( 'Show block breadcrumbs' ),\n\t\tcallback: ( { close } ) => {\n\t\t\ttoggle( 'core', 'showBlockBreadcrumbs' );\n\t\t\tclose();\n\t\t\tcreateInfoNotice(\n\t\t\t\tshowBlockBreadcrumbs\n\t\t\t\t\t? __( 'Breadcrumbs hidden.' )\n\t\t\t\t\t: __( 'Breadcrumbs visible.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/toggle-breadcrumbs/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/open-settings-sidebar',\n\t\tlabel: __( 'Toggle settings sidebar' ),\n\t\ticon: isRTL() ? drawerLeft : drawerRight,\n\t\tcallback: ( { close } ) => {\n\t\t\tconst activeSidebar = getActiveComplementaryArea( 'core' );\n\t\t\tclose();\n\t\t\tif ( activeSidebar === 'edit-post/document' ) {\n\t\t\t\tdisableComplementaryArea( 'core' );\n\t\t\t} else {\n\t\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t\t}\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/open-block-inspector',\n\t\tlabel: __( 'Toggle block inspector' ),\n\t\ticon: blockDefault,\n\t\tcallback: ( { close } ) => {\n\t\t\tconst activeSidebar = getActiveComplementaryArea( 'core' );\n\t\t\tclose();\n\t\t\tif ( activeSidebar === 'edit-post/block' ) {\n\t\t\t\tdisableComplementaryArea( 'core' );\n\t\t\t} else {\n\t\t\t\tenableComplementaryArea( 'core', 'edit-post/block' );\n\t\t\t}\n\t\t},\n\t} );\n\n\tcommands.push( {\n\t\tname: 'core/toggle-publish-sidebar',\n\t\tlabel: isPublishSidebarEnabled\n\t\t\t? __( 'Disable pre-publish checks' )\n\t\t\t: __( 'Enable pre-publish checks' ),\n\t\ticon: formatListBullets,\n\t\tcallback: ( { close } ) => {\n\t\t\tclose();\n\t\t\ttoggle( 'core', 'isPublishSidebarEnabled' );\n\t\t\tcreateInfoNotice(\n\t\t\t\tisPublishSidebarEnabled\n\t\t\t\t\t? __( 'Pre-publish checks disabled.' )\n\t\t\t\t\t: __( 'Pre-publish checks enabled.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'core/editor/publish-sidebar/notice',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t} );\n\n\tif ( isViewable ) {\n\t\tcommands.push( {\n\t\t\tname: 'core/preview-link',\n\t\t\tlabel: __( 'Preview in a new tab' ),\n\t\t\ticon: external,\n\t\t\tcallback: async ( { close } ) => {\n\t\t\t\tclose();\n\t\t\t\tconst postId = getCurrentPostId();\n\t\t\t\tconst link = await __unstableSaveForPreview();\n\t\t\t\twindow.open( link, `wp-preview-${ postId }` );\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn {\n\t\tcommands,\n\t\tisLoading: false,\n\t};\n}\n\nfunction useEditedEntityContextualCommands() {\n\tconst { postType } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n\tconst { openModal } = useDispatch( interfaceStore );\n\tconst commands = [];\n\n\tif ( postType === PATTERN_POST_TYPE ) {\n\t\tcommands.push( {\n\t\t\tname: 'core/rename-pattern',\n\t\t\tlabel: __( 'Rename pattern' ),\n\t\t\ticon: edit,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\topenModal( patternRenameModalName );\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\t\tcommands.push( {\n\t\t\tname: 'core/duplicate-pattern',\n\t\t\tlabel: __( 'Duplicate pattern' ),\n\t\t\ticon: symbol,\n\t\t\tcallback: ( { close } ) => {\n\t\t\t\topenModal( patternDuplicateModalName );\n\t\t\t\tclose();\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn { isLoading: false, commands };\n}\n\nexport default function useCommands() {\n\tuseCommandLoader( {\n\t\tname: 'core/editor/edit-ui',\n\t\thook: useEditorCommandLoader,\n\t} );\n\n\tuseCommandLoader( {\n\t\tname: 'core/editor/contextual-commands',\n\t\thook: useEditedEntityContextualCommands,\n\t\tcontext: 'entity-edit',\n\t} );\n}\n","/**\n * WordPress dependencies\n */\n\nimport { _n } from '@wordpress/i18n';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { BlockRemovalWarningModal } = unlock( blockEditorPrivateApis );\n\n// Prevent accidental removal of certain blocks, asking the user for confirmation first.\nconst TEMPLATE_BLOCKS = [\n\t'core/post-content',\n\t'core/post-template',\n\t'core/query',\n];\nconst BLOCK_REMOVAL_RULES = [\n\t{\n\t\t// Template blocks.\n\t\t// The warning is only shown when a user manipulates templates or template parts.\n\t\tpostTypes: [ 'wp_template', 'wp_template_part' ],\n\t\tcallback( removedBlocks ) {\n\t\t\tconst removedTemplateBlocks = removedBlocks.filter( ( { name } ) =>\n\t\t\t\tTEMPLATE_BLOCKS.includes( name )\n\t\t\t);\n\t\t\tif ( removedTemplateBlocks.length ) {\n\t\t\t\treturn _n(\n\t\t\t\t\t'Deleting this block will stop your post or page content from displaying on this template. It is not recommended.',\n\t\t\t\t\t'Some of the deleted blocks will stop your post or page content from displaying on this template. It is not recommended.',\n\t\t\t\t\tremovedBlocks.length\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n\t{\n\t\t// Pattern overrides.\n\t\t// The warning is only shown when the user edits a pattern.\n\t\tpostTypes: [ 'wp_block' ],\n\t\tcallback( removedBlocks ) {\n\t\t\tconst removedBlocksWithOverrides = removedBlocks.filter(\n\t\t\t\t( { attributes } ) =>\n\t\t\t\t\tattributes?.metadata?.bindings &&\n\t\t\t\t\tObject.values( attributes.metadata.bindings ).some(\n\t\t\t\t\t\t( binding ) =>\n\t\t\t\t\t\t\tbinding.source === 'core/pattern-overrides'\n\t\t\t\t\t)\n\t\t\t);\n\t\t\tif ( removedBlocksWithOverrides.length ) {\n\t\t\t\treturn _n(\n\t\t\t\t\t'The deleted block allows instance overrides. Removing it may result in content not displaying where this pattern is used. Are you sure you want to proceed?',\n\t\t\t\t\t'Some of the deleted blocks allow instance overrides. Removing them may result in content not displaying where this pattern is used. Are you sure you want to proceed?',\n\t\t\t\t\tremovedBlocks.length\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t},\n];\n\nexport default function BlockRemovalWarnings() {\n\tconst currentPostType = useSelect(\n\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t[]\n\t);\n\n\tconst removalRulesForPostType = useMemo(\n\t\t() =>\n\t\t\tBLOCK_REMOVAL_RULES.filter( ( rule ) =>\n\t\t\t\trule.postTypes.includes( currentPostType )\n\t\t\t),\n\t\t[ currentPostType ]\n\t);\n\n\t// `BlockRemovalWarnings` is rendered in the editor provider, a shared component\n\t// across react native and web. However, `BlockRemovalWarningModal` is web only.\n\t// Check it exists before trying to render it.\n\tif ( ! BlockRemovalWarningModal ) {\n\t\treturn null;\n\t}\n\n\tif ( ! removalRulesForPostType ) {\n\t\treturn null;\n\t}\n\n\treturn <BlockRemovalWarningModal rules={ removalRulesForPostType } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useMemo } from '@wordpress/element';\nimport {\n\tstore as blockEditorStore,\n\t__experimentalBlockPatternsList as BlockPatternsList,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useAsyncList } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\n\nexport function useStartPatterns() {\n\t// A pattern is a start pattern if it includes 'core/post-content' in its blockTypes,\n\t// and it has no postTypes declared and the current post type is page or if\n\t// the current post type is part of the postTypes declared.\n\tconst { blockPatternsWithPostContentBlockType, postType } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getPatternsByBlockTypes, getBlocksByName } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst { getCurrentPostType, getRenderingMode } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst rootClientId =\n\t\t\t\tgetRenderingMode() === 'post-only'\n\t\t\t\t\t? ''\n\t\t\t\t\t: getBlocksByName( 'core/post-content' )?.[ 0 ];\n\t\t\treturn {\n\t\t\t\tblockPatternsWithPostContentBlockType: getPatternsByBlockTypes(\n\t\t\t\t\t'core/post-content',\n\t\t\t\t\trootClientId\n\t\t\t\t),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\treturn useMemo( () => {\n\t\tif ( ! blockPatternsWithPostContentBlockType?.length ) {\n\t\t\treturn [];\n\t\t}\n\n\t\t/*\n\t\t * Filter patterns without postTypes declared if the current postType is page\n\t\t * or patterns that declare the current postType in its post type array.\n\t\t */\n\t\treturn blockPatternsWithPostContentBlockType.filter( ( pattern ) => {\n\t\t\treturn (\n\t\t\t\t( postType === 'page' && ! pattern.postTypes ) ||\n\t\t\t\t( Array.isArray( pattern.postTypes ) &&\n\t\t\t\t\tpattern.postTypes.includes( postType ) )\n\t\t\t);\n\t\t} );\n\t}, [ postType, blockPatternsWithPostContentBlockType ] );\n}\n\nfunction PatternSelection( { blockPatterns, onChoosePattern } ) {\n\tconst shownBlockPatterns = useAsyncList( blockPatterns );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { postType, postId } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\n\t\treturn {\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t};\n\t}, [] );\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tblockPatterns={ blockPatterns }\n\t\t\tshownPatterns={ shownBlockPatterns }\n\t\t\tonClickPattern={ ( _pattern, blocks ) => {\n\t\t\t\teditEntityRecord( 'postType', postType, postId, {\n\t\t\t\t\tblocks,\n\t\t\t\t\tcontent: ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t\t\t\t__unstableSerializeAndClean( blocksForSerialization ),\n\t\t\t\t} );\n\t\t\t\tonChoosePattern();\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction StartPageOptionsModal( { onClose } ) {\n\tconst startPatterns = useStartPatterns();\n\tconst hasStartPattern = startPatterns.length > 0;\n\n\tif ( ! hasStartPattern ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Choose a pattern' ) }\n\t\t\tisFullScreen\n\t\t\tonRequestClose={ onClose }\n\t\t>\n\t\t\t<div className=\"editor-start-page-options__modal-content\">\n\t\t\t\t<PatternSelection\n\t\t\t\t\tblockPatterns={ startPatterns }\n\t\t\t\t\tonChoosePattern={ onClose }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\nexport default function StartPageOptions() {\n\tconst [ isClosed, setIsClosed ] = useState( false );\n\tconst shouldEnableModal = useSelect( ( select ) => {\n\t\tconst { isEditedPostDirty, isEditedPostEmpty, getCurrentPostType } =\n\t\t\tselect( editorStore );\n\t\tconst preferencesModalActive =\n\t\t\tselect( interfaceStore ).isModalActive( 'editor/preferences' );\n\t\tconst choosePatternModalEnabled = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'enableChoosePatternModal'\n\t\t);\n\t\treturn (\n\t\t\tchoosePatternModalEnabled &&\n\t\t\t! preferencesModalActive &&\n\t\t\t! isEditedPostDirty() &&\n\t\t\tisEditedPostEmpty() &&\n\t\t\tTEMPLATE_POST_TYPE !== getCurrentPostType()\n\t\t);\n\t}, [] );\n\n\tif ( ! shouldEnableModal || isClosed ) {\n\t\treturn null;\n\t}\n\n\treturn <StartPageOptionsModal onClose={ () => setIsClosed( true ) } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const textFormattingShortcuts = [\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'b' },\n\t\tdescription: __( 'Make the selected text bold.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'i' },\n\t\tdescription: __( 'Make the selected text italic.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'k' },\n\t\tdescription: __( 'Convert the selected text into a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'k' },\n\t\tdescription: __( 'Remove a link.' ),\n\t},\n\t{\n\t\tkeyCombination: { character: '[[' },\n\t\tdescription: __( 'Insert a link to a post or page.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primary', character: 'u' },\n\t\tdescription: __( 'Underline the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'd' },\n\t\tdescription: __( 'Strikethrough the selected text.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: 'x' },\n\t\tdescription: __( 'Make the selected text inline code.' ),\n\t},\n\t{\n\t\tkeyCombination: {\n\t\t\tmodifier: 'access',\n\t\t\tcharacter: '0',\n\t\t},\n\t\taliases: [\n\t\t\t{\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: '7',\n\t\t\t},\n\t\t],\n\t\tdescription: __( 'Convert the current heading to a paragraph.' ),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'access', character: '1-6' },\n\t\tdescription: __(\n\t\t\t'Convert the current paragraph or heading to a heading of level 1 to 6.'\n\t\t),\n\t},\n\t{\n\t\tkeyCombination: { modifier: 'primaryShift', character: 'SPACE' },\n\t\tdescription: __( 'Add non breaking space.' ),\n\t},\n];\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { displayShortcutList, shortcutAriaLabel } from '@wordpress/keycodes';\n\nfunction KeyCombination( { keyCombination, forceAriaLabel } ) {\n\tconst shortcut = keyCombination.modifier\n\t\t? displayShortcutList[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\tconst ariaLabel = keyCombination.modifier\n\t\t? shortcutAriaLabel[ keyCombination.modifier ](\n\t\t\t\tkeyCombination.character\n\t\t  )\n\t\t: keyCombination.character;\n\n\treturn (\n\t\t<kbd\n\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut-key-combination\"\n\t\t\taria-label={ forceAriaLabel || ariaLabel }\n\t\t>\n\t\t\t{ ( Array.isArray( shortcut ) ? shortcut : [ shortcut ] ).map(\n\t\t\t\t( character, index ) => {\n\t\t\t\t\tif ( character === '+' ) {\n\t\t\t\t\t\treturn <Fragment key={ index }>{ character }</Fragment>;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<kbd\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut-key\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ character }\n\t\t\t\t\t\t</kbd>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t) }\n\t\t</kbd>\n\t);\n}\n\nfunction Shortcut( { description, keyCombination, aliases = [], ariaLabel } ) {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"editor-keyboard-shortcut-help-modal__shortcut-description\">\n\t\t\t\t{ description }\n\t\t\t</div>\n\t\t\t<div className=\"editor-keyboard-shortcut-help-modal__shortcut-term\">\n\t\t\t\t<KeyCombination\n\t\t\t\t\tkeyCombination={ keyCombination }\n\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t/>\n\t\t\t\t{ aliases.map( ( alias, index ) => (\n\t\t\t\t\t<KeyCombination\n\t\t\t\t\t\tkeyCombination={ alias }\n\t\t\t\t\t\tforceAriaLabel={ ariaLabel }\n\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Shortcut;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport Shortcut from './shortcut';\n\nfunction DynamicShortcut( { name } ) {\n\tconst { keyCombination, description, aliases } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetShortcutKeyCombination,\n\t\t\t\tgetShortcutDescription,\n\t\t\t\tgetShortcutAliases,\n\t\t\t} = select( keyboardShortcutsStore );\n\n\t\t\treturn {\n\t\t\t\tkeyCombination: getShortcutKeyCombination( name ),\n\t\t\t\taliases: getShortcutAliases( name ),\n\t\t\t\tdescription: getShortcutDescription( name ),\n\t\t\t};\n\t\t},\n\t\t[ name ]\n\t);\n\n\tif ( ! keyCombination ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Shortcut\n\t\t\tkeyCombination={ keyCombination }\n\t\t\tdescription={ description }\n\t\t\taliases={ aliases }\n\t\t/>\n\t);\n}\n\nexport default DynamicShortcut;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tuseShortcut,\n\tstore as keyboardShortcutsStore,\n} from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { textFormattingShortcuts } from './config';\nimport Shortcut from './shortcut';\nimport DynamicShortcut from './dynamic-shortcut';\n\nconst KEYBOARD_SHORTCUT_HELP_MODAL_NAME = 'editor/keyboard-shortcut-help';\n\nconst ShortcutList = ( { shortcuts } ) => (\n\t/*\n\t * Disable reason: The `list` ARIA role is redundant but\n\t * Safari+VoiceOver won't announce the list otherwise.\n\t */\n\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t<ul\n\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut-list\"\n\t\trole=\"list\"\n\t>\n\t\t{ shortcuts.map( ( shortcut, index ) => (\n\t\t\t<li\n\t\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__shortcut\"\n\t\t\t\tkey={ index }\n\t\t\t>\n\t\t\t\t{ typeof shortcut === 'string' ? (\n\t\t\t\t\t<DynamicShortcut name={ shortcut } />\n\t\t\t\t) : (\n\t\t\t\t\t<Shortcut { ...shortcut } />\n\t\t\t\t) }\n\t\t\t</li>\n\t\t) ) }\n\t</ul>\n\t/* eslint-enable jsx-a11y/no-redundant-roles */\n);\n\nconst ShortcutSection = ( { title, shortcuts, className } ) => (\n\t<section\n\t\tclassName={ clsx(\n\t\t\t'editor-keyboard-shortcut-help-modal__section',\n\t\t\tclassName\n\t\t) }\n\t>\n\t\t{ !! title && (\n\t\t\t<h2 className=\"editor-keyboard-shortcut-help-modal__section-title\">\n\t\t\t\t{ title }\n\t\t\t</h2>\n\t\t) }\n\t\t<ShortcutList shortcuts={ shortcuts } />\n\t</section>\n);\n\nconst ShortcutCategorySection = ( {\n\ttitle,\n\tcategoryName,\n\tadditionalShortcuts = [],\n} ) => {\n\tconst categoryShortcuts = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( keyboardShortcutsStore ).getCategoryShortcuts(\n\t\t\t\tcategoryName\n\t\t\t);\n\t\t},\n\t\t[ categoryName ]\n\t);\n\n\treturn (\n\t\t<ShortcutSection\n\t\t\ttitle={ title }\n\t\t\tshortcuts={ categoryShortcuts.concat( additionalShortcuts ) }\n\t\t/>\n\t);\n};\n\nfunction KeyboardShortcutHelpModal() {\n\tconst isModalActive = useSelect(\n\t\t( select ) =>\n\t\t\tselect( interfaceStore ).isModalActive(\n\t\t\t\tKEYBOARD_SHORTCUT_HELP_MODAL_NAME\n\t\t\t),\n\t\t[]\n\t);\n\tconst { openModal, closeModal } = useDispatch( interfaceStore );\n\tconst toggleModal = () => {\n\t\tif ( isModalActive ) {\n\t\t\tcloseModal();\n\t\t} else {\n\t\t\topenModal( KEYBOARD_SHORTCUT_HELP_MODAL_NAME );\n\t\t}\n\t};\n\tuseShortcut( 'core/editor/keyboard-shortcuts', toggleModal );\n\n\tif ( ! isModalActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"editor-keyboard-shortcut-help-modal\"\n\t\t\ttitle={ __( 'Keyboard shortcuts' ) }\n\t\t\tcloseButtonLabel={ __( 'Close' ) }\n\t\t\tonRequestClose={ toggleModal }\n\t\t>\n\t\t\t<ShortcutSection\n\t\t\t\tclassName=\"editor-keyboard-shortcut-help-modal__main-shortcuts\"\n\t\t\t\tshortcuts={ [ 'core/editor/keyboard-shortcuts' ] }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Global shortcuts' ) }\n\t\t\t\tcategoryName=\"global\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Selection shortcuts' ) }\n\t\t\t\tcategoryName=\"selection\"\n\t\t\t/>\n\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'Block shortcuts' ) }\n\t\t\t\tcategoryName=\"block\"\n\t\t\t\tadditionalShortcuts={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeyCombination: { character: '/' },\n\t\t\t\t\t\tdescription: __(\n\t\t\t\t\t\t\t'Change the block type after adding a new paragraph.'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t/* translators: The forward-slash character. e.g. '/'. */\n\t\t\t\t\t\tariaLabel: __( 'Forward-slash' ),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t/>\n\t\t\t<ShortcutSection\n\t\t\t\ttitle={ __( 'Text formatting' ) }\n\t\t\t\tshortcuts={ textFormattingShortcuts }\n\t\t\t/>\n\t\t\t<ShortcutCategorySection\n\t\t\t\ttitle={ __( 'List View shortcuts' ) }\n\t\t\t\tcategoryName=\"list-view\"\n\t\t\t/>\n\t\t</Modal>\n\t);\n}\n\nexport default KeyboardShortcutHelpModal;\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockSettingsMenuControls,\n\t__unstableBlockSettingsMenuFirstItem as BlockSettingsMenuFirstItem,\n\tstore as blockEditorStore,\n\tuseBlockDisplayInformation,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalText as Text, MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport usePostContentBlocks from '../provider/use-post-content-blocks';\n\nfunction ContentOnlySettingsMenuItems( { clientId, onClose } ) {\n\tconst postContentBlocks = usePostContentBlocks();\n\tconst { entity, onNavigateToEntityRecord, canEditTemplates } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetBlockParentsByBlockName,\n\t\t\t\tgetSettings,\n\t\t\t\tgetBlockAttributes,\n\t\t\t\tgetBlockParents,\n\t\t\t} = select( blockEditorStore );\n\t\t\tconst { getCurrentTemplateId, getRenderingMode } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst patternParent = getBlockParentsByBlockName(\n\t\t\t\tclientId,\n\t\t\t\t'core/block',\n\t\t\t\ttrue\n\t\t\t)[ 0 ];\n\n\t\t\tlet record;\n\t\t\tif ( patternParent ) {\n\t\t\t\trecord = select( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_block',\n\t\t\t\t\tgetBlockAttributes( patternParent ).ref\n\t\t\t\t);\n\t\t\t} else if (\n\t\t\t\tgetRenderingMode() === 'template-locked' &&\n\t\t\t\t! getBlockParents( clientId ).some( ( parent ) =>\n\t\t\t\t\tpostContentBlocks.includes( parent )\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\trecord = select( coreStore ).getEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template',\n\t\t\t\t\tgetCurrentTemplateId()\n\t\t\t\t);\n\t\t\t}\n\t\t\tif ( ! record ) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst _canEditTemplates = select( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} );\n\t\t\treturn {\n\t\t\t\tcanEditTemplates: _canEditTemplates,\n\t\t\t\tentity: record,\n\t\t\t\tonNavigateToEntityRecord:\n\t\t\t\t\tgetSettings().onNavigateToEntityRecord,\n\t\t\t};\n\t\t},\n\t\t[ clientId, postContentBlocks ]\n\t);\n\n\tif ( ! entity ) {\n\t\treturn (\n\t\t\t<TemplateLockContentOnlyMenuItems\n\t\t\t\tclientId={ clientId }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t);\n\t}\n\n\tconst isPattern = entity.type === 'wp_block';\n\tlet helpText = isPattern\n\t\t? __(\n\t\t\t\t'Edit the pattern to move, delete, or make further changes to this block.'\n\t\t  )\n\t\t: __(\n\t\t\t\t'Edit the template to move, delete, or make further changes to this block.'\n\t\t  );\n\n\tif ( ! canEditTemplates ) {\n\t\thelpText = __(\n\t\t\t'Only users with permissions to edit the template can move or delete this block'\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<BlockSettingsMenuFirstItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\t\t\tpostId: entity.id,\n\t\t\t\t\t\t\tpostType: entity.type,\n\t\t\t\t\t\t} );\n\t\t\t\t\t} }\n\t\t\t\t\tdisabled={ ! canEditTemplates }\n\t\t\t\t>\n\t\t\t\t\t{ isPattern ? __( 'Edit pattern' ) : __( 'Edit template' ) }\n\t\t\t\t</MenuItem>\n\t\t\t</BlockSettingsMenuFirstItem>\n\t\t\t<Text\n\t\t\t\tvariant=\"muted\"\n\t\t\t\tas=\"p\"\n\t\t\t\tclassName=\"editor-content-only-settings-menu__description\"\n\t\t\t>\n\t\t\t\t{ helpText }\n\t\t\t</Text>\n\t\t</>\n\t);\n}\n\nfunction TemplateLockContentOnlyMenuItems( { clientId, onClose } ) {\n\tconst { contentLockingParent } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getContentLockingParent } = unlock(\n\t\t\t\tselect( blockEditorStore )\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tcontentLockingParent: getContentLockingParent( clientId ),\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst blockDisplayInformation =\n\t\tuseBlockDisplayInformation( contentLockingParent );\n\tconst blockEditorActions = useDispatch( blockEditorStore );\n\tif ( ! blockDisplayInformation?.title ) {\n\t\treturn null;\n\t}\n\n\tconst { modifyContentLockBlock } = unlock( blockEditorActions );\n\n\treturn (\n\t\t<>\n\t\t\t<BlockSettingsMenuFirstItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tmodifyContentLockBlock( contentLockingParent );\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x( 'Unlock', 'Unlock content locked blocks' ) }\n\t\t\t\t</MenuItem>\n\t\t\t</BlockSettingsMenuFirstItem>\n\t\t\t<Text\n\t\t\t\tvariant=\"muted\"\n\t\t\t\tas=\"p\"\n\t\t\t\tclassName=\"editor-content-only-settings-menu__description\"\n\t\t\t>\n\t\t\t\t{ __(\n\t\t\t\t\t'Temporarily unlock the parent block to edit, delete or make further changes to this block.'\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t</>\n\t);\n}\n\nexport default function ContentOnlySettingsMenu() {\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { selectedClientIds, onClose } ) =>\n\t\t\t\tselectedClientIds.length === 1 && (\n\t\t\t\t\t<ContentOnlySettingsMenuItems\n\t\t\t\t\t\tclientId={ selectedClientIds[ 0 ] }\n\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Modal, Flex, FlexItem, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useMemo, useEffect } from '@wordpress/element';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\nimport { useAsyncList } from '@wordpress/compose';\nimport { parse } from '@wordpress/blocks';\nimport { store as coreStore, useEntityBlockEditor } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\n\nfunction useFallbackTemplateContent( slug, isCustom = false ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getDefaultTemplateId } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst templateId = getDefaultTemplateId( {\n\t\t\t\tslug,\n\t\t\t\tis_custom: isCustom,\n\t\t\t\tignore_empty: true,\n\t\t\t} );\n\t\t\treturn templateId\n\t\t\t\t? getEntityRecord( 'postType', TEMPLATE_POST_TYPE, templateId )\n\t\t\t\t\t\t?.content?.raw\n\t\t\t\t: undefined;\n\t\t},\n\t\t[ slug, isCustom ]\n\t);\n}\n\nfunction useStartPatterns( fallbackContent ) {\n\tconst { slug, patterns } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEntityRecord, getBlockPatterns } = select( coreStore );\n\t\tconst postId = getCurrentPostId();\n\t\tconst postType = getCurrentPostType();\n\t\tconst record = getEntityRecord( 'postType', postType, postId );\n\t\treturn {\n\t\t\tslug: record.slug,\n\t\t\tpatterns: getBlockPatterns(),\n\t\t};\n\t}, [] );\n\n\tconst currentThemeStylesheet = useSelect(\n\t\t( select ) => select( coreStore ).getCurrentTheme().stylesheet\n\t);\n\n\t// Duplicated from packages/block-library/src/pattern/edit.js.\n\tfunction injectThemeAttributeInBlockTemplateContent( block ) {\n\t\tif (\n\t\t\tblock.innerBlocks.find(\n\t\t\t\t( innerBlock ) => innerBlock.name === 'core/template-part'\n\t\t\t)\n\t\t) {\n\t\t\tblock.innerBlocks = block.innerBlocks.map( ( innerBlock ) => {\n\t\t\t\tif (\n\t\t\t\t\tinnerBlock.name === 'core/template-part' &&\n\t\t\t\t\tinnerBlock.attributes.theme === undefined\n\t\t\t\t) {\n\t\t\t\t\tinnerBlock.attributes.theme = currentThemeStylesheet;\n\t\t\t\t}\n\t\t\t\treturn innerBlock;\n\t\t\t} );\n\t\t}\n\n\t\tif (\n\t\t\tblock.name === 'core/template-part' &&\n\t\t\tblock.attributes.theme === undefined\n\t\t) {\n\t\t\tblock.attributes.theme = currentThemeStylesheet;\n\t\t}\n\t\treturn block;\n\t}\n\n\treturn useMemo( () => {\n\t\t// filter patterns that are supposed to be used in the current template being edited.\n\t\treturn [\n\t\t\t{\n\t\t\t\tname: 'fallback',\n\t\t\t\tblocks: parse( fallbackContent ),\n\t\t\t\ttitle: __( 'Fallback content' ),\n\t\t\t},\n\t\t\t...patterns\n\t\t\t\t.filter( ( pattern ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tArray.isArray( pattern.templateTypes ) &&\n\t\t\t\t\t\tpattern.templateTypes.some( ( templateType ) =>\n\t\t\t\t\t\t\tslug.startsWith( templateType )\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} )\n\t\t\t\t.map( ( pattern ) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...pattern,\n\t\t\t\t\t\tblocks: parse( pattern.content ).map( ( block ) =>\n\t\t\t\t\t\t\tinjectThemeAttributeInBlockTemplateContent( block )\n\t\t\t\t\t\t),\n\t\t\t\t\t};\n\t\t\t\t} ),\n\t\t];\n\t}, [ fallbackContent, slug, patterns ] );\n}\n\nfunction PatternSelection( { fallbackContent, onChoosePattern, postType } ) {\n\tconst [ , , onChange ] = useEntityBlockEditor( 'postType', postType );\n\tconst blockPatterns = useStartPatterns( fallbackContent );\n\tconst shownBlockPatterns = useAsyncList( blockPatterns );\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tblockPatterns={ blockPatterns }\n\t\t\tshownPatterns={ shownBlockPatterns }\n\t\t\tonClickPattern={ ( pattern, blocks ) => {\n\t\t\t\tonChange( blocks, { selection: undefined } );\n\t\t\t\tonChoosePattern();\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nfunction StartModal( { slug, isCustom, onClose, postType } ) {\n\tconst fallbackContent = useFallbackTemplateContent( slug, isCustom );\n\tif ( ! fallbackContent ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"editor-start-template-options__modal\"\n\t\t\ttitle={ __( 'Choose a pattern' ) }\n\t\t\tcloseLabel={ __( 'Cancel' ) }\n\t\t\tfocusOnMount=\"firstElement\"\n\t\t\tonRequestClose={ onClose }\n\t\t\tisFullScreen\n\t\t>\n\t\t\t<div className=\"editor-start-template-options__modal-content\">\n\t\t\t\t<PatternSelection\n\t\t\t\t\tfallbackContent={ fallbackContent }\n\t\t\t\t\tslug={ slug }\n\t\t\t\t\tisCustom={ isCustom }\n\t\t\t\t\tpostType={ postType }\n\t\t\t\t\tonChoosePattern={ () => {\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Flex\n\t\t\t\tclassName=\"editor-start-template-options__modal__actions\"\n\t\t\t\tjustify=\"flex-end\"\n\t\t\t\texpanded={ false }\n\t\t\t>\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Skip' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\t\t</Modal>\n\t);\n}\n\nexport default function StartTemplateOptions() {\n\tconst [ isClosed, setIsClosed ] = useState( false );\n\tconst { shouldOpenModal, slug, isCustom, postType, postId } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType, getCurrentPostId } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst _postType = getCurrentPostType();\n\t\t\tconst _postId = getCurrentPostId();\n\t\t\tconst { getEditedEntityRecord, hasEditsForEntityRecord } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst templateRecord = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t_postType,\n\t\t\t\t_postId\n\t\t\t);\n\t\t\tconst hasEdits = hasEditsForEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\t_postType,\n\t\t\t\t_postId\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tshouldOpenModal:\n\t\t\t\t\t! hasEdits &&\n\t\t\t\t\t'' === templateRecord.content &&\n\t\t\t\t\tTEMPLATE_POST_TYPE === _postType,\n\t\t\t\tslug: templateRecord.slug,\n\t\t\t\tisCustom: templateRecord.is_custom,\n\t\t\t\tpostType: _postType,\n\t\t\t\tpostId: _postId,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tuseEffect( () => {\n\t\t// Should reset the modal state when navigating to a new page/post.\n\t\tsetIsClosed( false );\n\t}, [ postType, postId ] );\n\n\tif ( ! shouldOpenModal || isClosed ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<StartModal\n\t\t\tslug={ slug }\n\t\t\tisCustom={ isCustom }\n\t\t\tpostType={ postType }\n\t\t\tonClose={ () => setIsClosed( true ) }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function ConvertToRegularBlocks( { clientId, onClose } ) {\n\tconst { getBlocks } = useSelect( blockEditorStore );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\n\tconst canRemove = useSelect(\n\t\t( select ) => select( blockEditorStore ).canRemoveBlock( clientId ),\n\t\t[ clientId ]\n\t);\n\n\tif ( ! canRemove ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\treplaceBlocks( clientId, getBlocks( clientId ) );\n\t\t\t\tonClose();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Detach' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { MenuItem } from '@wordpress/components';\nimport { createBlock } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { symbolFilled } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport CreateTemplatePartModal from '../create-template-part-modal';\n\nexport default function ConvertToTemplatePart( { clientIds, blocks } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst { replaceBlocks } = useDispatch( blockEditorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\n\tconst { canCreate } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tcanCreate:\n\t\t\t\tselect( blockEditorStore ).canInsertBlockType(\n\t\t\t\t\t'core/template-part'\n\t\t\t\t),\n\t\t};\n\t}, [] );\n\n\tif ( ! canCreate ) {\n\t\treturn null;\n\t}\n\n\tconst onConvert = async ( templatePart ) => {\n\t\treplaceBlocks(\n\t\t\tclientIds,\n\t\t\tcreateBlock( 'core/template-part', {\n\t\t\t\tslug: templatePart.slug,\n\t\t\t\ttheme: templatePart.theme,\n\t\t\t} )\n\t\t);\n\t\tcreateSuccessNotice( __( 'Template part created.' ), {\n\t\t\ttype: 'snackbar',\n\t\t} );\n\n\t\t// The modal and this component will be unmounted because of `replaceBlocks` above,\n\t\t// so no need to call `closeModal` or `onClose`.\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\ticon={ symbolFilled }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsModalOpen( true );\n\t\t\t\t} }\n\t\t\t\taria-expanded={ isModalOpen }\n\t\t\t\taria-haspopup=\"dialog\"\n\t\t\t>\n\t\t\t\t{ __( 'Create template part' ) }\n\t\t\t</MenuItem>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<CreateTemplatePartModal\n\t\t\t\t\tcloseModal={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\tonCreate={ onConvert }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n\tBlockSettingsMenuControls,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport ConvertToRegularBlocks from './convert-to-regular';\nimport ConvertToTemplatePart from './convert-to-template-part';\n\nexport default function TemplatePartMenuItems() {\n\treturn (\n\t\t<BlockSettingsMenuControls>\n\t\t\t{ ( { selectedClientIds, onClose } ) => (\n\t\t\t\t<TemplatePartConverterMenuItem\n\t\t\t\t\tclientIds={ selectedClientIds }\n\t\t\t\t\tonClose={ onClose }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</BlockSettingsMenuControls>\n\t);\n}\n\nfunction TemplatePartConverterMenuItem( { clientIds, onClose } ) {\n\tconst { isContentOnly, blocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlocksByClientId, getBlockEditingMode } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\treturn {\n\t\t\t\tblocks: getBlocksByClientId( clientIds ),\n\t\t\t\tisContentOnly:\n\t\t\t\t\tclientIds.length === 1 &&\n\t\t\t\t\tgetBlockEditingMode( clientIds[ 0 ] ) === 'contentOnly',\n\t\t\t};\n\t\t},\n\t\t[ clientIds ]\n\t);\n\n\t// Do not show the convert button if the block is in content-only mode.\n\tif ( isContentOnly ) {\n\t\treturn null;\n\t}\n\n\t// Allow converting a single template part to standard blocks.\n\tif ( blocks.length === 1 && blocks[ 0 ]?.name === 'core/template-part' ) {\n\t\treturn (\n\t\t\t<ConvertToRegularBlocks\n\t\t\t\tclientId={ clientIds[ 0 ] }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t);\n\t}\n\treturn <ConvertToTemplatePart clientIds={ clientIds } blocks={ blocks } />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useLayoutEffect, useMemo } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tEntityProvider,\n\tuseEntityBlockEditor,\n\tstore as coreStore,\n} from '@wordpress/core-data';\nimport {\n\tBlockEditorProvider,\n\tBlockContextProvider,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as editPatternsPrivateApis } from '@wordpress/patterns';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport withRegistryProvider from './with-registry-provider';\nimport { store as editorStore } from '../../store';\nimport useBlockEditorSettings from './use-block-editor-settings';\nimport { unlock } from '../../lock-unlock';\nimport DisableNonPageContentBlocks from './disable-non-page-content-blocks';\nimport NavigationBlockEditingMode from './navigation-block-editing-mode';\nimport { useHideBlocksFromInserter } from './use-hide-blocks-from-inserter';\nimport useCommands from '../commands';\nimport BlockRemovalWarnings from '../block-removal-warnings';\nimport StartPageOptions from '../start-page-options';\nimport KeyboardShortcutHelpModal from '../keyboard-shortcut-help-modal';\nimport ContentOnlySettingsMenu from '../block-settings-menu/content-only-settings-menu';\nimport StartTemplateOptions from '../start-template-options';\nimport EditorKeyboardShortcuts from '../global-keyboard-shortcuts';\nimport PatternRenameModal from '../pattern-rename-modal';\nimport PatternDuplicateModal from '../pattern-duplicate-modal';\nimport TemplatePartMenuItems from '../template-part-menu-items';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\nconst { PatternsMenuItems } = unlock( editPatternsPrivateApis );\n\nconst noop = () => {};\n\n/**\n * These are global entities that are only there to split blocks into logical units\n * They don't provide a \"context\" for the current post/page being rendered.\n * So we should not use their ids as post context. This is important to allow post blocks\n * (post content, post title) to be used within them without issues.\n */\nconst NON_CONTEXTUAL_POST_TYPES = [\n\t'wp_block',\n\t'wp_navigation',\n\t'wp_template_part',\n];\n\n/**\n * Depending on the post, template and template mode,\n * returns the appropriate blocks and change handlers for the block editor provider.\n *\n * @param {Array}   post     Block list.\n * @param {boolean} template Whether the page content has focus (and the surrounding template is inert). If `true` return page content blocks. Default `false`.\n * @param {string}  mode     Rendering mode.\n *\n * @example\n * ```jsx\n * const [ blocks, onInput, onChange ] = useBlockEditorProps( post, template, mode );\n * ```\n *\n * @return {Array} Block editor props.\n */\nfunction useBlockEditorProps( post, template, mode ) {\n\tconst rootLevelPost =\n\t\tmode === 'post-only' || ! template ? 'post' : 'template';\n\tconst [ postBlocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\tpost.type,\n\t\t{ id: post.id }\n\t);\n\tconst [ templateBlocks, onInputTemplate, onChangeTemplate ] =\n\t\tuseEntityBlockEditor( 'postType', template?.type, {\n\t\t\tid: template?.id,\n\t\t} );\n\tconst maybeNavigationBlocks = useMemo( () => {\n\t\tif ( post.type === 'wp_navigation' ) {\n\t\t\treturn [\n\t\t\t\tcreateBlock( 'core/navigation', {\n\t\t\t\t\tref: post.id,\n\t\t\t\t\t// As the parent editor is locked with `templateLock`, the template locking\n\t\t\t\t\t// must be explicitly \"unset\" on the block itself to allow the user to modify\n\t\t\t\t\t// the block's content.\n\t\t\t\t\ttemplateLock: false,\n\t\t\t\t} ),\n\t\t\t];\n\t\t}\n\t}, [ post.type, post.id ] );\n\n\t// It is important that we don't create a new instance of blocks on every change\n\t// We should only create a new instance if the blocks them selves change, not a dependency of them.\n\tconst blocks = useMemo( () => {\n\t\tif ( maybeNavigationBlocks ) {\n\t\t\treturn maybeNavigationBlocks;\n\t\t}\n\n\t\tif ( rootLevelPost === 'template' ) {\n\t\t\treturn templateBlocks;\n\t\t}\n\n\t\treturn postBlocks;\n\t}, [ maybeNavigationBlocks, rootLevelPost, templateBlocks, postBlocks ] );\n\n\t// Handle fallback to postBlocks outside of the above useMemo, to ensure\n\t// that constructed block templates that call `createBlock` are not generated\n\t// too frequently. This ensures that clientIds are stable.\n\tconst disableRootLevelChanges =\n\t\t( !! template && mode === 'template-locked' ) ||\n\t\tpost.type === 'wp_navigation';\n\tif ( disableRootLevelChanges ) {\n\t\treturn [ blocks, noop, noop ];\n\t}\n\n\treturn [\n\t\tblocks,\n\t\trootLevelPost === 'post' ? onInput : onInputTemplate,\n\t\trootLevelPost === 'post' ? onChange : onChangeTemplate,\n\t];\n}\n\n/**\n * This component provides the editor context and manages the state of the block editor.\n *\n * @param {Object}  props                                The component props.\n * @param {Object}  props.post                           The post object.\n * @param {Object}  props.settings                       The editor settings.\n * @param {boolean} props.recovery                       Indicates if the editor is in recovery mode.\n * @param {Array}   props.initialEdits                   The initial edits for the editor.\n * @param {Object}  props.children                       The child components.\n * @param {Object}  [props.BlockEditorProviderComponent] The block editor provider component to use. Defaults to ExperimentalBlockEditorProvider.\n * @param {Object}  [props.__unstableTemplate]           The template object.\n *\n * @example\n * ```jsx\n * <ExperimentalEditorProvider\n *   post={ post }\n *   settings={ settings }\n *   recovery={ recovery }\n *   initialEdits={ initialEdits }\n *   __unstableTemplate={ template }\n * >\n *   { children }\n * </ExperimentalEditorProvider>\n *\n * @return {Object} The rendered ExperimentalEditorProvider component.\n */\nexport const ExperimentalEditorProvider = withRegistryProvider(\n\t( {\n\t\tpost,\n\t\tsettings,\n\t\trecovery,\n\t\tinitialEdits,\n\t\tchildren,\n\t\tBlockEditorProviderComponent = ExperimentalBlockEditorProvider,\n\t\t__unstableTemplate: template,\n\t} ) => {\n\t\tconst { editorSettings, selection, isReady, mode, postTypes } =\n\t\t\tuseSelect( ( select ) => {\n\t\t\t\tconst {\n\t\t\t\t\tgetEditorSettings,\n\t\t\t\t\tgetEditorSelection,\n\t\t\t\t\tgetRenderingMode,\n\t\t\t\t\t__unstableIsEditorReady,\n\t\t\t\t} = select( editorStore );\n\t\t\t\tconst { getPostTypes } = select( coreStore );\n\n\t\t\t\treturn {\n\t\t\t\t\teditorSettings: getEditorSettings(),\n\t\t\t\t\tisReady: __unstableIsEditorReady(),\n\t\t\t\t\tmode: getRenderingMode(),\n\t\t\t\t\tselection: getEditorSelection(),\n\t\t\t\t\tpostTypes: getPostTypes( { per_page: -1 } ),\n\t\t\t\t};\n\t\t\t}, [] );\n\t\tconst shouldRenderTemplate = !! template && mode !== 'post-only';\n\t\tconst rootLevelPost = shouldRenderTemplate ? template : post;\n\t\tconst defaultBlockContext = useMemo( () => {\n\t\t\tconst postContext = {};\n\t\t\t// If it is a template, try to inherit the post type from the slug.\n\t\t\tif ( post.type === 'wp_template' ) {\n\t\t\t\tif ( post.slug === 'page' ) {\n\t\t\t\t\tpostContext.postType = 'page';\n\t\t\t\t} else if ( post.slug === 'single' ) {\n\t\t\t\t\tpostContext.postType = 'post';\n\t\t\t\t} else if ( post.slug.split( '-' )[ 0 ] === 'single' ) {\n\t\t\t\t\t// If the slug is single-{postType}, infer the post type from the slug.\n\t\t\t\t\tconst postTypesSlugs =\n\t\t\t\t\t\tpostTypes?.map( ( entity ) => entity.slug ) || [];\n\t\t\t\t\tconst match = post.slug.match(\n\t\t\t\t\t\t`^single-(${ postTypesSlugs.join( '|' ) })(?:-.+)?$`\n\t\t\t\t\t);\n\t\t\t\t\tif ( match ) {\n\t\t\t\t\t\tpostContext.postType = match[ 1 ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\t! NON_CONTEXTUAL_POST_TYPES.includes( rootLevelPost.type ) ||\n\t\t\t\tshouldRenderTemplate\n\t\t\t) {\n\t\t\t\tpostContext.postId = post.id;\n\t\t\t\tpostContext.postType = post.type;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...postContext,\n\t\t\t\ttemplateSlug:\n\t\t\t\t\trootLevelPost.type === 'wp_template'\n\t\t\t\t\t\t? rootLevelPost.slug\n\t\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t}, [\n\t\t\tshouldRenderTemplate,\n\t\t\tpost.id,\n\t\t\tpost.type,\n\t\t\trootLevelPost.type,\n\t\t\trootLevelPost.slug,\n\t\t\tpostTypes,\n\t\t] );\n\t\tconst { id, type } = rootLevelPost;\n\t\tconst blockEditorSettings = useBlockEditorSettings(\n\t\t\teditorSettings,\n\t\t\ttype,\n\t\t\tid,\n\t\t\tmode\n\t\t);\n\t\tconst [ blocks, onInput, onChange ] = useBlockEditorProps(\n\t\t\tpost,\n\t\t\ttemplate,\n\t\t\tmode\n\t\t);\n\n\t\tconst {\n\t\t\tupdatePostLock,\n\t\t\tsetupEditor,\n\t\t\tupdateEditorSettings,\n\t\t\tsetCurrentTemplateId,\n\t\t\tsetEditedPost,\n\t\t\tsetRenderingMode,\n\t\t} = unlock( useDispatch( editorStore ) );\n\t\tconst { createWarningNotice } = useDispatch( noticesStore );\n\n\t\t// Ideally this should be synced on each change and not just something you do once.\n\t\tuseLayoutEffect( () => {\n\t\t\t// Assume that we don't need to initialize in the case of an error recovery.\n\t\t\tif ( recovery ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdatePostLock( settings.postLock );\n\t\t\tsetupEditor( post, initialEdits, settings.template );\n\t\t\tif ( settings.autosave ) {\n\t\t\t\tcreateWarningNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'There is an autosave of this post that is more recent than the version below.'\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'autosave-exists',\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'View the autosave' ),\n\t\t\t\t\t\t\t\turl: settings.autosave.editLink,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}, [] );\n\n\t\t// Synchronizes the active post with the state\n\t\tuseEffect( () => {\n\t\t\tsetEditedPost( post.type, post.id );\n\t\t}, [ post.type, post.id, setEditedPost ] );\n\n\t\t// Synchronize the editor settings as they change.\n\t\tuseEffect( () => {\n\t\t\tupdateEditorSettings( settings );\n\t\t}, [ settings, updateEditorSettings ] );\n\n\t\t// Synchronizes the active template with the state.\n\t\tuseEffect( () => {\n\t\t\tsetCurrentTemplateId( template?.id );\n\t\t}, [ template?.id, setCurrentTemplateId ] );\n\n\t\t// Sets the right rendering mode when loading the editor.\n\t\tuseEffect( () => {\n\t\t\tsetRenderingMode( settings.defaultRenderingMode ?? 'post-only' );\n\t\t}, [ settings.defaultRenderingMode, setRenderingMode ] );\n\n\t\tuseHideBlocksFromInserter( post.type, mode );\n\n\t\t// Register the editor commands.\n\t\tuseCommands();\n\n\t\tif ( ! isReady ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t<EntityProvider\n\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\ttype={ post.type }\n\t\t\t\t\tid={ post.id }\n\t\t\t\t>\n\t\t\t\t\t<BlockContextProvider value={ defaultBlockContext }>\n\t\t\t\t\t\t<BlockEditorProviderComponent\n\t\t\t\t\t\t\tvalue={ blocks }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tonInput={ onInput }\n\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\tsettings={ blockEditorSettings }\n\t\t\t\t\t\t\tuseSubRegistry={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t\t{ ! settings.__unstableIsPreviewMode && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<PatternsMenuItems />\n\t\t\t\t\t\t\t\t\t<TemplatePartMenuItems />\n\t\t\t\t\t\t\t\t\t<ContentOnlySettingsMenu />\n\t\t\t\t\t\t\t\t\t{ mode === 'template-locked' && (\n\t\t\t\t\t\t\t\t\t\t<DisableNonPageContentBlocks />\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ type === 'wp_navigation' && (\n\t\t\t\t\t\t\t\t\t\t<NavigationBlockEditingMode />\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t<EditorKeyboardShortcuts />\n\t\t\t\t\t\t\t\t\t<KeyboardShortcutHelpModal />\n\t\t\t\t\t\t\t\t\t<BlockRemovalWarnings />\n\t\t\t\t\t\t\t\t\t<StartPageOptions />\n\t\t\t\t\t\t\t\t\t<StartTemplateOptions />\n\t\t\t\t\t\t\t\t\t<PatternRenameModal />\n\t\t\t\t\t\t\t\t\t<PatternDuplicateModal />\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BlockEditorProviderComponent>\n\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t</EntityProvider>\n\t\t\t</EntityProvider>\n\t\t);\n\t}\n);\n\n/**\n * This component establishes a new post editing context, and serves as the entry point for a new post editor (or post with template editor).\n *\n * It supports a large number of post types, including post, page, templates,\n * custom post types, patterns, template parts.\n *\n * All modification and changes are performed to the `@wordpress/core-data` store.\n *\n * @param {Object}  props                      The component props.\n * @param {Object}  [props.post]               The post object to edit. This is required.\n * @param {Object}  [props.__unstableTemplate] The template object wrapper the edited post.\n *                                             This is optional and can only be used when the post type supports templates (like posts and pages).\n * @param {Object}  [props.settings]           The settings object to use for the editor.\n *                                             This is optional and can be used to override the default settings.\n * @param {Element} [props.children]           Children elements for which the BlockEditorProvider context should apply.\n *                                             This is optional.\n *\n * @example\n * ```jsx\n * <EditorProvider\n *   post={ post }\n *   settings={ settings }\n *   __unstableTemplate={ template }\n * >\n *   { children }\n * </EditorProvider>\n * ```\n *\n * @return {JSX.Element} The rendered EditorProvider component.\n */\nexport function EditorProvider( props ) {\n\treturn (\n\t\t<ExperimentalEditorProvider\n\t\t\t{ ...props }\n\t\t\tBlockEditorProviderComponent={ BlockEditorProvider }\n\t\t>\n\t\t\t{ props.children }\n\t\t</ExperimentalEditorProvider>\n\t);\n}\n\nexport default EditorProvider;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"serverSideRender\"];","// Block Creation Components.\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\nimport {\n\tAutocomplete as RootAutocomplete,\n\tAlignmentToolbar as RootAlignmentToolbar,\n\tBlockAlignmentToolbar as RootBlockAlignmentToolbar,\n\tBlockControls as RootBlockControls,\n\tBlockEdit as RootBlockEdit,\n\tBlockEditorKeyboardShortcuts as RootBlockEditorKeyboardShortcuts,\n\tBlockFormatControls as RootBlockFormatControls,\n\tBlockIcon as RootBlockIcon,\n\tBlockInspector as RootBlockInspector,\n\tBlockList as RootBlockList,\n\tBlockMover as RootBlockMover,\n\tBlockNavigationDropdown as RootBlockNavigationDropdown,\n\tBlockSelectionClearer as RootBlockSelectionClearer,\n\tBlockSettingsMenu as RootBlockSettingsMenu,\n\tBlockTitle as RootBlockTitle,\n\tBlockToolbar as RootBlockToolbar,\n\tColorPalette as RootColorPalette,\n\tContrastChecker as RootContrastChecker,\n\tCopyHandler as RootCopyHandler,\n\tcreateCustomColorsHOC as rootCreateCustomColorsHOC,\n\tDefaultBlockAppender as RootDefaultBlockAppender,\n\tFontSizePicker as RootFontSizePicker,\n\tgetColorClassName as rootGetColorClassName,\n\tgetColorObjectByAttributeValues as rootGetColorObjectByAttributeValues,\n\tgetColorObjectByColorValue as rootGetColorObjectByColorValue,\n\tgetFontSize as rootGetFontSize,\n\tgetFontSizeClass as rootGetFontSizeClass,\n\tInserter as RootInserter,\n\tInnerBlocks as RootInnerBlocks,\n\tInspectorAdvancedControls as RootInspectorAdvancedControls,\n\tInspectorControls as RootInspectorControls,\n\tPanelColorSettings as RootPanelColorSettings,\n\tPlainText as RootPlainText,\n\tRichText as RootRichText,\n\tRichTextShortcut as RootRichTextShortcut,\n\tRichTextToolbarButton as RootRichTextToolbarButton,\n\t__unstableRichTextInputEvent as __unstableRootRichTextInputEvent,\n\tMediaPlaceholder as RootMediaPlaceholder,\n\tMediaUpload as RootMediaUpload,\n\tMediaUploadCheck as RootMediaUploadCheck,\n\tMultiSelectScrollIntoView as RootMultiSelectScrollIntoView,\n\tNavigableToolbar as RootNavigableToolbar,\n\tObserveTyping as RootObserveTyping,\n\tSkipToSelectedBlock as RootSkipToSelectedBlock,\n\tURLInput as RootURLInput,\n\tURLInputButton as RootURLInputButton,\n\tURLPopover as RootURLPopover,\n\tWarning as RootWarning,\n\tWritingFlow as RootWritingFlow,\n\twithColorContext as rootWithColorContext,\n\twithColors as rootWithColors,\n\twithFontSizes as rootWithFontSizes,\n} from '@wordpress/block-editor';\n\nexport { default as ServerSideRender } from '@wordpress/server-side-render';\n\nfunction deprecateComponent( name, Wrapped, staticsToHoist = [] ) {\n\tconst Component = forwardRef( ( props, ref ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\tsince: '5.3',\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn <Wrapped ref={ ref } { ...props } />;\n\t} );\n\n\tstaticsToHoist.forEach( ( staticName ) => {\n\t\tComponent[ staticName ] = deprecateComponent(\n\t\t\tname + '.' + staticName,\n\t\t\tWrapped[ staticName ]\n\t\t);\n\t} );\n\n\treturn Component;\n}\n\nfunction deprecateFunction( name, func ) {\n\treturn ( ...args ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\tsince: '5.3',\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn func( ...args );\n\t};\n}\n\n/**\n * @deprecated since 5.3, use `wp.blockEditor.RichText` instead.\n */\nconst RichText = deprecateComponent( 'RichText', RootRichText, [ 'Content' ] );\nRichText.isEmpty = deprecateFunction(\n\t'RichText.isEmpty',\n\tRootRichText.isEmpty\n);\n\nexport { RichText };\n\n/**\n * @deprecated since 5.3, use `wp.blockEditor.Autocomplete` instead.\n */\nexport const Autocomplete = deprecateComponent(\n\t'Autocomplete',\n\tRootAutocomplete\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.AlignmentToolbar` instead.\n */\nexport const AlignmentToolbar = deprecateComponent(\n\t'AlignmentToolbar',\n\tRootAlignmentToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockAlignmentToolbar` instead.\n */\nexport const BlockAlignmentToolbar = deprecateComponent(\n\t'BlockAlignmentToolbar',\n\tRootBlockAlignmentToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockControls` instead.\n */\nexport const BlockControls = deprecateComponent(\n\t'BlockControls',\n\tRootBlockControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockEdit` instead.\n */\nexport const BlockEdit = deprecateComponent( 'BlockEdit', RootBlockEdit );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockEditorKeyboardShortcuts` instead.\n */\nexport const BlockEditorKeyboardShortcuts = deprecateComponent(\n\t'BlockEditorKeyboardShortcuts',\n\tRootBlockEditorKeyboardShortcuts\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockFormatControls` instead.\n */\nexport const BlockFormatControls = deprecateComponent(\n\t'BlockFormatControls',\n\tRootBlockFormatControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockIcon` instead.\n */\nexport const BlockIcon = deprecateComponent( 'BlockIcon', RootBlockIcon );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockInspector` instead.\n */\nexport const BlockInspector = deprecateComponent(\n\t'BlockInspector',\n\tRootBlockInspector\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockList` instead.\n */\nexport const BlockList = deprecateComponent( 'BlockList', RootBlockList );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockMover` instead.\n */\nexport const BlockMover = deprecateComponent( 'BlockMover', RootBlockMover );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockNavigationDropdown` instead.\n */\nexport const BlockNavigationDropdown = deprecateComponent(\n\t'BlockNavigationDropdown',\n\tRootBlockNavigationDropdown\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockSelectionClearer` instead.\n */\nexport const BlockSelectionClearer = deprecateComponent(\n\t'BlockSelectionClearer',\n\tRootBlockSelectionClearer\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockSettingsMenu` instead.\n */\nexport const BlockSettingsMenu = deprecateComponent(\n\t'BlockSettingsMenu',\n\tRootBlockSettingsMenu\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockTitle` instead.\n */\nexport const BlockTitle = deprecateComponent( 'BlockTitle', RootBlockTitle );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.BlockToolbar` instead.\n */\nexport const BlockToolbar = deprecateComponent(\n\t'BlockToolbar',\n\tRootBlockToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.ColorPalette` instead.\n */\nexport const ColorPalette = deprecateComponent(\n\t'ColorPalette',\n\tRootColorPalette\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.ContrastChecker` instead.\n */\nexport const ContrastChecker = deprecateComponent(\n\t'ContrastChecker',\n\tRootContrastChecker\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.CopyHandler` instead.\n */\nexport const CopyHandler = deprecateComponent( 'CopyHandler', RootCopyHandler );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.DefaultBlockAppender` instead.\n */\nexport const DefaultBlockAppender = deprecateComponent(\n\t'DefaultBlockAppender',\n\tRootDefaultBlockAppender\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.FontSizePicker` instead.\n */\nexport const FontSizePicker = deprecateComponent(\n\t'FontSizePicker',\n\tRootFontSizePicker\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.Inserter` instead.\n */\nexport const Inserter = deprecateComponent( 'Inserter', RootInserter );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.InnerBlocks` instead.\n */\nexport const InnerBlocks = deprecateComponent( 'InnerBlocks', RootInnerBlocks, [\n\t'ButtonBlockAppender',\n\t'DefaultBlockAppender',\n\t'Content',\n] );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.InspectorAdvancedControls` instead.\n */\nexport const InspectorAdvancedControls = deprecateComponent(\n\t'InspectorAdvancedControls',\n\tRootInspectorAdvancedControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.InspectorControls` instead.\n */\nexport const InspectorControls = deprecateComponent(\n\t'InspectorControls',\n\tRootInspectorControls,\n\t[ 'Slot' ]\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.PanelColorSettings` instead.\n */\nexport const PanelColorSettings = deprecateComponent(\n\t'PanelColorSettings',\n\tRootPanelColorSettings\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.PlainText` instead.\n */\nexport const PlainText = deprecateComponent( 'PlainText', RootPlainText );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.RichTextShortcut` instead.\n */\nexport const RichTextShortcut = deprecateComponent(\n\t'RichTextShortcut',\n\tRootRichTextShortcut\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.RichTextToolbarButton` instead.\n */\nexport const RichTextToolbarButton = deprecateComponent(\n\t'RichTextToolbarButton',\n\tRootRichTextToolbarButton\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.__unstableRichTextInputEvent` instead.\n */\nexport const __unstableRichTextInputEvent = deprecateComponent(\n\t'__unstableRichTextInputEvent',\n\t__unstableRootRichTextInputEvent\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MediaPlaceholder` instead.\n */\nexport const MediaPlaceholder = deprecateComponent(\n\t'MediaPlaceholder',\n\tRootMediaPlaceholder\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MediaUpload` instead.\n */\nexport const MediaUpload = deprecateComponent( 'MediaUpload', RootMediaUpload );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MediaUploadCheck` instead.\n */\nexport const MediaUploadCheck = deprecateComponent(\n\t'MediaUploadCheck',\n\tRootMediaUploadCheck\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.MultiSelectScrollIntoView` instead.\n */\nexport const MultiSelectScrollIntoView = deprecateComponent(\n\t'MultiSelectScrollIntoView',\n\tRootMultiSelectScrollIntoView\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.NavigableToolbar` instead.\n */\nexport const NavigableToolbar = deprecateComponent(\n\t'NavigableToolbar',\n\tRootNavigableToolbar\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.ObserveTyping` instead.\n */\nexport const ObserveTyping = deprecateComponent(\n\t'ObserveTyping',\n\tRootObserveTyping\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.SkipToSelectedBlock` instead.\n */\nexport const SkipToSelectedBlock = deprecateComponent(\n\t'SkipToSelectedBlock',\n\tRootSkipToSelectedBlock\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.URLInput` instead.\n */\nexport const URLInput = deprecateComponent( 'URLInput', RootURLInput );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.URLInputButton` instead.\n */\nexport const URLInputButton = deprecateComponent(\n\t'URLInputButton',\n\tRootURLInputButton\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.URLPopover` instead.\n */\nexport const URLPopover = deprecateComponent( 'URLPopover', RootURLPopover );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.Warning` instead.\n */\nexport const Warning = deprecateComponent( 'Warning', RootWarning );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.WritingFlow` instead.\n */\nexport const WritingFlow = deprecateComponent( 'WritingFlow', RootWritingFlow );\n\n/**\n * @deprecated since 5.3, use `wp.blockEditor.createCustomColorsHOC` instead.\n */\nexport const createCustomColorsHOC = deprecateFunction(\n\t'createCustomColorsHOC',\n\trootCreateCustomColorsHOC\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getColorClassName` instead.\n */\nexport const getColorClassName = deprecateFunction(\n\t'getColorClassName',\n\trootGetColorClassName\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getColorObjectByAttributeValues` instead.\n */\nexport const getColorObjectByAttributeValues = deprecateFunction(\n\t'getColorObjectByAttributeValues',\n\trootGetColorObjectByAttributeValues\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getColorObjectByColorValue` instead.\n */\nexport const getColorObjectByColorValue = deprecateFunction(\n\t'getColorObjectByColorValue',\n\trootGetColorObjectByColorValue\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getFontSize` instead.\n */\nexport const getFontSize = deprecateFunction( 'getFontSize', rootGetFontSize );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.getFontSizeClass` instead.\n */\nexport const getFontSizeClass = deprecateFunction(\n\t'getFontSizeClass',\n\trootGetFontSizeClass\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.createCustomColorsHOC` instead.\n */\nexport const withColorContext = deprecateFunction(\n\t'withColorContext',\n\trootWithColorContext\n);\n/**\n * @deprecated since 5.3, use `wp.blockEditor.withColors` instead.\n */\nexport const withColors = deprecateFunction( 'withColors', rootWithColors );\n/**\n * @deprecated since 5.3, use `wp.blockEditor.withFontSizes` instead.\n */\nexport const withFontSizes = deprecateFunction(\n\t'withFontSizes',\n\trootWithFontSizes\n);\n","/**\n * Internal dependencies\n */\nimport EditorKeyboardShortcuts from './global-keyboard-shortcuts';\n\n// Block Creation Components.\nexport * from './autocompleters';\n\n// Post Related Components.\nexport { default as AutosaveMonitor } from './autosave-monitor';\nexport { default as DocumentBar } from './document-bar';\nexport { default as DocumentOutline } from './document-outline';\nexport { default as DocumentOutlineCheck } from './document-outline/check';\nexport { EditorKeyboardShortcuts };\nexport { default as EditorKeyboardShortcutsRegister } from './global-keyboard-shortcuts/register-shortcuts';\nexport { default as EditorHistoryRedo } from './editor-history/redo';\nexport { default as EditorHistoryUndo } from './editor-history/undo';\nexport { default as EditorNotices } from './editor-notices';\nexport { default as EditorSnackbars } from './editor-snackbars';\nexport { default as EntitiesSavedStates } from './entities-saved-states';\nexport { useIsDirty as useEntitiesSavedStatesIsDirty } from './entities-saved-states/hooks/use-is-dirty';\nexport { default as ErrorBoundary } from './error-boundary';\nexport { default as LocalAutosaveMonitor } from './local-autosave-monitor';\nexport { default as PageAttributesCheck } from './page-attributes/check';\nexport { default as PageAttributesOrder } from './page-attributes/order';\nexport { default as PageAttributesPanel } from './page-attributes/panel';\nexport { default as PageAttributesParent } from './page-attributes/parent';\nexport { default as PageTemplate } from './post-template/classic-theme';\nexport { default as PluginDocumentSettingPanel } from './plugin-document-setting-panel';\nexport { default as PluginBlockSettingsMenuItem } from './block-settings-menu/plugin-block-settings-menu-item';\nexport { default as PluginMoreMenuItem } from './plugin-more-menu-item';\nexport { default as PluginPostPublishPanel } from './plugin-post-publish-panel';\nexport { default as PluginPostStatusInfo } from './plugin-post-status-info';\nexport { default as PluginPrePublishPanel } from './plugin-pre-publish-panel';\nexport { default as PluginPreviewMenuItem } from './plugin-preview-menu-item';\nexport { default as PluginSidebar } from './plugin-sidebar';\nexport { default as PluginSidebarMoreMenuItem } from './plugin-sidebar-more-menu-item';\nexport { default as PostTemplatePanel } from './post-template/panel';\nexport { default as PostAuthor } from './post-author';\nexport { default as PostAuthorCheck } from './post-author/check';\nexport { default as PostAuthorPanel } from './post-author/panel';\nexport { default as PostComments } from './post-comments';\nexport { default as PostDiscussionPanel } from './post-discussion/panel';\nexport { default as PostExcerpt } from './post-excerpt';\nexport { default as PostExcerptCheck } from './post-excerpt/check';\nexport { default as PostExcerptPanel } from './post-excerpt/panel';\nexport { default as PostFeaturedImage } from './post-featured-image';\nexport { default as PostFeaturedImageCheck } from './post-featured-image/check';\nexport { default as PostFeaturedImagePanel } from './post-featured-image/panel';\nexport { default as PostFormat } from './post-format';\nexport { default as PostFormatCheck } from './post-format/check';\nexport { default as PostLastRevision } from './post-last-revision';\nexport { default as PostLastRevisionCheck } from './post-last-revision/check';\nexport { default as PostLastRevisionPanel } from './post-last-revision/panel';\nexport { default as PostLockedModal } from './post-locked-modal';\nexport { default as PostPendingStatus } from './post-pending-status';\nexport { default as PostPendingStatusCheck } from './post-pending-status/check';\nexport { default as PostPingbacks } from './post-pingbacks';\nexport { default as PostPreviewButton } from './post-preview-button';\nexport { default as PostPublishButton } from './post-publish-button';\nexport { default as PostPublishButtonLabel } from './post-publish-button/label';\nexport { default as PostPublishPanel } from './post-publish-panel';\nexport { default as PostSavedState } from './post-saved-state';\nexport { default as PostSchedule } from './post-schedule';\nexport { default as PostScheduleCheck } from './post-schedule/check';\nexport {\n\tdefault as PostScheduleLabel,\n\tusePostScheduleLabel,\n} from './post-schedule/label';\nexport { default as PostSchedulePanel } from './post-schedule/panel';\nexport { default as PostSlug } from './post-slug';\nexport { default as PostSlugCheck } from './post-slug/check';\nexport { default as PostSticky } from './post-sticky';\nexport { default as PostStickyCheck } from './post-sticky/check';\nexport { default as PostSwitchToDraftButton } from './post-switch-to-draft-button';\nexport { default as PostSyncStatus } from './post-sync-status';\nexport { default as PostTaxonomies } from './post-taxonomies';\nexport { FlatTermSelector as PostTaxonomiesFlatTermSelector } from './post-taxonomies/flat-term-selector';\nexport { HierarchicalTermSelector as PostTaxonomiesHierarchicalTermSelector } from './post-taxonomies/hierarchical-term-selector';\nexport { default as PostTaxonomiesCheck } from './post-taxonomies/check';\nexport { default as PostTaxonomiesPanel } from './post-taxonomies/panel';\nexport { default as PostTextEditor } from './post-text-editor';\nexport { default as PostTitle } from './post-title';\nexport { default as PostTitleRaw } from './post-title/post-title-raw';\nexport { default as PostTrash } from './post-trash';\nexport { default as PostTrashCheck } from './post-trash/check';\nexport { default as PostTypeSupportCheck } from './post-type-support-check';\nexport { default as PostURL } from './post-url';\nexport { default as PostURLCheck } from './post-url/check';\nexport { default as PostURLLabel, usePostURLLabel } from './post-url/label';\nexport { default as PostURLPanel } from './post-url/panel';\nexport { default as PostVisibility } from './post-visibility';\nexport {\n\tdefault as PostVisibilityLabel,\n\tusePostVisibilityLabel,\n} from './post-visibility/label';\nexport { default as PostVisibilityCheck } from './post-visibility/check';\nexport { default as TableOfContents } from './table-of-contents';\nexport { default as ThemeSupportCheck } from './theme-support-check';\nexport { default as UnsavedChangesWarning } from './unsaved-changes-warning';\nexport { default as WordCount } from './word-count';\nexport { default as TimeToRead } from './time-to-read';\nexport { default as CharacterCount } from './character-count';\n\n// State Related Components.\nexport { default as EditorProvider } from './provider';\n\nexport * from './deprecated';\n\n/**\n * Handles the keyboard shortcuts for the editor.\n *\n * It provides functionality for various keyboard shortcuts such as toggling editor mode,\n * toggling distraction-free mode, undo/redo, saving the post, toggling list view,\n * and toggling the sidebar.\n */\nexport const VisualEditorGlobalKeyboardShortcuts = EditorKeyboardShortcuts;\n\n/**\n * Handles the keyboard shortcuts for the editor.\n *\n * It provides functionality for various keyboard shortcuts such as toggling editor mode,\n * toggling distraction-free mode, undo/redo, saving the post, toggling list view,\n * and toggling the sidebar.\n */\nexport const TextEditorGlobalKeyboardShortcuts = EditorKeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport { cleanForSlug as urlCleanForSlug } from '@wordpress/url';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Performs some basic cleanup of a string for use as a post slug\n *\n * This replicates some of what sanitize_title() does in WordPress core, but\n * is only designed to approximate what the slug will be.\n *\n * Converts Latin-1 Supplement and Latin Extended-A letters to basic Latin letters.\n * Removes combining diacritical marks. Converts whitespace, periods,\n * and forward slashes to hyphens. Removes any remaining non-word characters\n * except hyphens and underscores. Converts remaining string to lowercase.\n * It does not account for octets, HTML entities, or other encoded characters.\n *\n * @param {string} string Title or slug to be processed\n *\n * @return {string} Processed string\n */\nexport function cleanForSlug( string ) {\n\tdeprecated( 'wp.editor.cleanForSlug', {\n\t\tsince: '12.7',\n\t\tplugin: 'Gutenberg',\n\t\talternative: 'wp.url.cleanForSlug',\n\t} );\n\treturn urlCleanForSlug( string );\n}\n","/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { createPrivateSlotFill } = unlock( componentsPrivateApis );\nconst SLOT_FILL_NAME = 'EditCanvasContainerSlot';\nconst EditorContentSlotFill = createPrivateSlotFill( SLOT_FILL_NAME );\n\nexport default EditorContentSlotFill;\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalUseSlotFills as useSlotFills,\n\tcreateSlotFill,\n} from '@wordpress/components';\n\n// Keeping an old name for backward compatibility.\nconst slotName = '__experimentalMainDashboardButton';\n\nexport const useHasBackButton = () => {\n\tconst fills = useSlotFills( slotName );\n\treturn Boolean( fills && fills.length );\n};\n\nconst { Fill, Slot } = createSlotFill( slotName );\n\nconst BackButton = Fill;\nconst BackButtonSlot = () => {\n\tconst fills = useSlotFills( slotName );\n\n\treturn (\n\t\t<Slot\n\t\t\tbubblesVirtually\n\t\t\tfillProps={ { length: ! fills ? 0 : fills.length } }\n\t\t/>\n\t);\n};\nBackButton.Slot = BackButtonSlot;\n\nexport default BackButton;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst next = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z\" />\n\t</SVG>\n);\n\nexport default next;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst previous = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z\" />\n\t</SVG>\n);\n\nexport default previous;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockToolbar,\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport { Button, Popover } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { next, previous } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst { useHasBlockToolbar } = unlock( blockEditorPrivateApis );\n\nexport default function CollapsibleBlockToolbar( { isCollapsed, onToggle } ) {\n\tconst { blockSelectionStart } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tblockSelectionStart:\n\t\t\t\tselect( blockEditorStore ).getBlockSelectionStart(),\n\t\t};\n\t}, [] );\n\tconst hasBlockToolbar = useHasBlockToolbar();\n\n\tconst hasBlockSelection = !! blockSelectionStart;\n\n\tuseEffect( () => {\n\t\t// If we have a new block selection, show the block tools\n\t\tif ( blockSelectionStart ) {\n\t\t\tonToggle( false );\n\t\t}\n\t}, [ blockSelectionStart, onToggle ] );\n\n\tif ( ! hasBlockToolbar ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={ clsx( 'editor-collapsible-block-toolbar', {\n\t\t\t\t\t'is-collapsed': isCollapsed || ! hasBlockSelection,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t</div>\n\t\t\t<Popover.Slot name=\"block-toolbar\" />\n\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-collapsible-block-toolbar__toggle\"\n\t\t\t\ticon={ isCollapsed ? next : previous }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tonToggle( ! isCollapsed );\n\t\t\t\t} }\n\t\t\t\tlabel={\n\t\t\t\t\tisCollapsed\n\t\t\t\t\t\t? __( 'Show block tools' )\n\t\t\t\t\t\t: __( 'Hide block tools' )\n\t\t\t\t}\n\t\t\t\tsize=\"compact\"\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tNavigableToolbar,\n\tToolSelector,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { Button, ToolbarItem } from '@wordpress/components';\nimport { listView, plus } from '@wordpress/icons';\nimport { useCallback } from '@wordpress/element';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport EditorHistoryRedo from '../editor-history/redo';\nimport EditorHistoryUndo from '../editor-history/undo';\n\nfunction DocumentTools( { className, disableBlockTools = false } ) {\n\tconst { setIsInserterOpened, setIsListViewOpened } =\n\t\tuseDispatch( editorStore );\n\tconst {\n\t\tisDistractionFree,\n\t\tisInserterOpened,\n\t\tisListViewOpen,\n\t\tlistViewShortcut,\n\t\tinserterSidebarToggleRef,\n\t\tlistViewToggleRef,\n\t\tshowIconLabels,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst {\n\t\t\tisListViewOpened,\n\t\t\tgetEditorMode,\n\t\t\tgetInserterSidebarToggleRef,\n\t\t\tgetListViewToggleRef,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\t\tconst { __unstableGetEditorMode } = select( blockEditorStore );\n\n\t\treturn {\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tlistViewShortcut: getShortcutRepresentation(\n\t\t\t\t'core/editor/toggle-list-view'\n\t\t\t),\n\t\t\tinserterSidebarToggleRef: getInserterSidebarToggleRef(),\n\t\t\tlistViewToggleRef: getListViewToggleRef(),\n\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tisVisualMode: getEditorMode() === 'visual',\n\t\t\tisZoomedOutView: __unstableGetEditorMode() === 'zoom-out',\n\t\t};\n\t}, [] );\n\n\tconst preventDefault = ( event ) => {\n\t\t// Because the inserter behaves like a dialog,\n\t\t// if the inserter is opened already then when we click on the toggle button\n\t\t// then the initial click event will close the inserter and then be propagated\n\t\t// to the inserter toggle and it will open it again.\n\t\t// To prevent this we need to stop the propagation of the event.\n\t\t// This won't be necessary when the inserter no longer behaves like a dialog.\n\n\t\tif ( isInserterOpened ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t};\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst isWideViewport = useViewportMatch( 'wide' );\n\n\t/* translators: accessibility text for the editor toolbar */\n\tconst toolbarAriaLabel = __( 'Document tools' );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst toggleInserter = useCallback(\n\t\t() => setIsInserterOpened( ! isInserterOpened ),\n\t\t[ isInserterOpened, setIsInserterOpened ]\n\t);\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst longLabel = _x(\n\t\t'Toggle block inserter',\n\t\t'Generic label for block inserter button'\n\t);\n\tconst shortLabel = ! isInserterOpened ? __( 'Add' ) : __( 'Close' );\n\n\treturn (\n\t\t// Some plugins expect and use the `edit-post-header-toolbar` CSS class to\n\t\t// find the toolbar and inject UI elements into it. This is not officially\n\t\t// supported, but we're keeping it in the list of class names for backwards\n\t\t// compatibility.\n\t\t<NavigableToolbar\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-document-tools',\n\t\t\t\t'edit-post-header-toolbar',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\taria-label={ toolbarAriaLabel }\n\t\t\tvariant=\"unstyled\"\n\t\t>\n\t\t\t<div className=\"editor-document-tools__left\">\n\t\t\t\t{ ! isDistractionFree && (\n\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\tref={ inserterSidebarToggleRef }\n\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\tclassName=\"editor-document-tools__inserter-toggle\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisPressed={ isInserterOpened }\n\t\t\t\t\t\tonMouseDown={ preventDefault }\n\t\t\t\t\t\tonClick={ toggleInserter }\n\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\tlabel={ showIconLabels ? shortLabel : longLabel }\n\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\taria-expanded={ isInserterOpened }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( isWideViewport || ! showIconLabels ) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ ToolSelector }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ EditorHistoryUndo }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ EditorHistoryRedo }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ ! isDistractionFree && (\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\t\tclassName=\"editor-document-tools__document-overview-toggle\"\n\t\t\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\t\tlabel={ __( 'Document Overview' ) }\n\t\t\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\t\t\tshortcut={ listViewShortcut }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-expanded={ isListViewOpen }\n\t\t\t\t\t\t\t\tref={ listViewToggleRef }\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</NavigableToolbar>\n\t);\n}\n\nexport default DocumentTools;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst moreVertical = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\" />\n\t</SVG>\n);\n\nexport default moreVertical;\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function CopyContentMenuItem() {\n\tconst { createNotice } = useDispatch( noticesStore );\n\tconst { getCurrentPostId, getCurrentPostType } = useSelect( editorStore );\n\tconst { getEditedEntityRecord } = useSelect( coreStore );\n\n\tfunction getText() {\n\t\tconst record = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tgetCurrentPostType(),\n\t\t\tgetCurrentPostId()\n\t\t);\n\t\tif ( ! record ) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif ( typeof record.content === 'function' ) {\n\t\t\treturn record.content( record );\n\t\t} else if ( record.blocks ) {\n\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t} else if ( record.content ) {\n\t\t\treturn record.content;\n\t\t}\n\t}\n\n\tfunction onSuccess() {\n\t\tcreateNotice( 'info', __( 'All content copied.' ), {\n\t\t\tisDismissible: true,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tconst ref = useCopyToClipboard( getText, onSuccess );\n\n\treturn <MenuItem ref={ ref }>{ __( 'Copy all blocks' ) }</MenuItem>;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItemsChoice, MenuGroup } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Set of available mode options.\n *\n * @type {Array}\n */\nconst MODES = [\n\t{\n\t\tvalue: 'visual',\n\t\tlabel: __( 'Visual editor' ),\n\t},\n\t{\n\t\tvalue: 'text',\n\t\tlabel: __( 'Code editor' ),\n\t},\n];\n\nfunction ModeSwitcher() {\n\tconst { shortcut, isRichEditingEnabled, isCodeEditingEnabled, mode } =\n\t\tuseSelect(\n\t\t\t( select ) => ( {\n\t\t\t\tshortcut: select(\n\t\t\t\t\tkeyboardShortcutsStore\n\t\t\t\t).getShortcutRepresentation( 'core/editor/toggle-mode' ),\n\t\t\t\tisRichEditingEnabled:\n\t\t\t\t\tselect( editorStore ).getEditorSettings()\n\t\t\t\t\t\t.richEditingEnabled,\n\t\t\t\tisCodeEditingEnabled:\n\t\t\t\t\tselect( editorStore ).getEditorSettings()\n\t\t\t\t\t\t.codeEditingEnabled,\n\t\t\t\tmode: select( editorStore ).getEditorMode(),\n\t\t\t} ),\n\t\t\t[]\n\t\t);\n\tconst { switchEditorMode } = useDispatch( editorStore );\n\n\tlet selectedMode = mode;\n\tif ( ! isRichEditingEnabled && mode === 'visual' ) {\n\t\tselectedMode = 'text';\n\t}\n\tif ( ! isCodeEditingEnabled && mode === 'text' ) {\n\t\tselectedMode = 'visual';\n\t}\n\n\tconst choices = MODES.map( ( choice ) => {\n\t\tif ( ! isCodeEditingEnabled && choice.value === 'text' ) {\n\t\t\tchoice = {\n\t\t\t\t...choice,\n\t\t\t\tdisabled: true,\n\t\t\t};\n\t\t}\n\t\tif ( ! isRichEditingEnabled && choice.value === 'visual' ) {\n\t\t\tchoice = {\n\t\t\t\t...choice,\n\t\t\t\tdisabled: true,\n\t\t\t\tinfo: __(\n\t\t\t\t\t'You can enable the visual editor in your profile settings.'\n\t\t\t\t),\n\t\t\t};\n\t\t}\n\t\tif ( choice.value !== selectedMode && ! choice.disabled ) {\n\t\t\treturn { ...choice, shortcut };\n\t\t}\n\t\treturn choice;\n\t} );\n\n\treturn (\n\t\t<MenuGroup label={ __( 'Editor' ) }>\n\t\t\t<MenuItemsChoice\n\t\t\t\tchoices={ choices }\n\t\t\t\tvalue={ selectedMode }\n\t\t\t\tonSelect={ switchEditorMode }\n\t\t\t/>\n\t\t</MenuGroup>\n\t);\n}\n\nexport default ModeSwitcher;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\n\nconst { Fill: ToolsMoreMenuGroup, Slot } =\n\tcreateSlotFill( 'ToolsMoreMenuGroup' );\n\nToolsMoreMenuGroup.Slot = ( { fillProps } ) => <Slot fillProps={ fillProps } />;\n\nexport default ToolsMoreMenuGroup;\n","/**\n * WordPress dependencies\n */\nimport { createSlotFill } from '@wordpress/components';\nimport { Platform } from '@wordpress/element';\n\nconst { Fill: ViewMoreMenuGroup, Slot } = createSlotFill(\n\tPlatform.OS === 'web' ? Symbol( 'ViewMoreMenuGroup' ) : 'ViewMoreMenuGroup'\n);\n\nViewMoreMenuGroup.Slot = ( { fillProps } ) => <Slot fillProps={ fillProps } />;\n\nexport default ViewMoreMenuGroup;\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { external, moreVertical } from '@wordpress/icons';\nimport {\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n\tDropdownMenu,\n} from '@wordpress/components';\nimport {\n\tPreferenceToggleMenuItem,\n\tstore as preferencesStore,\n} from '@wordpress/preferences';\nimport { store as interfaceStore, ActionItem } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport CopyContentMenuItem from './copy-content-menu-item';\nimport ModeSwitcher from '../mode-switcher';\nimport ToolsMoreMenuGroup from './tools-more-menu-group';\nimport ViewMoreMenuGroup from './view-more-menu-group';\nimport { store as editorStore } from '../../store';\n\nexport default function MoreMenu() {\n\tconst { openModal } = useDispatch( interfaceStore );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\tconst { toggleDistractionFree } = useDispatch( editorStore );\n\tconst showIconLabels = useSelect(\n\t\t( select ) =>\n\t\t\tselect( preferencesStore ).get( 'core', 'showIconLabels' ),\n\t\t[]\n\t);\n\tconst turnOffDistractionFree = () => {\n\t\tsetPreference( 'core', 'distractionFree', false );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<DropdownMenu\n\t\t\t\ticon={ moreVertical }\n\t\t\t\tlabel={ __( 'Options' ) }\n\t\t\t\tpopoverProps={ {\n\t\t\t\t\tplacement: 'bottom-end',\n\t\t\t\t\tclassName: 'more-menu-dropdown__content',\n\t\t\t\t} }\n\t\t\t\ttoggleProps={ {\n\t\t\t\t\tshowTooltip: ! showIconLabels,\n\t\t\t\t\t...( showIconLabels && { variant: 'tertiary' } ),\n\t\t\t\t\ttooltipPosition: 'bottom',\n\t\t\t\t\tsize: 'compact',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<MenuGroup label={ _x( 'View', 'noun' ) }>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tname=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tonToggle={ turnOffDistractionFree }\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t\tinfo={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Top toolbar deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tname=\"distractionFree\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Distraction free' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Write with calmness' ) }\n\t\t\t\t\t\t\t\thandleToggling={ false }\n\t\t\t\t\t\t\t\tonToggle={ toggleDistractionFree }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Distraction free mode activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Distraction free mode deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.primaryShift(\n\t\t\t\t\t\t\t\t\t'\\\\'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleMenuItem\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tname=\"focusMode\"\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t\tinfo={ __( 'Focus on one block at a time' ) }\n\t\t\t\t\t\t\t\tmessageActivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode activated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tmessageDeactivated={ __(\n\t\t\t\t\t\t\t\t\t'Spotlight mode deactivated'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ViewMoreMenuGroup.Slot fillProps={ { onClose } } />\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<ModeSwitcher />\n\t\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\t\tname=\"core/plugin-more-menu\"\n\t\t\t\t\t\t\tlabel={ __( 'Plugins' ) }\n\t\t\t\t\t\t\tas={ MenuGroup }\n\t\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<MenuGroup label={ __( 'Tools' ) }>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\topenModal( 'editor/keyboard-shortcut-help' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tshortcut={ displayShortcut.access( 'h' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Keyboard shortcuts' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<CopyContentMenuItem />\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/wordpress-block-editor/'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Help' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t<ToolsMoreMenuGroup.Slot\n\t\t\t\t\t\t\t\tfillProps={ { onClose } }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\topenModal( 'editor/preferences' )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Preferences' ) }\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</DropdownMenu>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useViewportMatch, compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostPublishButton from './index';\nimport { store as editorStore } from '../../store';\n\nexport function PostPublishButtonOrToggle( {\n\tforceIsDirty,\n\thasPublishAction,\n\tisBeingScheduled,\n\tisPending,\n\tisPublished,\n\tisPublishSidebarEnabled,\n\tisPublishSidebarOpened,\n\tisScheduled,\n\ttogglePublishSidebar,\n\tsetEntitiesSavedStatesCallback,\n\tpostStatusHasChanged,\n\tpostStatus,\n} ) {\n\tconst IS_TOGGLE = 'toggle';\n\tconst IS_BUTTON = 'button';\n\tconst isSmallerThanMediumViewport = useViewportMatch( 'medium', '<' );\n\tlet component;\n\n\t/**\n\t * Conditions to show a BUTTON (publish directly) or a TOGGLE (open publish sidebar):\n\t *\n\t * 1) We want to show a BUTTON when the post status is at the _final stage_\n\t * for a particular role (see https://wordpress.org/documentation/article/post-status/):\n\t *\n\t * - is published\n\t * - post status has changed explicitely to something different than 'future' or 'publish'\n\t * - is scheduled to be published\n\t * - is pending and can't be published (but only for viewports >= medium).\n\t * \t Originally, we considered showing a button for pending posts that couldn't be published\n\t * \t (for example, for an author with the contributor role). Some languages can have\n\t * \t long translations for \"Submit for review\", so given the lack of UI real estate available\n\t * \t we decided to take into account the viewport in that case.\n\t *  \t See: https://github.com/WordPress/gutenberg/issues/10475\n\t *\n\t * 2) Then, in small viewports, we'll show a TOGGLE.\n\t *\n\t * 3) Finally, we'll use the publish sidebar status to decide:\n\t *\n\t * - if it is enabled, we show a TOGGLE\n\t * - if it is disabled, we show a BUTTON\n\t */\n\tif (\n\t\tisPublished ||\n\t\t( postStatusHasChanged &&\n\t\t\t! [ 'future', 'publish' ].includes( postStatus ) ) ||\n\t\t( isScheduled && isBeingScheduled ) ||\n\t\t( isPending && ! hasPublishAction && ! isSmallerThanMediumViewport )\n\t) {\n\t\tcomponent = IS_BUTTON;\n\t} else if ( isSmallerThanMediumViewport || isPublishSidebarEnabled ) {\n\t\tcomponent = IS_TOGGLE;\n\t} else {\n\t\tcomponent = IS_BUTTON;\n\t}\n\n\treturn (\n\t\t<PostPublishButton\n\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\tisOpen={ isPublishSidebarOpened }\n\t\t\tisToggle={ component === IS_TOGGLE }\n\t\t\tonToggle={ togglePublishSidebar }\n\t\t\tsetEntitiesSavedStatesCallback={ setEntitiesSavedStatesCallback }\n\t\t/>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\thasPublishAction:\n\t\t\tselect( editorStore ).getCurrentPost()?._links?.[\n\t\t\t\t'wp:action-publish'\n\t\t\t] ?? false,\n\t\tisBeingScheduled: select( editorStore ).isEditedPostBeingScheduled(),\n\t\tisPending: select( editorStore ).isCurrentPostPending(),\n\t\tisPublished: select( editorStore ).isCurrentPostPublished(),\n\t\tisPublishSidebarEnabled:\n\t\t\tselect( editorStore ).isPublishSidebarEnabled(),\n\t\tisPublishSidebarOpened: select( editorStore ).isPublishSidebarOpened(),\n\t\tisScheduled: select( editorStore ).isCurrentPostScheduled(),\n\t\tpostStatus: select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\tpostStatusHasChanged: select( editorStore ).getPostEdits()?.status,\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { togglePublishSidebar } = dispatch( editorStore );\n\t\treturn {\n\t\t\ttogglePublishSidebar,\n\t\t};\n\t} )\n)( PostPublishButtonOrToggle );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { external } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostViewLink() {\n\tconst { hasLoaded, permalink, isPublished, label, showIconLabels } =\n\t\tuseSelect( ( select ) => {\n\t\t\t// Grab post type to retrieve the view_item label.\n\t\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\treturn {\n\t\t\t\tpermalink: select( editorStore ).getPermalink(),\n\t\t\t\tisPublished: select( editorStore ).isCurrentPostPublished(),\n\t\t\t\tlabel: postType?.labels.view_item,\n\t\t\t\thasLoaded: !! postType,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t}, [] );\n\n\t// Only render the view button if the post is published and has a permalink.\n\tif ( ! isPublished || ! permalink || ! hasLoaded ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\ticon={ external }\n\t\t\tlabel={ label || __( 'View post' ) }\n\t\t\thref={ permalink }\n\t\t\ttarget=\"_blank\"\n\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\tsize=\"compact\"\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst desktop = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z\" />\n\t</SVG>\n);\n\nexport default desktop;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst mobile = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z\" />\n\t</SVG>\n);\n\nexport default mobile;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst tablet = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z\" />\n\t</SVG>\n);\n\nexport default tablet;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tMenuItemsChoice,\n\tVisuallyHidden,\n\tIcon,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { desktop, mobile, tablet, external } from '@wordpress/icons';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { ActionItem } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport PostPreviewButton from '../post-preview-button';\nimport { unlock } from '../../lock-unlock';\n\nexport default function PreviewDropdown( { forceIsAutosaveable, disabled } ) {\n\tconst { deviceType, homeUrl, isTemplate, isViewable, showIconLabels } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getDeviceType, getCurrentPostType } = select( editorStore );\n\t\t\tconst { getEntityRecord, getPostType } = select( coreStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst _currentPostType = getCurrentPostType();\n\t\t\treturn {\n\t\t\t\tdeviceType: getDeviceType(),\n\t\t\t\thomeUrl: getEntityRecord( 'root', '__unstableBase' )?.home,\n\t\t\t\tisTemplate: _currentPostType === 'wp_template',\n\t\t\t\tisViewable: getPostType( _currentPostType )?.viewable ?? false,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t}, [] );\n\tconst { setDeviceType } = useDispatch( editorStore );\n\tconst { __unstableSetEditorMode } = useDispatch( blockEditorStore );\n\tconst { resetZoomLevel } = unlock( useDispatch( blockEditorStore ) );\n\n\tconst handleDevicePreviewChange = ( newDeviceType ) => {\n\t\tsetDeviceType( newDeviceType );\n\t\t__unstableSetEditorMode( 'edit' );\n\t\tresetZoomLevel();\n\t};\n\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\tif ( isMobile ) {\n\t\treturn null;\n\t}\n\n\tconst popoverProps = {\n\t\tplacement: 'bottom-end',\n\t};\n\tconst toggleProps = {\n\t\tclassName: 'editor-preview-dropdown__toggle',\n\t\ticonPosition: 'right',\n\t\tsize: 'compact',\n\t\tshowTooltip: ! showIconLabels,\n\t\tdisabled,\n\t\taccessibleWhenDisabled: disabled,\n\t};\n\tconst menuProps = {\n\t\t'aria-label': __( 'View options' ),\n\t};\n\n\tconst deviceIcons = {\n\t\tdesktop,\n\t\tmobile,\n\t\ttablet,\n\t};\n\n\t/**\n\t * The choices for the device type.\n\t *\n\t * @type {Array}\n\t */\n\tconst choices = [\n\t\t{\n\t\t\tvalue: 'Desktop',\n\t\t\tlabel: __( 'Desktop' ),\n\t\t\ticon: desktop,\n\t\t},\n\t\t{\n\t\t\tvalue: 'Tablet',\n\t\t\tlabel: __( 'Tablet' ),\n\t\t\ticon: tablet,\n\t\t},\n\t\t{\n\t\t\tvalue: 'Mobile',\n\t\t\tlabel: __( 'Mobile' ),\n\t\t\ticon: mobile,\n\t\t},\n\t];\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-preview-dropdown',\n\t\t\t\t`editor-preview-dropdown--${ deviceType.toLowerCase() }`\n\t\t\t) }\n\t\t\tpopoverProps={ popoverProps }\n\t\t\ttoggleProps={ toggleProps }\n\t\t\tmenuProps={ menuProps }\n\t\t\ticon={ deviceIcons[ deviceType.toLowerCase() ] }\n\t\t\tlabel={ __( 'View' ) }\n\t\t\tdisableOpenOnArrowDown={ disabled }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItemsChoice\n\t\t\t\t\t\t\tchoices={ choices }\n\t\t\t\t\t\t\tvalue={ deviceType }\n\t\t\t\t\t\t\tonSelect={ handleDevicePreviewChange }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t{ isTemplate && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'View site' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isViewable && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<PostPreviewButton\n\t\t\t\t\t\t\t\tclassName=\"editor-preview-dropdown__button-external\"\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\tforceIsAutosaveable={ forceIsAutosaveable }\n\t\t\t\t\t\t\t\taria-label={ __( 'Preview in new tab' ) }\n\t\t\t\t\t\t\t\ttextContent={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Preview in new tab' ) }\n\t\t\t\t\t\t\t\t\t\t<Icon icon={ external } />\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonPreview={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t<ActionItem.Slot\n\t\t\t\t\t\tname=\"core/plugin-preview-menu\"\n\t\t\t\t\t\tas={ MenuGroup }\n\t\t\t\t\t\tfillProps={ { onClick: onClose } }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst square = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n\t\t<Path\n\t\t\tfill=\"none\"\n\t\t\td=\"M5.75 12.75V18.25H11.25M12.75 5.75H18.25V11.25\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeWidth=\"1.5\"\n\t\t\tstrokeLinecap=\"square\"\n\t\t/>\n\t</SVG>\n);\n\nexport default square;\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { square as zoomOutIcon } from '@wordpress/icons';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst ZoomOutToggle = () => {\n\tconst { isZoomOut, showIconLabels } = useSelect( ( select ) => ( {\n\t\tisZoomOut: unlock( select( blockEditorStore ) ).isZoomOut(),\n\t\tshowIconLabels: select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'showIconLabels'\n\t\t),\n\t} ) );\n\n\tconst { resetZoomLevel, setZoomLevel, __unstableSetEditorMode } = unlock(\n\t\tuseDispatch( blockEditorStore )\n\t);\n\n\tconst handleZoomOut = () => {\n\t\tif ( isZoomOut ) {\n\t\t\tresetZoomLevel();\n\t\t} else {\n\t\t\tsetZoomLevel( 50 );\n\t\t}\n\t\t__unstableSetEditorMode( isZoomOut ? 'edit' : 'zoom-out' );\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\tonClick={ handleZoomOut }\n\t\t\ticon={ zoomOutIcon }\n\t\t\tlabel={ __( 'Zoom Out' ) }\n\t\t\tisPressed={ isZoomOut }\n\t\t\tsize=\"compact\"\n\t\t\tshowTooltip={ ! showIconLabels }\n\t\t/>\n\t);\n};\n\nexport default ZoomOutToggle;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMediaQuery, useViewportMatch } from '@wordpress/compose';\nimport { __unstableMotion as motion } from '@wordpress/components';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useState } from '@wordpress/element';\nimport { PinnedItems } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport BackButton, { useHasBackButton } from './back-button';\nimport CollapsibleBlockToolbar from '../collapsible-block-toolbar';\nimport DocumentBar from '../document-bar';\nimport DocumentTools from '../document-tools';\nimport MoreMenu from '../more-menu';\nimport PostPreviewButton from '../post-preview-button';\nimport PostPublishButtonOrToggle from '../post-publish-button/post-publish-button-or-toggle';\nimport PostSavedState from '../post-saved-state';\nimport PostViewLink from '../post-view-link';\nimport PreviewDropdown from '../preview-dropdown';\nimport ZoomOutToggle from '../zoom-out-toggle';\nimport { store as editorStore } from '../../store';\n\nconst toolbarVariations = {\n\tdistractionFreeDisabled: { y: '-50px' },\n\tdistractionFreeHover: { y: 0 },\n\tdistractionFreeHidden: { y: '-50px' },\n\tvisible: { y: 0 },\n\thidden: { y: 0 },\n};\n\nconst backButtonVariations = {\n\tdistractionFreeDisabled: { x: '-100%' },\n\tdistractionFreeHover: { x: 0 },\n\tdistractionFreeHidden: { x: '-100%' },\n\tvisible: { x: 0 },\n\thidden: { x: 0 },\n};\n\nfunction Header( {\n\tcustomSaveButton,\n\tforceIsDirty,\n\tforceDisableBlockTools,\n\tsetEntitiesSavedStatesCallback,\n\ttitle,\n\tisEditorIframed,\n} ) {\n\tconst isWideViewport = useViewportMatch( 'large' );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst isTooNarrowForDocumentBar = useMediaQuery( '(max-width: 403px)' );\n\tconst {\n\t\tisTextEditor,\n\t\tisPublishSidebarOpened,\n\t\tshowIconLabels,\n\t\thasFixedToolbar,\n\t\tisNestedEntity,\n\t} = useSelect( ( select ) => {\n\t\tconst { get: getPreference } = select( preferencesStore );\n\t\tconst {\n\t\t\tgetEditorMode,\n\t\t\tgetEditorSettings,\n\t\t\tisPublishSidebarOpened: _isPublishSidebarOpened,\n\t\t} = select( editorStore );\n\n\t\treturn {\n\t\t\tisTextEditor: getEditorMode() === 'text',\n\t\t\tisPublishSidebarOpened: _isPublishSidebarOpened(),\n\t\t\tshowIconLabels: getPreference( 'core', 'showIconLabels' ),\n\t\t\thasFixedToolbar: getPreference( 'core', 'fixedToolbar' ),\n\t\t\tisNestedEntity:\n\t\t\t\t!! getEditorSettings().onNavigateToPreviousEntityRecord,\n\t\t};\n\t}, [] );\n\n\tconst [ isBlockToolsCollapsed, setIsBlockToolsCollapsed ] =\n\t\tuseState( true );\n\n\tconst hasCenter = isBlockToolsCollapsed && ! isTooNarrowForDocumentBar;\n\tconst hasBackButton = useHasBackButton();\n\t/*\n\t * The edit-post-header classname is only kept for backward compatability\n\t * as some plugins might be relying on its presence.\n\t */\n\treturn (\n\t\t<div className=\"editor-header edit-post-header\">\n\t\t\t{ hasBackButton && (\n\t\t\t\t<motion.div\n\t\t\t\t\tclassName=\"editor-header__back-button\"\n\t\t\t\t\tvariants={ backButtonVariations }\n\t\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t\t>\n\t\t\t\t\t<BackButton.Slot />\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t<motion.div\n\t\t\t\tvariants={ toolbarVariations }\n\t\t\t\tclassName=\"editor-header__toolbar\"\n\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t>\n\t\t\t\t<DocumentTools\n\t\t\t\t\tdisableBlockTools={ forceDisableBlockTools || isTextEditor }\n\t\t\t\t/>\n\t\t\t\t{ hasFixedToolbar && isLargeViewport && (\n\t\t\t\t\t<CollapsibleBlockToolbar\n\t\t\t\t\t\tisCollapsed={ isBlockToolsCollapsed }\n\t\t\t\t\t\tonToggle={ setIsBlockToolsCollapsed }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</motion.div>\n\t\t\t{ hasCenter && (\n\t\t\t\t<motion.div\n\t\t\t\t\tclassName=\"editor-header__center\"\n\t\t\t\t\tvariants={ toolbarVariations }\n\t\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t\t>\n\t\t\t\t\t<DocumentBar title={ title } />\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t\t<motion.div\n\t\t\t\tvariants={ toolbarVariations }\n\t\t\t\ttransition={ { type: 'tween' } }\n\t\t\t\tclassName=\"editor-header__settings\"\n\t\t\t>\n\t\t\t\t{ ! customSaveButton && ! isPublishSidebarOpened && (\n\t\t\t\t\t/*\n\t\t\t\t\t * This button isn't completely hidden by the publish sidebar.\n\t\t\t\t\t * We can't hide the whole toolbar when the publish sidebar is open because\n\t\t\t\t\t * we want to prevent mounting/unmounting the PostPublishButtonOrToggle DOM node.\n\t\t\t\t\t * We track that DOM node to return focus to the PostPublishButtonOrToggle\n\t\t\t\t\t * when the publish sidebar has been closed.\n\t\t\t\t\t */\n\t\t\t\t\t<PostSavedState forceIsDirty={ forceIsDirty } />\n\t\t\t\t) }\n\n\t\t\t\t{ isEditorIframed && isWideViewport && <ZoomOutToggle /> }\n\n\t\t\t\t<PreviewDropdown\n\t\t\t\t\tforceIsAutosaveable={ forceIsDirty }\n\t\t\t\t\tdisabled={ isNestedEntity }\n\t\t\t\t/>\n\t\t\t\t<PostPreviewButton\n\t\t\t\t\tclassName=\"editor-header__post-preview-button\"\n\t\t\t\t\tforceIsAutosaveable={ forceIsDirty }\n\t\t\t\t/>\n\t\t\t\t<PostViewLink />\n\n\t\t\t\t{ ( isWideViewport || ! showIconLabels ) && (\n\t\t\t\t\t<PinnedItems.Slot scope=\"core\" />\n\t\t\t\t) }\n\n\t\t\t\t{ ! customSaveButton && (\n\t\t\t\t\t<PostPublishButtonOrToggle\n\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\n\t\t\t\t{ customSaveButton }\n\t\t\t\t<MoreMenu />\n\t\t\t</motion.div>\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useCallback, useRef } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { ESCAPE } from '@wordpress/keycodes';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { PrivateInserterLibrary } = unlock( blockEditorPrivateApis );\n\nexport default function InserterSidebar() {\n\tconst {\n\t\tblockSectionRootClientId,\n\t\tinserterSidebarToggleRef,\n\t\tinserter,\n\t\tshowMostUsedBlocks,\n\t\tsidebarIsOpened,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetInserterSidebarToggleRef,\n\t\t\tgetInserter,\n\t\t\tisPublishSidebarOpened,\n\t\t} = unlock( select( editorStore ) );\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\t__unstableGetEditorMode,\n\t\t\tgetSectionRootClientId,\n\t\t} = unlock( select( blockEditorStore ) );\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { getActiveComplementaryArea } = select( interfaceStore );\n\t\tconst getBlockSectionRootClientId = () => {\n\t\t\tif ( __unstableGetEditorMode() === 'zoom-out' ) {\n\t\t\t\tconst sectionRootClientId = getSectionRootClientId();\n\n\t\t\t\tif ( sectionRootClientId ) {\n\t\t\t\t\treturn sectionRootClientId;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn getBlockRootClientId();\n\t\t};\n\t\treturn {\n\t\t\tinserterSidebarToggleRef: getInserterSidebarToggleRef(),\n\t\t\tinserter: getInserter(),\n\t\t\tshowMostUsedBlocks: get( 'core', 'mostUsedBlocks' ),\n\t\t\tblockSectionRootClientId: getBlockSectionRootClientId(),\n\t\t\tsidebarIsOpened: !! (\n\t\t\t\tgetActiveComplementaryArea( 'core' ) || isPublishSidebarOpened()\n\t\t\t),\n\t\t};\n\t}, [] );\n\tconst { setIsInserterOpened } = useDispatch( editorStore );\n\tconst { disableComplementaryArea } = useDispatch( interfaceStore );\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst libraryRef = useRef();\n\n\t// When closing the inserter, focus should return to the toggle button.\n\tconst closeInserterSidebar = useCallback( () => {\n\t\tsetIsInserterOpened( false );\n\t\tinserterSidebarToggleRef.current?.focus();\n\t}, [ inserterSidebarToggleRef, setIsInserterOpened ] );\n\n\tconst closeOnEscape = useCallback(\n\t\t( event ) => {\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcloseInserterSidebar();\n\t\t\t}\n\t\t},\n\t\t[ closeInserterSidebar ]\n\t);\n\n\tconst inserterContents = (\n\t\t<div className=\"editor-inserter-sidebar__content\">\n\t\t\t<PrivateInserterLibrary\n\t\t\t\tshowMostUsedBlocks={ showMostUsedBlocks }\n\t\t\t\tshowInserterHelpPanel\n\t\t\t\tshouldFocusBlock={ isMobileViewport }\n\t\t\t\trootClientId={ blockSectionRootClientId }\n\t\t\t\tonSelect={ inserter.onSelect }\n\t\t\t\t__experimentalInitialTab={ inserter.tab }\n\t\t\t\t__experimentalInitialCategory={ inserter.category }\n\t\t\t\t__experimentalFilterValue={ inserter.filterValue }\n\t\t\t\tonPatternCategorySelection={\n\t\t\t\t\tsidebarIsOpened\n\t\t\t\t\t\t? () => disableComplementaryArea( 'core' )\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tref={ libraryRef }\n\t\t\t\tonClose={ closeInserterSidebar }\n\t\t\t/>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div onKeyDown={ closeOnEscape } className=\"editor-inserter-sidebar\">\n\t\t\t{ inserterContents }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport CharacterCount from '../character-count';\nimport WordCount from '../word-count';\nimport TimeToRead from '../time-to-read';\nimport DocumentOutline from '../document-outline';\n\nexport default function ListViewOutline() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"editor-list-view-sidebar__outline\">\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Characters:' ) }</Text>\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t<CharacterCount />\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Words:' ) }</Text>\n\t\t\t\t\t<WordCount />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Time to read:' ) }</Text>\n\t\t\t\t\t<TimeToRead />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<DocumentOutline />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\t__experimentalListView as ListView,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { useFocusOnMount, useMergeRefs } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { focus } from '@wordpress/dom';\nimport { useCallback, useRef, useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport ListViewOutline from './list-view-outline';\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { TabbedSidebar } = unlock( blockEditorPrivateApis );\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editorStore );\n\tconst { getListViewToggleRef } = unlock( useSelect( editorStore ) );\n\n\t// This hook handles focus when the sidebar first renders.\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\n\t// When closing the list view, focus should return to the toggle button.\n\tconst closeListView = useCallback( () => {\n\t\tsetIsListViewOpened( false );\n\t\tgetListViewToggleRef().current?.focus();\n\t}, [ getListViewToggleRef, setIsListViewOpened ] );\n\n\tconst closeOnEscape = useCallback(\n\t\t( event ) => {\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcloseListView();\n\t\t\t}\n\t\t},\n\t\t[ closeListView ]\n\t);\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the dropZoneElement updates.\n\tconst [ dropZoneElement, setDropZoneElement ] = useState( null );\n\t// Tracks our current tab.\n\tconst [ tab, setTab ] = useState( 'list-view' );\n\n\t// This ref refers to the sidebar as a whole.\n\tconst sidebarRef = useRef();\n\t// This ref refers to the tab panel.\n\tconst tabsRef = useRef();\n\t// This ref refers to the list view application area.\n\tconst listViewRef = useRef();\n\n\t// Must merge the refs together so focus can be handled properly in the next function.\n\tconst listViewContainerRef = useMergeRefs( [\n\t\tfocusOnMountRef,\n\t\tlistViewRef,\n\t\tsetDropZoneElement,\n\t] );\n\n\t/*\n\t * Callback function to handle list view or outline focus.\n\t *\n\t * @param {string} currentTab The current tab. Either list view or outline.\n\t *\n\t * @return void\n\t */\n\tfunction handleSidebarFocus( currentTab ) {\n\t\t// Tab panel focus.\n\t\tconst tabPanelFocus = focus.tabbable.find( tabsRef.current )[ 0 ];\n\t\t// List view tab is selected.\n\t\tif ( currentTab === 'list-view' ) {\n\t\t\t// Either focus the list view or the tab panel. Must have a fallback because the list view does not render when there are no blocks.\n\t\t\tconst listViewApplicationFocus = focus.tabbable.find(\n\t\t\t\tlistViewRef.current\n\t\t\t)[ 0 ];\n\t\t\tconst listViewFocusArea = sidebarRef.current.contains(\n\t\t\t\tlistViewApplicationFocus\n\t\t\t)\n\t\t\t\t? listViewApplicationFocus\n\t\t\t\t: tabPanelFocus;\n\t\t\tlistViewFocusArea.focus();\n\t\t\t// Outline tab is selected.\n\t\t} else {\n\t\t\ttabPanelFocus.focus();\n\t\t}\n\t}\n\n\tconst handleToggleListViewShortcut = useCallback( () => {\n\t\t// If the sidebar has focus, it is safe to close.\n\t\tif (\n\t\t\tsidebarRef.current.contains(\n\t\t\t\tsidebarRef.current.ownerDocument.activeElement\n\t\t\t)\n\t\t) {\n\t\t\tcloseListView();\n\t\t} else {\n\t\t\t// If the list view or outline does not have focus, focus should be moved to it.\n\t\t\thandleSidebarFocus( tab );\n\t\t}\n\t}, [ closeListView, tab ] );\n\n\t// This only fires when the sidebar is open because of the conditional rendering.\n\t// It is the same shortcut to open but that is defined as a global shortcut and only fires when the sidebar is closed.\n\tuseShortcut( 'core/editor/toggle-list-view', handleToggleListViewShortcut );\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\tclassName=\"editor-list-view-sidebar\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t\tref={ sidebarRef }\n\t\t>\n\t\t\t<TabbedSidebar\n\t\t\t\ttabs={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'list-view',\n\t\t\t\t\t\ttitle: _x( 'List View', 'Post overview' ),\n\t\t\t\t\t\tpanel: (\n\t\t\t\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-container\">\n\t\t\t\t\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-panel-content\">\n\t\t\t\t\t\t\t\t\t<ListView\n\t\t\t\t\t\t\t\t\t\tdropZoneElement={ dropZoneElement }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tpanelRef: listViewContainerRef,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'outline',\n\t\t\t\t\t\ttitle: _x( 'Outline', 'Post overview' ),\n\t\t\t\t\t\tpanel: (\n\t\t\t\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-container\">\n\t\t\t\t\t\t\t\t<ListViewOutline />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t\tonClose={ closeListView }\n\t\t\t\tonSelect={ ( tabName ) => setTab( tabName ) }\n\t\t\t\tdefaultTabId=\"list-view\"\n\t\t\t\tref={ tabsRef }\n\t\t\t\tcloseButtonLabel={ __( 'Close' ) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Button, createSlotFill } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport EntitiesSavedStates from '../entities-saved-states';\nimport PostPublishPanel from '../post-publish-panel';\nimport PluginPrePublishPanel from '../plugin-pre-publish-panel';\nimport PluginPostPublishPanel from '../plugin-post-publish-panel';\nimport { store as editorStore } from '../../store';\n\nconst { Fill, Slot } = createSlotFill( 'ActionsPanel' );\n\nexport const ActionsPanelFill = Fill;\n\nexport default function SavePublishPanels( {\n\tsetEntitiesSavedStatesCallback,\n\tcloseEntitiesSavedStates,\n\tisEntitiesSavedStatesOpen,\n\tforceIsDirtyPublishPanel,\n} ) {\n\tconst { closePublishSidebar, togglePublishSidebar } =\n\t\tuseDispatch( editorStore );\n\tconst {\n\t\tpublishSidebarOpened,\n\t\tisPublishable,\n\t\tisDirty,\n\t\thasOtherEntitiesChanges,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisPublishSidebarOpened,\n\t\t\tisEditedPostPublishable,\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostDirty,\n\t\t\thasNonPostEntityChanges,\n\t\t} = select( editorStore );\n\t\tconst _hasOtherEntitiesChanges = hasNonPostEntityChanges();\n\t\treturn {\n\t\t\tpublishSidebarOpened: isPublishSidebarOpened(),\n\t\t\tisPublishable:\n\t\t\t\t! isCurrentPostPublished() && isEditedPostPublishable(),\n\t\t\tisDirty: _hasOtherEntitiesChanges || isEditedPostDirty(),\n\t\t\thasOtherEntitiesChanges: _hasOtherEntitiesChanges,\n\t\t};\n\t}, [] );\n\n\tconst openEntitiesSavedStates = useCallback(\n\t\t() => setEntitiesSavedStatesCallback( true ),\n\t\t[]\n\t);\n\n\t// It is ok for these components to be unmounted when not in visual use.\n\t// We don't want more than one present at a time, decide which to render.\n\tlet unmountableContent;\n\tif ( publishSidebarOpened ) {\n\t\tunmountableContent = (\n\t\t\t<PostPublishPanel\n\t\t\t\tonClose={ closePublishSidebar }\n\t\t\t\tforceIsDirty={ forceIsDirtyPublishPanel }\n\t\t\t\tPrePublishExtension={ PluginPrePublishPanel.Slot }\n\t\t\t\tPostPublishExtension={ PluginPostPublishPanel.Slot }\n\t\t\t/>\n\t\t);\n\t} else if ( isPublishable && ! hasOtherEntitiesChanges ) {\n\t\tunmountableContent = (\n\t\t\t<div className=\"editor-layout__toggle-publish-panel\">\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ togglePublishSidebar }\n\t\t\t\t\taria-expanded={ false }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Open publish panel' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\tunmountableContent = (\n\t\t\t<div className=\"editor-layout__toggle-entities-saved-states-panel\">\n\t\t\t\t<Button\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ openEntitiesSavedStates }\n\t\t\t\t\taria-expanded={ false }\n\t\t\t\t\tdisabled={ ! isDirty }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Open save panel' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Since EntitiesSavedStates controls its own panel, we can keep it\n\t// always mounted to retain its own component state (such as checkboxes).\n\treturn (\n\t\t<>\n\t\t\t{ isEntitiesSavedStatesOpen && (\n\t\t\t\t<EntitiesSavedStates close={ closeEntitiesSavedStates } />\n\t\t\t) }\n\t\t\t<Slot bubblesVirtually />\n\t\t\t{ ! isEntitiesSavedStatesOpen && unmountableContent }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTextEditor from '../post-text-editor';\nimport PostTitleRaw from '../post-title/post-title-raw';\n\nexport default function TextEditor( { autoFocus = false } ) {\n\tconst { switchEditorMode } = useDispatch( editorStore );\n\tconst { shortcut, isRichEditingEnabled } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( editorStore );\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\n\t\treturn {\n\t\t\tshortcut: getShortcutRepresentation( 'core/editor/toggle-mode' ),\n\t\t\tisRichEditingEnabled: getEditorSettings().richEditingEnabled,\n\t\t};\n\t}, [] );\n\n\tconst titleRef = useRef();\n\tuseEffect( () => {\n\t\tif ( autoFocus ) {\n\t\t\treturn;\n\t\t}\n\t\ttitleRef?.current?.focus();\n\t}, [ autoFocus ] );\n\n\treturn (\n\t\t<div className=\"editor-text-editor\">\n\t\t\t{ isRichEditingEnabled && (\n\t\t\t\t<div className=\"editor-text-editor__toolbar\">\n\t\t\t\t\t<h2>{ __( 'Editing code' ) }</h2>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\tonClick={ () => switchEditorMode( 'visual' ) }\n\t\t\t\t\t\tshortcut={ shortcut }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Exit code editor' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"editor-text-editor__body\">\n\t\t\t\t<PostTitleRaw ref={ titleRef } />\n\t\t\t\t<PostTextEditor />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Component that:\n *\n * - Displays a 'Edit your template to edit this block' notification when the\n *   user is focusing on editing page content and clicks on a disabled template\n *   block.\n * - Displays a 'Edit your template to edit this block' dialog when the user\n *   is focusing on editing page conetnt and double clicks on a disabled\n *   template block.\n *\n * @param {Object}                                 props\n * @param {import('react').RefObject<HTMLElement>} props.contentRef Ref to the block\n *                                                                  editor iframe canvas.\n */\nexport default function EditTemplateBlocksNotification( { contentRef } ) {\n\tconst { onNavigateToEntityRecord, templateId } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings, getCurrentTemplateId } =\n\t\t\tselect( editorStore );\n\n\t\treturn {\n\t\t\tonNavigateToEntityRecord:\n\t\t\t\tgetEditorSettings().onNavigateToEntityRecord,\n\t\t\ttemplateId: getCurrentTemplateId(),\n\t\t};\n\t}, [] );\n\n\tconst canEditTemplate = useSelect(\n\t\t( select ) =>\n\t\t\t!! select( coreStore ).canUser( 'create', {\n\t\t\t\tkind: 'postType',\n\t\t\t\tname: 'wp_template',\n\t\t\t} ),\n\t\t[]\n\t);\n\n\tconst [ isDialogOpen, setIsDialogOpen ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst handleDblClick = ( event ) => {\n\t\t\tif ( ! canEditTemplate ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t! event.target.classList.contains( 'is-root-container' ) ||\n\t\t\t\tevent.target.dataset?.type === 'core/template-part'\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsDialogOpen( true );\n\t\t};\n\n\t\tconst canvas = contentRef.current;\n\t\tcanvas?.addEventListener( 'dblclick', handleDblClick );\n\t\treturn () => {\n\t\t\tcanvas?.removeEventListener( 'dblclick', handleDblClick );\n\t\t};\n\t}, [ contentRef, canEditTemplate ] );\n\n\tif ( ! canEditTemplate ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isDialogOpen }\n\t\t\tconfirmButtonText={ __( 'Edit template' ) }\n\t\t\tonConfirm={ () => {\n\t\t\t\tsetIsDialogOpen( false );\n\t\t\t\tonNavigateToEntityRecord( {\n\t\t\t\t\tpostId: templateId,\n\t\t\t\t\tpostType: 'wp_template',\n\t\t\t\t} );\n\t\t\t} }\n\t\t\tonCancel={ () => setIsDialogOpen( false ) }\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t{ __(\n\t\t\t\t'You’ve tried to select a block that is part of a template, which may be used on other posts and pages. Would you like to edit the template?'\n\t\t\t) }\n\t\t</ConfirmDialog>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { LEFT, RIGHT } from '@wordpress/keycodes';\nimport {\n\tVisuallyHidden,\n\tTooltip,\n\t__unstableMotion as motion,\n} from '@wordpress/components';\n\nconst DELTA_DISTANCE = 20; // The distance to resize per keydown in pixels.\n\nexport default function ResizeHandle( { direction, resizeWidthBy } ) {\n\tfunction handleKeyDown( event ) {\n\t\tconst { keyCode } = event;\n\n\t\tif ( keyCode !== LEFT && keyCode !== RIGHT ) {\n\t\t\treturn;\n\t\t}\n\t\tevent.preventDefault();\n\n\t\tif (\n\t\t\t( direction === 'left' && keyCode === LEFT ) ||\n\t\t\t( direction === 'right' && keyCode === RIGHT )\n\t\t) {\n\t\t\tresizeWidthBy( DELTA_DISTANCE );\n\t\t} else if (\n\t\t\t( direction === 'left' && keyCode === RIGHT ) ||\n\t\t\t( direction === 'right' && keyCode === LEFT )\n\t\t) {\n\t\t\tresizeWidthBy( -DELTA_DISTANCE );\n\t\t}\n\t}\n\n\tconst resizeHandleVariants = {\n\t\tactive: {\n\t\t\topacity: 1,\n\t\t\tscaleY: 1.3,\n\t\t},\n\t};\n\n\tconst resizableHandleHelpId = `resizable-editor__resize-help-${ direction }`;\n\n\treturn (\n\t\t<>\n\t\t\t<Tooltip text={ __( 'Drag to resize' ) }>\n\t\t\t\t<motion.button\n\t\t\t\t\tclassName={ `editor-resizable-editor__resize-handle is-${ direction }` }\n\t\t\t\t\taria-label={ __( 'Drag to resize' ) }\n\t\t\t\t\taria-describedby={ resizableHandleHelpId }\n\t\t\t\t\tonKeyDown={ handleKeyDown }\n\t\t\t\t\tvariants={ resizeHandleVariants }\n\t\t\t\t\twhileFocus=\"active\"\n\t\t\t\t\twhileHover=\"active\"\n\t\t\t\t\twhileTap=\"active\"\n\t\t\t\t\tkey=\"handle\"\n\t\t\t\t\trole=\"separator\"\n\t\t\t\t\taria-orientation=\"vertical\"\n\t\t\t\t/>\n\t\t\t</Tooltip>\n\t\t\t<VisuallyHidden id={ resizableHandleHelpId }>\n\t\t\t\t{ __( 'Use left and right arrow keys to resize the canvas.' ) }\n\t\t\t</VisuallyHidden>\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useRef, useCallback } from '@wordpress/element';\nimport { ResizableBox } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport ResizeHandle from './resize-handle';\n\n// Removes the inline styles in the drag handles.\nconst HANDLE_STYLES_OVERRIDE = {\n\tposition: undefined,\n\tuserSelect: undefined,\n\tcursor: undefined,\n\twidth: undefined,\n\theight: undefined,\n\ttop: undefined,\n\tright: undefined,\n\tbottom: undefined,\n\tleft: undefined,\n};\n\nfunction ResizableEditor( { className, enableResizing, height, children } ) {\n\tconst [ width, setWidth ] = useState( '100%' );\n\tconst resizableRef = useRef();\n\tconst resizeWidthBy = useCallback( ( deltaPixels ) => {\n\t\tif ( resizableRef.current ) {\n\t\t\tsetWidth( resizableRef.current.offsetWidth + deltaPixels );\n\t\t}\n\t}, [] );\n\treturn (\n\t\t<ResizableBox\n\t\t\tclassName={ clsx( 'editor-resizable-editor', className, {\n\t\t\t\t'is-resizable': enableResizing,\n\t\t\t} ) }\n\t\t\tref={ ( api ) => {\n\t\t\t\tresizableRef.current = api?.resizable;\n\t\t\t} }\n\t\t\tsize={ {\n\t\t\t\twidth: enableResizing ? width : '100%',\n\t\t\t\theight: enableResizing && height ? height : '100%',\n\t\t\t} }\n\t\t\tonResizeStop={ ( event, direction, element ) => {\n\t\t\t\tsetWidth( element.style.width );\n\t\t\t} }\n\t\t\tminWidth={ 300 }\n\t\t\tmaxWidth=\"100%\"\n\t\t\tmaxHeight=\"100%\"\n\t\t\tenable={ {\n\t\t\t\tleft: enableResizing,\n\t\t\t\tright: enableResizing,\n\t\t\t} }\n\t\t\tshowHandle={ enableResizing }\n\t\t\t// The editor is centered horizontally, resizing it only\n\t\t\t// moves half the distance. Hence double the ratio to correctly\n\t\t\t// align the cursor to the resizer handle.\n\t\t\tresizeRatio={ 2 }\n\t\t\thandleComponent={ {\n\t\t\t\tleft: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t\tright: (\n\t\t\t\t\t<ResizeHandle\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tresizeWidthBy={ resizeWidthBy }\n\t\t\t\t\t/>\n\t\t\t\t),\n\t\t\t} }\n\t\t\thandleClasses={ undefined }\n\t\t\thandleStyles={ {\n\t\t\t\tleft: HANDLE_STYLES_OVERRIDE,\n\t\t\t\tright: HANDLE_STYLES_OVERRIDE,\n\t\t\t} }\n\t\t>\n\t\t\t{ children }\n\t\t</ResizableBox>\n\t);\n}\n\nexport default ResizableEditor;\n","/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\n\nconst DISTANCE_THRESHOLD = 500;\n\nfunction clamp( value, min, max ) {\n\treturn Math.min( Math.max( value, min ), max );\n}\n\nfunction distanceFromRect( x, y, rect ) {\n\tconst dx = x - clamp( x, rect.left, rect.right );\n\tconst dy = y - clamp( y, rect.top, rect.bottom );\n\treturn Math.sqrt( dx * dx + dy * dy );\n}\n\nexport default function useSelectNearestEditableBlock( {\n\tisEnabled = true,\n} = {} ) {\n\tconst { getEnabledClientIdsTree, getBlockName, getBlockOrder } = unlock(\n\t\tuseSelect( blockEditorStore )\n\t);\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\n\treturn useRefEffect(\n\t\t( element ) => {\n\t\t\tif ( ! isEnabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selectNearestEditableBlock = ( x, y ) => {\n\t\t\t\tconst editableBlockClientIds =\n\t\t\t\t\tgetEnabledClientIdsTree().flatMap( ( { clientId } ) => {\n\t\t\t\t\t\tconst blockName = getBlockName( clientId );\n\t\t\t\t\t\tif ( blockName === 'core/template-part' ) {\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( blockName === 'core/post-content' ) {\n\t\t\t\t\t\t\tconst innerBlocks = getBlockOrder( clientId );\n\t\t\t\t\t\t\tif ( innerBlocks.length ) {\n\t\t\t\t\t\t\t\treturn innerBlocks;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn [ clientId ];\n\t\t\t\t\t} );\n\n\t\t\t\tlet nearestDistance = Infinity,\n\t\t\t\t\tnearestClientId = null;\n\n\t\t\t\tfor ( const clientId of editableBlockClientIds ) {\n\t\t\t\t\tconst block = element.querySelector(\n\t\t\t\t\t\t`[data-block=\"${ clientId }\"]`\n\t\t\t\t\t);\n\t\t\t\t\tif ( ! block ) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst rect = block.getBoundingClientRect();\n\t\t\t\t\tconst distance = distanceFromRect( x, y, rect );\n\t\t\t\t\tif (\n\t\t\t\t\t\tdistance < nearestDistance &&\n\t\t\t\t\t\tdistance < DISTANCE_THRESHOLD\n\t\t\t\t\t) {\n\t\t\t\t\t\tnearestDistance = distance;\n\t\t\t\t\t\tnearestClientId = clientId;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ( nearestClientId ) {\n\t\t\t\t\tselectBlock( nearestClientId );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst handleClick = ( event ) => {\n\t\t\t\tconst shouldSelect =\n\t\t\t\t\tevent.target === element ||\n\t\t\t\t\tevent.target.classList.contains( 'is-root-container' );\n\t\t\t\tif ( shouldSelect ) {\n\t\t\t\t\tselectNearestEditableBlock( event.clientX, event.clientY );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\telement.addEventListener( 'click', handleClick );\n\t\t\treturn () => element.removeEventListener( 'click', handleClick );\n\t\t},\n\t\t[ isEnabled ]\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\tstore as blockEditorStore,\n\t__unstableUseTypewriter as useTypewriter,\n\t__unstableUseTypingObserver as useTypingObserver,\n\tuseSettings,\n\tRecursionProvider,\n\tprivateApis as blockEditorPrivateApis,\n\t__experimentalUseResizeCanvas as useResizeCanvas,\n} from '@wordpress/block-editor';\nimport { useEffect, useRef, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { parse } from '@wordpress/blocks';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tuseMergeRefs,\n\tuseViewportMatch,\n\tuseResizeObserver,\n} from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostTitle from '../post-title';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport EditTemplateBlocksNotification from './edit-template-blocks-notification';\nimport ResizableEditor from '../resizable-editor';\nimport useSelectNearestEditableBlock from './use-select-nearest-editable-block';\nimport {\n\tNAVIGATION_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n} from '../../store/constants';\n\nconst {\n\tLayoutStyle,\n\tuseLayoutClasses,\n\tuseLayoutStyles,\n\tExperimentalBlockCanvas: BlockCanvas,\n\tuseFlashEditableBlocks,\n} = unlock( blockEditorPrivateApis );\n\n/**\n * These post types have a special editor where they don't allow you to fill the title\n * and they don't apply the layout styles.\n */\nconst DESIGN_POST_TYPES = [\n\tPATTERN_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n\tNAVIGATION_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n];\n\n/**\n * Given an array of nested blocks, find the first Post Content\n * block inside it, recursing through any nesting levels,\n * and return its attributes.\n *\n * @param {Array} blocks A list of blocks.\n *\n * @return {Object | undefined} The Post Content block.\n */\nfunction getPostContentAttributes( blocks ) {\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( blocks[ i ].name === 'core/post-content' ) {\n\t\t\treturn blocks[ i ].attributes;\n\t\t}\n\t\tif ( blocks[ i ].innerBlocks.length ) {\n\t\t\tconst nestedPostContent = getPostContentAttributes(\n\t\t\t\tblocks[ i ].innerBlocks\n\t\t\t);\n\n\t\t\tif ( nestedPostContent ) {\n\t\t\t\treturn nestedPostContent;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkForPostContentAtRootLevel( blocks ) {\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( blocks[ i ].name === 'core/post-content' ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction VisualEditor( {\n\t// Ideally as we unify post and site editors, we won't need these props.\n\tautoFocus,\n\tstyles,\n\tdisableIframe = false,\n\tiframeProps,\n\tcontentRef,\n\tclassName,\n} ) {\n\tconst [ resizeObserver, sizes ] = useResizeObserver();\n\tconst isMobileViewport = useViewportMatch( 'small', '<' );\n\tconst isTabletViewport = useViewportMatch( 'medium', '<' );\n\tconst {\n\t\trenderingMode,\n\t\tpostContentAttributes,\n\t\teditedPostTemplate = {},\n\t\twrapperBlockName,\n\t\twrapperUniqueId,\n\t\tdeviceType,\n\t\tisFocusedEntity,\n\t\tisDesignPostType,\n\t\tpostType,\n\t\tisPreview,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentTemplateId,\n\t\t\tgetEditorSettings,\n\t\t\tgetRenderingMode,\n\t\t\tgetDeviceType,\n\t\t} = select( editorStore );\n\t\tconst { getPostType, getEditedEntityRecord } = select( coreStore );\n\t\tconst postTypeSlug = getCurrentPostType();\n\t\tconst _renderingMode = getRenderingMode();\n\t\tlet _wrapperBlockName;\n\n\t\tif ( postTypeSlug === PATTERN_POST_TYPE ) {\n\t\t\t_wrapperBlockName = 'core/block';\n\t\t} else if ( _renderingMode === 'post-only' ) {\n\t\t\t_wrapperBlockName = 'core/post-content';\n\t\t}\n\n\t\tconst editorSettings = getEditorSettings();\n\t\tconst supportsTemplateMode = editorSettings.supportsTemplateMode;\n\t\tconst postTypeObject = getPostType( postTypeSlug );\n\t\tconst currentTemplateId = getCurrentTemplateId();\n\t\tconst template = currentTemplateId\n\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\tcurrentTemplateId\n\t\t\t  )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\trenderingMode: _renderingMode,\n\t\t\tpostContentAttributes: editorSettings.postContentAttributes,\n\t\t\tisDesignPostType: DESIGN_POST_TYPES.includes( postTypeSlug ),\n\t\t\t// Post template fetch returns a 404 on classic themes, which\n\t\t\t// messes with e2e tests, so check it's a block theme first.\n\t\t\teditedPostTemplate:\n\t\t\t\tpostTypeObject?.viewable && supportsTemplateMode\n\t\t\t\t\t? template\n\t\t\t\t\t: undefined,\n\t\t\twrapperBlockName: _wrapperBlockName,\n\t\t\twrapperUniqueId: getCurrentPostId(),\n\t\t\tdeviceType: getDeviceType(),\n\t\t\tisFocusedEntity: !! editorSettings.onNavigateToPreviousEntityRecord,\n\t\t\tpostType: postTypeSlug,\n\t\t\tisPreview: editorSettings.__unstableIsPreviewMode,\n\t\t};\n\t}, [] );\n\tconst { isCleanNewPost } = useSelect( editorStore );\n\tconst {\n\t\thasRootPaddingAwareAlignments,\n\t\tthemeHasDisabledLayoutStyles,\n\t\tthemeSupportsLayout,\n\t\tisZoomedOut,\n\t} = useSelect( ( select ) => {\n\t\tconst { getSettings, isZoomOut: _isZoomOut } = unlock(\n\t\t\tselect( blockEditorStore )\n\t\t);\n\n\t\tconst _settings = getSettings();\n\t\treturn {\n\t\t\tthemeHasDisabledLayoutStyles: _settings.disableLayoutStyles,\n\t\t\tthemeSupportsLayout: _settings.supportsLayout,\n\t\t\thasRootPaddingAwareAlignments:\n\t\t\t\t_settings.__experimentalFeatures?.useRootPaddingAwareAlignments,\n\t\t\tisZoomedOut: _isZoomOut(),\n\t\t};\n\t}, [] );\n\n\tconst deviceStyles = useResizeCanvas( deviceType );\n\tconst [ globalLayoutSettings ] = useSettings( 'layout' );\n\n\t// fallbackLayout is used if there is no Post Content,\n\t// and for Post Title.\n\tconst fallbackLayout = useMemo( () => {\n\t\tif ( renderingMode !== 'post-only' || isDesignPostType ) {\n\t\t\treturn { type: 'default' };\n\t\t}\n\n\t\tif ( themeSupportsLayout ) {\n\t\t\t// We need to ensure support for wide and full alignments,\n\t\t\t// so we add the constrained type.\n\t\t\treturn { ...globalLayoutSettings, type: 'constrained' };\n\t\t}\n\t\t// Set default layout for classic themes so all alignments are supported.\n\t\treturn { type: 'default' };\n\t}, [\n\t\trenderingMode,\n\t\tthemeSupportsLayout,\n\t\tglobalLayoutSettings,\n\t\tisDesignPostType,\n\t] );\n\n\tconst newestPostContentAttributes = useMemo( () => {\n\t\tif (\n\t\t\t! editedPostTemplate?.content &&\n\t\t\t! editedPostTemplate?.blocks &&\n\t\t\tpostContentAttributes\n\t\t) {\n\t\t\treturn postContentAttributes;\n\t\t}\n\t\t// When in template editing mode, we can access the blocks directly.\n\t\tif ( editedPostTemplate?.blocks ) {\n\t\t\treturn getPostContentAttributes( editedPostTemplate?.blocks );\n\t\t}\n\t\t// If there are no blocks, we have to parse the content string.\n\t\t// Best double-check it's a string otherwise the parse function gets unhappy.\n\t\tconst parseableContent =\n\t\t\ttypeof editedPostTemplate?.content === 'string'\n\t\t\t\t? editedPostTemplate?.content\n\t\t\t\t: '';\n\n\t\treturn getPostContentAttributes( parse( parseableContent ) ) || {};\n\t}, [\n\t\teditedPostTemplate?.content,\n\t\teditedPostTemplate?.blocks,\n\t\tpostContentAttributes,\n\t] );\n\n\tconst hasPostContentAtRootLevel = useMemo( () => {\n\t\tif ( ! editedPostTemplate?.content && ! editedPostTemplate?.blocks ) {\n\t\t\treturn false;\n\t\t}\n\t\t// When in template editing mode, we can access the blocks directly.\n\t\tif ( editedPostTemplate?.blocks ) {\n\t\t\treturn checkForPostContentAtRootLevel( editedPostTemplate?.blocks );\n\t\t}\n\t\t// If there are no blocks, we have to parse the content string.\n\t\t// Best double-check it's a string otherwise the parse function gets unhappy.\n\t\tconst parseableContent =\n\t\t\ttypeof editedPostTemplate?.content === 'string'\n\t\t\t\t? editedPostTemplate?.content\n\t\t\t\t: '';\n\n\t\treturn (\n\t\t\tcheckForPostContentAtRootLevel( parse( parseableContent ) ) || false\n\t\t);\n\t}, [ editedPostTemplate?.content, editedPostTemplate?.blocks ] );\n\n\tconst { layout = {}, align = '' } = newestPostContentAttributes || {};\n\n\tconst postContentLayoutClasses = useLayoutClasses(\n\t\tnewestPostContentAttributes,\n\t\t'core/post-content'\n\t);\n\n\tconst blockListLayoutClass = clsx(\n\t\t{\n\t\t\t'is-layout-flow': ! themeSupportsLayout,\n\t\t},\n\t\tthemeSupportsLayout && postContentLayoutClasses,\n\t\talign && `align${ align }`\n\t);\n\n\tconst postContentLayoutStyles = useLayoutStyles(\n\t\tnewestPostContentAttributes,\n\t\t'core/post-content',\n\t\t'.block-editor-block-list__layout.is-root-container'\n\t);\n\n\t// Update type for blocks using legacy layouts.\n\tconst postContentLayout = useMemo( () => {\n\t\treturn layout &&\n\t\t\t( layout?.type === 'constrained' ||\n\t\t\t\tlayout?.inherit ||\n\t\t\t\tlayout?.contentSize ||\n\t\t\t\tlayout?.wideSize )\n\t\t\t? { ...globalLayoutSettings, ...layout, type: 'constrained' }\n\t\t\t: { ...globalLayoutSettings, ...layout, type: 'default' };\n\t}, [\n\t\tlayout?.type,\n\t\tlayout?.inherit,\n\t\tlayout?.contentSize,\n\t\tlayout?.wideSize,\n\t\tglobalLayoutSettings,\n\t] );\n\n\t// If there is a Post Content block we use its layout for the block list;\n\t// if not, this must be a classic theme, in which case we use the fallback layout.\n\tconst blockListLayout = postContentAttributes\n\t\t? postContentLayout\n\t\t: fallbackLayout;\n\n\tconst postEditorLayout =\n\t\tblockListLayout?.type === 'default' && ! hasPostContentAtRootLevel\n\t\t\t? fallbackLayout\n\t\t\t: blockListLayout;\n\tconst observeTypingRef = useTypingObserver();\n\tconst titleRef = useRef();\n\tuseEffect( () => {\n\t\tif ( ! autoFocus || ! isCleanNewPost() ) {\n\t\t\treturn;\n\t\t}\n\t\ttitleRef?.current?.focus();\n\t}, [ autoFocus, isCleanNewPost ] );\n\n\t// Add some styles for alignwide/alignfull Post Content and its children.\n\tconst alignCSS = `.is-root-container.alignwide { max-width: var(--wp--style--global--wide-size); margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--wp--style--global--wide-size);}\n\t\t.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}`;\n\n\tconst localRef = useRef();\n\tconst typewriterRef = useTypewriter();\n\tcontentRef = useMergeRefs( [\n\t\tlocalRef,\n\t\tcontentRef,\n\t\trenderingMode === 'post-only' ? typewriterRef : null,\n\t\tuseFlashEditableBlocks( {\n\t\t\tisEnabled: renderingMode === 'template-locked',\n\t\t} ),\n\t\tuseSelectNearestEditableBlock( {\n\t\t\tisEnabled: renderingMode === 'template-locked',\n\t\t} ),\n\t] );\n\n\tconst zoomOutProps =\n\t\tisZoomedOut && ! isTabletViewport\n\t\t\t? {\n\t\t\t\t\tscale: 'default',\n\t\t\t\t\tframeSize: '48px',\n\t\t\t  }\n\t\t\t: {};\n\n\tconst forceFullHeight = postType === NAVIGATION_POST_TYPE;\n\tconst enableResizing =\n\t\t[\n\t\t\tNAVIGATION_POST_TYPE,\n\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\tPATTERN_POST_TYPE,\n\t\t].includes( postType ) &&\n\t\t// Disable in previews / view mode.\n\t\t! isPreview &&\n\t\t// Disable resizing in mobile viewport.\n\t\t! isMobileViewport &&\n\t\t// Dsiable resizing in zoomed-out mode.\n\t\t! isZoomedOut;\n\tconst shouldIframe =\n\t\t! disableIframe || [ 'Tablet', 'Mobile' ].includes( deviceType );\n\n\tconst iframeStyles = useMemo( () => {\n\t\treturn [\n\t\t\t...( styles ?? [] ),\n\t\t\t{\n\t\t\t\tcss: `.is-root-container{display:flow-root;${\n\t\t\t\t\t// Some themes will have `min-height: 100vh` for the root container,\n\t\t\t\t\t// which isn't a requirement in auto resize mode.\n\t\t\t\t\tenableResizing ? 'min-height:0!important;' : ''\n\t\t\t\t}}`,\n\t\t\t},\n\t\t];\n\t}, [ styles, enableResizing ] );\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx(\n\t\t\t\t'editor-visual-editor',\n\t\t\t\t// this class is here for backward compatibility reasons.\n\t\t\t\t'edit-post-visual-editor',\n\t\t\t\tclassName,\n\t\t\t\t{\n\t\t\t\t\t'has-padding': isFocusedEntity || enableResizing,\n\t\t\t\t\t'is-resizable': enableResizing,\n\t\t\t\t\t'is-iframed': shouldIframe,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t<ResizableEditor\n\t\t\t\tenableResizing={ enableResizing }\n\t\t\t\theight={\n\t\t\t\t\tsizes.height && ! forceFullHeight ? sizes.height : '100%'\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<BlockCanvas\n\t\t\t\t\tshouldIframe={ shouldIframe }\n\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t\tstyles={ iframeStyles }\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\tiframeProps={ {\n\t\t\t\t\t\t...iframeProps,\n\t\t\t\t\t\t...zoomOutProps,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t...iframeProps?.style,\n\t\t\t\t\t\t\t...deviceStyles,\n\t\t\t\t\t\t},\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ themeSupportsLayout &&\n\t\t\t\t\t\t! themeHasDisabledLayoutStyles &&\n\t\t\t\t\t\trenderingMode === 'post-only' &&\n\t\t\t\t\t\t! isDesignPostType && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\t\tselector=\".editor-visual-editor__post-title-wrapper\"\n\t\t\t\t\t\t\t\t\tlayout={ fallbackLayout }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\t\tselector=\".block-editor-block-list__layout.is-root-container\"\n\t\t\t\t\t\t\t\t\tlayout={ postEditorLayout }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ align && <LayoutStyle css={ alignCSS } /> }\n\t\t\t\t\t\t\t\t{ postContentLayoutStyles && (\n\t\t\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\t\t\tlayout={ postContentLayout }\n\t\t\t\t\t\t\t\t\t\tcss={ postContentLayoutStyles }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) }\n\t\t\t\t\t{ renderingMode === 'post-only' && ! isDesignPostType && (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'editor-visual-editor__post-title-wrapper',\n\t\t\t\t\t\t\t\t// The following class is only here for backward comapatibility\n\t\t\t\t\t\t\t\t// some themes might be using it to style the post title.\n\t\t\t\t\t\t\t\t'edit-post-visual-editor__post-title-wrapper',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'has-global-padding':\n\t\t\t\t\t\t\t\t\t\thasRootPaddingAwareAlignments,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tcontentEditable={ false }\n\t\t\t\t\t\t\tref={ observeTypingRef }\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t// This is using inline styles\n\t\t\t\t\t\t\t\t// so it's applied for both iframed and non iframed editors.\n\t\t\t\t\t\t\t\tmarginTop: '4rem',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PostTitle ref={ titleRef } />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<RecursionProvider\n\t\t\t\t\t\tblockName={ wrapperBlockName }\n\t\t\t\t\t\tuniqueId={ wrapperUniqueId }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockList\n\t\t\t\t\t\t\tclassName={ clsx(\n\t\t\t\t\t\t\t\t'is-' + deviceType.toLowerCase() + '-preview',\n\t\t\t\t\t\t\t\trenderingMode !== 'post-only' ||\n\t\t\t\t\t\t\t\t\tisDesignPostType\n\t\t\t\t\t\t\t\t\t? 'wp-site-blocks'\n\t\t\t\t\t\t\t\t\t: `${ blockListLayoutClass } wp-block-post-content` // Ensure root level blocks receive default/flow blockGap styling rules.\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tlayout={ blockListLayout }\n\t\t\t\t\t\t\tdropZoneElement={\n\t\t\t\t\t\t\t\t// When iframed, pass in the html element of the iframe to\n\t\t\t\t\t\t\t\t// ensure the drop zone extends to the edges of the iframe.\n\t\t\t\t\t\t\t\tdisableIframe\n\t\t\t\t\t\t\t\t\t? localRef.current\n\t\t\t\t\t\t\t\t\t: localRef.current?.parentNode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t__unstableDisableDropZone={\n\t\t\t\t\t\t\t\t// In template preview mode, disable drop zones at the root of the template.\n\t\t\t\t\t\t\t\trenderingMode === 'template-locked'\n\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ renderingMode === 'template-locked' && (\n\t\t\t\t\t\t\t<EditTemplateBlocksNotification\n\t\t\t\t\t\t\t\tcontentRef={ localRef }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</RecursionProvider>\n\t\t\t\t\t{\n\t\t\t\t\t\t// Avoid resize listeners when not needed,\n\t\t\t\t\t\t// these will trigger unnecessary re-renders\n\t\t\t\t\t\t// when animating the iframe width.\n\t\t\t\t\t\tenableResizing && resizeObserver\n\t\t\t\t\t}\n\t\t\t\t</BlockCanvas>\n\t\t\t</ResizableEditor>\n\t\t</div>\n\t);\n}\n\nexport default VisualEditor;\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { InterfaceSkeleton, ComplementaryArea } from '@wordpress/interface';\nimport { useSelect } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport {\n\tstore as blockEditorStore,\n\tBlockBreadcrumb,\n\tBlockToolbar,\n} from '@wordpress/block-editor';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useState, useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport EditorNotices from '../editor-notices';\nimport Header from '../header';\nimport InserterSidebar from '../inserter-sidebar';\nimport ListViewSidebar from '../list-view-sidebar';\nimport SavePublishPanels from '../save-publish-panels';\nimport TextEditor from '../text-editor';\nimport VisualEditor from '../visual-editor';\nimport EditorContentSlotFill from './content-slot-fill';\n\nimport { unlock } from '../../lock-unlock';\n\nconst interfaceLabels = {\n\t/* translators: accessibility text for the editor top bar landmark region. */\n\theader: __( 'Editor top bar' ),\n\t/* translators: accessibility text for the editor content landmark region. */\n\tbody: __( 'Editor content' ),\n\t/* translators: accessibility text for the editor settings landmark region. */\n\tsidebar: __( 'Editor settings' ),\n\t/* translators: accessibility text for the editor publish landmark region. */\n\tactions: __( 'Editor publish' ),\n\t/* translators: accessibility text for the editor footer landmark region. */\n\tfooter: __( 'Editor footer' ),\n};\n\nexport default function EditorInterface( {\n\tclassName,\n\tenableRegionNavigation,\n\tstyles,\n\tchildren,\n\tforceIsDirty,\n\tcontentRef,\n\tdisableIframe,\n\tautoFocus,\n\tcustomSaveButton,\n\tcustomSavePanel,\n\tforceDisableBlockTools,\n\ttitle,\n\tiframeProps,\n} ) {\n\tconst {\n\t\tmode,\n\t\tisRichEditingEnabled,\n\t\tisInserterOpened,\n\t\tisListViewOpened,\n\t\tisDistractionFree,\n\t\tisPreviewMode,\n\t\tpreviousShortcut,\n\t\tnextShortcut,\n\t\tshowBlockBreadcrumbs,\n\t\tdocumentLabel,\n\t\tisZoomOut,\n\t} = useSelect( ( select ) => {\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { getEditorSettings, getPostTypeLabel } = select( editorStore );\n\t\tconst editorSettings = getEditorSettings();\n\t\tconst postTypeLabel = getPostTypeLabel();\n\t\tconst { isZoomOut: _isZoomOut } = unlock( select( blockEditorStore ) );\n\n\t\treturn {\n\t\t\tmode: select( editorStore ).getEditorMode(),\n\t\t\tisRichEditingEnabled: editorSettings.richEditingEnabled,\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpened: select( editorStore ).isListViewOpened(),\n\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\tisPreviewMode: editorSettings.__unstableIsPreviewMode,\n\t\t\tpreviousShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/editor/previous-region' ),\n\t\t\tnextShortcut: select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getAllShortcutKeyCombinations( 'core/editor/next-region' ),\n\t\t\tshowBlockBreadcrumbs: get( 'core', 'showBlockBreadcrumbs' ),\n\t\t\t// translators: Default label for the Document in the Block Breadcrumb.\n\t\t\tdocumentLabel: postTypeLabel || _x( 'Document', 'noun' ),\n\t\t\tisZoomOut: _isZoomOut(),\n\t\t};\n\t}, [] );\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst secondarySidebarLabel = isListViewOpened\n\t\t? __( 'Document Overview' )\n\t\t: __( 'Block Library' );\n\n\t// Local state for save panel.\n\t// Note 'truthy' callback implies an open panel.\n\tconst [ entitiesSavedStatesCallback, setEntitiesSavedStatesCallback ] =\n\t\tuseState( false );\n\tconst closeEntitiesSavedStates = useCallback(\n\t\t( arg ) => {\n\t\t\tif ( typeof entitiesSavedStatesCallback === 'function' ) {\n\t\t\t\tentitiesSavedStatesCallback( arg );\n\t\t\t}\n\t\t\tsetEntitiesSavedStatesCallback( false );\n\t\t},\n\t\t[ entitiesSavedStatesCallback ]\n\t);\n\n\treturn (\n\t\t<InterfaceSkeleton\n\t\t\tenableRegionNavigation={ enableRegionNavigation }\n\t\t\tisDistractionFree={ isDistractionFree }\n\t\t\tclassName={ clsx( 'editor-editor-interface', className, {\n\t\t\t\t'is-entity-save-view-open': !! entitiesSavedStatesCallback,\n\t\t\t\t'is-distraction-free': isDistractionFree && ! isPreviewMode,\n\t\t\t} ) }\n\t\t\tlabels={ {\n\t\t\t\t...interfaceLabels,\n\t\t\t\tsecondarySidebar: secondarySidebarLabel,\n\t\t\t} }\n\t\t\theader={\n\t\t\t\t! isPreviewMode && (\n\t\t\t\t\t<Header\n\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcustomSaveButton={ customSaveButton }\n\t\t\t\t\t\tforceDisableBlockTools={ forceDisableBlockTools }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\tisEditorIframed={ ! disableIframe }\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\teditorNotices={ <EditorNotices /> }\n\t\t\tsecondarySidebar={\n\t\t\t\t! isPreviewMode &&\n\t\t\t\tmode === 'visual' &&\n\t\t\t\t( ( isInserterOpened && <InserterSidebar /> ) ||\n\t\t\t\t\t( isListViewOpened && <ListViewSidebar /> ) )\n\t\t\t}\n\t\t\tsidebar={\n\t\t\t\t! isPreviewMode &&\n\t\t\t\t! isDistractionFree && <ComplementaryArea.Slot scope=\"core\" />\n\t\t\t}\n\t\t\tcontent={\n\t\t\t\t<>\n\t\t\t\t\t{ ! isDistractionFree && ! isPreviewMode && (\n\t\t\t\t\t\t<EditorNotices />\n\t\t\t\t\t) }\n\n\t\t\t\t\t<EditorContentSlotFill.Slot>\n\t\t\t\t\t\t{ ( [ editorCanvasView ] ) =>\n\t\t\t\t\t\t\teditorCanvasView ? (\n\t\t\t\t\t\t\t\teditorCanvasView\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{ ! isPreviewMode &&\n\t\t\t\t\t\t\t\t\t\t( mode === 'text' ||\n\t\t\t\t\t\t\t\t\t\t\t! isRichEditingEnabled ) && (\n\t\t\t\t\t\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t\t\t\t\t\t// We should auto-focus the canvas (title) on load.\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\t\t\t\t\t\tautoFocus={ autoFocus }\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! isPreviewMode &&\n\t\t\t\t\t\t\t\t\t\t! isLargeViewport &&\n\t\t\t\t\t\t\t\t\t\tmode === 'visual' && (\n\t\t\t\t\t\t\t\t\t\t\t<BlockToolbar hideDragHandle />\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ( isPreviewMode ||\n\t\t\t\t\t\t\t\t\t\t( isRichEditingEnabled &&\n\t\t\t\t\t\t\t\t\t\t\tmode === 'visual' ) ) && (\n\t\t\t\t\t\t\t\t\t\t<VisualEditor\n\t\t\t\t\t\t\t\t\t\t\tstyles={ styles }\n\t\t\t\t\t\t\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t\t\t\t\t\t\t\tdisableIframe={ disableIframe }\n\t\t\t\t\t\t\t\t\t\t\t// We should auto-focus the canvas (title) on load.\n\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line jsx-a11y/no-autofocus\n\t\t\t\t\t\t\t\t\t\t\tautoFocus={ autoFocus }\n\t\t\t\t\t\t\t\t\t\t\tiframeProps={ iframeProps }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</EditorContentSlotFill.Slot>\n\t\t\t\t</>\n\t\t\t}\n\t\t\tfooter={\n\t\t\t\t! isPreviewMode &&\n\t\t\t\t! isDistractionFree &&\n\t\t\t\tisLargeViewport &&\n\t\t\t\tshowBlockBreadcrumbs &&\n\t\t\t\tisRichEditingEnabled &&\n\t\t\t\t! isZoomOut &&\n\t\t\t\tmode === 'visual' && (\n\t\t\t\t\t<BlockBreadcrumb rootLabelText={ documentLabel } />\n\t\t\t\t)\n\t\t\t}\n\t\t\tactions={\n\t\t\t\t! isPreviewMode\n\t\t\t\t\t? customSavePanel || (\n\t\t\t\t\t\t\t<SavePublishPanels\n\t\t\t\t\t\t\t\tcloseEntitiesSavedStates={\n\t\t\t\t\t\t\t\t\tcloseEntitiesSavedStates\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tisEntitiesSavedStatesOpen={\n\t\t\t\t\t\t\t\t\tentitiesSavedStatesCallback\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback={\n\t\t\t\t\t\t\t\t\tsetEntitiesSavedStatesCallback\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tforceIsDirtyPublishPanel={ forceIsDirty }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t  )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tshortcuts={ {\n\t\t\t\tprevious: previousShortcut,\n\t\t\t\tnext: nextShortcut,\n\t\t\t} }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { OverridesPanel } = unlock( patternsPrivateApis );\n\nexport default function PatternOverridesPanel() {\n\tconst supportsPatternOverridesPanel = useSelect(\n\t\t( select ) => select( editorStore ).getCurrentPostType() === 'wp_block',\n\t\t[]\n\t);\n\n\tif ( ! supportsPatternOverridesPanel ) {\n\t\treturn null;\n\t}\n\n\treturn <OverridesPanel />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useMemo, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nexport function usePostActions( { postType, onActionPerformed, context } ) {\n\tconst { defaultActions } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityActions } = unlock( select( editorStore ) );\n\t\t\treturn {\n\t\t\t\tdefaultActions: getEntityActions( 'postType', postType ),\n\t\t\t};\n\t\t},\n\t\t[ postType ]\n\t);\n\n\tconst { registerPostTypeActions } = unlock( useDispatch( editorStore ) );\n\tuseEffect( () => {\n\t\tregisterPostTypeActions( postType );\n\t}, [ registerPostTypeActions, postType ] );\n\n\treturn useMemo( () => {\n\t\t// Filter actions based on provided context. If not provided\n\t\t// all actions are returned. We'll have a single entry for getting the actions\n\t\t// and the consumer should provide the context to filter the actions, if needed.\n\t\t// Actions should also provide the `context` they support, if it's specific, to\n\t\t// compare with the provided context to get all the actions.\n\t\t// Right now the only supported context is `list`.\n\t\tconst actions = defaultActions.filter( ( action ) => {\n\t\t\tif ( ! action.context ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn action.context === context;\n\t\t} );\n\n\t\tif ( onActionPerformed ) {\n\t\t\tfor ( let i = 0; i < actions.length; ++i ) {\n\t\t\t\tif ( actions[ i ].callback ) {\n\t\t\t\t\tconst existingCallback = actions[ i ].callback;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tcallback: ( items, argsObject ) => {\n\t\t\t\t\t\t\texistingCallback( items, {\n\t\t\t\t\t\t\t\t...argsObject,\n\t\t\t\t\t\t\t\tonActionPerformed: ( _items ) => {\n\t\t\t\t\t\t\t\t\tif ( argsObject?.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\targsObject.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif ( actions[ i ].RenderModal ) {\n\t\t\t\t\tconst ExistingRenderModal = actions[ i ].RenderModal;\n\t\t\t\t\tactions[ i ] = {\n\t\t\t\t\t\t...actions[ i ],\n\t\t\t\t\t\tRenderModal: ( props ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ExistingRenderModal\n\t\t\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\t\t\tonActionPerformed={ ( _items ) => {\n\t\t\t\t\t\t\t\t\t\tif ( props.onActionPerformed ) {\n\t\t\t\t\t\t\t\t\t\t\tprops.onActionPerformed( _items );\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonActionPerformed(\n\t\t\t\t\t\t\t\t\t\t\tactions[ i ].id,\n\t\t\t\t\t\t\t\t\t\t\t_items\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn actions;\n\t}, [ defaultActions, onActionPerformed, context ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport {\n\tprivateApis as componentsPrivateApis,\n\tButton,\n\tModal,\n} from '@wordpress/components';\nimport { moreVertical } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { usePostActions } from './actions';\n\nconst { DropdownMenuV2, kebabCase } = unlock( componentsPrivateApis );\n\nexport default function PostActions( { postType, postId, onActionPerformed } ) {\n\tconst [ isActionsMenuOpen, setIsActionsMenuOpen ] = useState( false );\n\tconst { item, permissions } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedEntityRecord, getEntityRecordPermissions } =\n\t\t\t\tunlock( select( coreStore ) );\n\t\t\treturn {\n\t\t\t\titem: getEditedEntityRecord( 'postType', postType, postId ),\n\t\t\t\tpermissions: getEntityRecordPermissions(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t[ postId, postType ]\n\t);\n\tconst itemWithPermissions = useMemo( () => {\n\t\treturn {\n\t\t\t...item,\n\t\t\tpermissions,\n\t\t};\n\t}, [ item, permissions ] );\n\tconst allActions = usePostActions( { postType, onActionPerformed } );\n\n\tconst actions = useMemo( () => {\n\t\treturn allActions.filter( ( action ) => {\n\t\t\treturn (\n\t\t\t\t! action.isEligible || action.isEligible( itemWithPermissions )\n\t\t\t);\n\t\t} );\n\t}, [ allActions, itemWithPermissions ] );\n\n\treturn (\n\t\t<DropdownMenuV2\n\t\t\topen={ isActionsMenuOpen }\n\t\t\ttrigger={\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\ticon={ moreVertical }\n\t\t\t\t\tlabel={ __( 'Actions' ) }\n\t\t\t\t\tdisabled={ ! actions.length }\n\t\t\t\t\taccessibleWhenDisabled\n\t\t\t\t\tclassName=\"editor-all-actions-button\"\n\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\tsetIsActionsMenuOpen( ! isActionsMenuOpen )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tonOpenChange={ setIsActionsMenuOpen }\n\t\t\tplacement=\"bottom-end\"\n\t\t>\n\t\t\t<ActionsDropdownMenuGroup\n\t\t\t\tactions={ actions }\n\t\t\t\titem={ itemWithPermissions }\n\t\t\t\tonClose={ () => {\n\t\t\t\t\tsetIsActionsMenuOpen( false );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</DropdownMenuV2>\n\t);\n}\n\n// From now on all the functions on this file are copied as from the dataviews packages,\n// The editor packages should not be using the dataviews packages directly,\n// and the dataviews package should not be using the editor packages directly,\n// so duplicating the code here seems like the least bad option.\n\n// Copied as is from packages/dataviews/src/item-actions.js\nfunction DropdownMenuItemTrigger( { action, onClick, items } ) {\n\tconst label =\n\t\ttypeof action.label === 'string' ? action.label : action.label( items );\n\treturn (\n\t\t<DropdownMenuV2.Item\n\t\t\tonClick={ onClick }\n\t\t\thideOnClick={ ! action.RenderModal }\n\t\t>\n\t\t\t<DropdownMenuV2.ItemLabel>{ label }</DropdownMenuV2.ItemLabel>\n\t\t</DropdownMenuV2.Item>\n\t);\n}\n\n// Copied as is from packages/dataviews/src/item-actions.js\n// With an added onClose prop.\nfunction ActionWithModal( { action, item, ActionTrigger, onClose } ) {\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst actionTriggerProps = {\n\t\taction,\n\t\tonClick: () => setIsModalOpen( true ),\n\t\titems: [ item ],\n\t};\n\tconst { RenderModal, hideModalHeader } = action;\n\treturn (\n\t\t<>\n\t\t\t<ActionTrigger { ...actionTriggerProps } />\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ action.modalHeader || action.label }\n\t\t\t\t\t__experimentalHideHeader={ !! hideModalHeader }\n\t\t\t\t\tonRequestClose={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\toverlayClassName={ `editor-action-modal editor-action-modal__${ kebabCase(\n\t\t\t\t\t\taction.id\n\t\t\t\t\t) }` }\n\t\t\t\t\tfocusOnMount=\"firstContentElement\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t>\n\t\t\t\t\t<RenderModal\n\t\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\t\tcloseModal={ () => {\n\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\n// Copied as is from packages/dataviews/src/item-actions.js\n// With an added onClose prop.\nfunction ActionsDropdownMenuGroup( { actions, item, onClose } ) {\n\treturn (\n\t\t<DropdownMenuV2.Group>\n\t\t\t{ actions.map( ( action ) => {\n\t\t\t\tif ( action.RenderModal ) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ActionWithModal\n\t\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\t\titem={ item }\n\t\t\t\t\t\t\tActionTrigger={ DropdownMenuItemTrigger }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<DropdownMenuItemTrigger\n\t\t\t\t\t\tkey={ action.id }\n\t\t\t\t\t\taction={ action }\n\t\t\t\t\t\tonClick={ () => action.callback( [ item ] ) }\n\t\t\t\t\t\titems={ [ item ] }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</DropdownMenuV2.Group>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n/**\n * WordPress dependencies\n */\nimport {\n\tIcon,\n\t__experimentalHStack as HStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tPATTERN_POST_TYPE,\n\tGLOBAL_POST_TYPES,\n} from '../../store/constants';\nimport { unlock } from '../../lock-unlock';\nimport PostActions from '../post-actions';\n\nexport default function PostCardPanel( {\n\tpostType,\n\tpostId,\n\tonActionPerformed,\n} ) {\n\tconst { isFrontPage, isPostsPage, title, icon, isSync } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { __experimentalGetTemplateInfo } = select( editorStore );\n\t\t\tconst { canUser, getEditedEntityRecord } = select( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\tconst _record = getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\t\t\tconst _templateInfo =\n\t\t\t\t[ TEMPLATE_POST_TYPE, TEMPLATE_PART_POST_TYPE ].includes(\n\t\t\t\t\tpostType\n\t\t\t\t) && __experimentalGetTemplateInfo( _record );\n\t\t\tlet _isSync = false;\n\t\t\tif ( GLOBAL_POST_TYPES.includes( postType ) ) {\n\t\t\t\tif ( PATTERN_POST_TYPE === postType ) {\n\t\t\t\t\t// When the post is first created, the top level wp_pattern_sync_status is not set so get meta value instead.\n\t\t\t\t\tconst currentSyncStatus =\n\t\t\t\t\t\t_record?.meta?.wp_pattern_sync_status === 'unsynced'\n\t\t\t\t\t\t\t? 'unsynced'\n\t\t\t\t\t\t\t: _record?.wp_pattern_sync_status;\n\t\t\t\t\t_isSync = currentSyncStatus !== 'unsynced';\n\t\t\t\t} else {\n\t\t\t\t\t_isSync = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttitle: _templateInfo?.title || _record?.title,\n\t\t\t\ticon: unlock( select( editorStore ) ).getPostIcon( postType, {\n\t\t\t\t\tarea: _record?.area,\n\t\t\t\t} ),\n\t\t\t\tisSync: _isSync,\n\t\t\t\tisFrontPage: siteSettings?.page_on_front === postId,\n\t\t\t\tisPostsPage: siteSettings?.page_for_posts === postId,\n\t\t\t};\n\t\t},\n\t\t[ postId, postType ]\n\t);\n\treturn (\n\t\t<div className=\"editor-post-card-panel\">\n\t\t\t<HStack\n\t\t\t\tspacing={ 2 }\n\t\t\t\tclassName=\"editor-post-card-panel__header\"\n\t\t\t\talign=\"flex-start\"\n\t\t\t>\n\t\t\t\t<Icon\n\t\t\t\t\tclassName={ clsx( 'editor-post-card-panel__icon', {\n\t\t\t\t\t\t'is-sync': isSync,\n\t\t\t\t\t} ) }\n\t\t\t\t\ticon={ icon }\n\t\t\t\t/>\n\t\t\t\t<Text\n\t\t\t\t\tnumberOfLines={ 2 }\n\t\t\t\t\ttruncate\n\t\t\t\t\tclassName=\"editor-post-card-panel__title\"\n\t\t\t\t\tweight={ 500 }\n\t\t\t\t\tas=\"h2\"\n\t\t\t\t\tlineHeight=\"20px\"\n\t\t\t\t>\n\t\t\t\t\t{ title ? decodeEntities( title ) : __( 'No title' ) }\n\t\t\t\t\t{ isFrontPage && (\n\t\t\t\t\t\t<span className=\"editor-post-card-panel__title-badge\">\n\t\t\t\t\t\t\t{ __( 'Homepage' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isPostsPage && (\n\t\t\t\t\t\t<span className=\"editor-post-card-panel__title-badge\">\n\t\t\t\t\t\t\t{ __( 'Posts Page' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</Text>\n\t\t\t\t<PostActions\n\t\t\t\t\tpostType={ postType }\n\t\t\t\t\tpostId={ postId }\n\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t/>\n\t\t\t</HStack>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __, _x, _n, sprintf } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../store/constants';\n\n// Taken from packages/editor/src/components/time-to-read/index.js.\nconst AVERAGE_READING_RATE = 189;\n\n// This component renders the wordcount and reading time for the post.\nexport default function PostContentInformation() {\n\tconst { postContent } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getCurrentPostType, getCurrentPostId } =\n\t\t\tselect( editorStore );\n\t\tconst { canUser } = select( coreStore );\n\t\tconst { getEntityRecord } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\tconst postType = getCurrentPostType();\n\t\tconst _id = getCurrentPostId();\n\t\tconst isPostsPage = +_id === siteSettings?.page_for_posts;\n\t\tconst showPostContentInfo =\n\t\t\t! isPostsPage &&\n\t\t\t! [ TEMPLATE_POST_TYPE, TEMPLATE_PART_POST_TYPE ].includes(\n\t\t\t\tpostType\n\t\t\t);\n\t\treturn {\n\t\t\tpostContent:\n\t\t\t\tshowPostContentInfo && getEditedPostAttribute( 'content' ),\n\t\t};\n\t}, [] );\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\tconst wordsCounted = useMemo(\n\t\t() => ( postContent ? wordCount( postContent, wordCountType ) : 0 ),\n\t\t[ postContent, wordCountType ]\n\t);\n\tif ( ! wordsCounted ) {\n\t\treturn null;\n\t}\n\tconst readingTime = Math.round( wordsCounted / AVERAGE_READING_RATE );\n\tconst wordsCountText = sprintf(\n\t\t// translators: %s: the number of words in the post.\n\t\t_n( '%s word', '%s words', wordsCounted ),\n\t\twordsCounted.toLocaleString()\n\t);\n\tconst minutesText =\n\t\treadingTime <= 1\n\t\t\t? __( '1 minute' )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %s: the number of minutes to read the post.\n\t\t\t\t\t_n( '%s minute', '%s minutes', readingTime ),\n\t\t\t\t\treadingTime.toLocaleString()\n\t\t\t  );\n\treturn (\n\t\t<div className=\"editor-post-content-information\">\n\t\t\t<Text>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t/* translators: 1: How many words a post has. 2: the number of minutes to read the post (e.g. 130 words, 2 minutes read time.) */\n\t\t\t\t\t__( '%1$s, %2$s read time.' ),\n\t\t\t\t\twordsCountText,\n\t\t\t\t\tminutesText\n\t\t\t\t) }\n\t\t\t</Text>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { default as PostFormatForm, POST_FORMATS } from './';\nimport PostFormatCheck from './check';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\n/**\n * Renders the Post Author Panel component.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostFormat() {\n\tconst { postFormat } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst _postFormat = getEditedPostAttribute( 'format' );\n\t\treturn {\n\t\t\tpostFormat: _postFormat ?? 'standard',\n\t\t};\n\t}, [] );\n\tconst activeFormat = POST_FORMATS.find(\n\t\t( format ) => format.id === postFormat\n\t);\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\treturn (\n\t\t<PostFormatCheck>\n\t\t\t<PostPanelRow label={ __( 'Format' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tcontentClassName=\"editor-post-format__dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post format.\n\t\t\t\t\t\t\t\t__( 'Change format: %s' ),\n\t\t\t\t\t\t\t\tactiveFormat?.caption\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ activeFormat?.caption }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<div className=\"editor-post-format__dialog-content\">\n\t\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\t\ttitle={ __( 'Format' ) }\n\t\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PostFormatForm />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostFormatCheck>\n\t);\n}\n\nexport default PostFormat;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { humanTimeDiff } from '@wordpress/date';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostLastEditedPanel() {\n\tconst modified = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'modified' ),\n\t\t[]\n\t);\n\tconst lastEditedText =\n\t\tmodified &&\n\t\tsprintf(\n\t\t\t// translators: %s: Human-readable time difference, e.g. \"2 days ago\".\n\t\t\t__( 'Last edited %s.' ),\n\t\t\thumanTimeDiff( modified )\n\t\t);\n\tif ( ! lastEditedText ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"editor-post-last-edited-panel\">\n\t\t\t<Text>{ lastEditedText }</Text>\n\t\t</div>\n\t);\n}\n","/**\n * External dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalVStack as VStack } from '@wordpress/components';\n\nfunction PostPanelSection( { className, children } ) {\n\treturn (\n\t\t<VStack className={ clsx( 'editor-post-panel__section', className ) }>\n\t\t\t{ children }\n\t\t</VStack>\n\t);\n}\n\nexport default PostPanelSection;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { debounce } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport {\n\tButton,\n\tDropdown,\n\t__experimentalInputControl as InputControl,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\nconst EMPTY_OBJECT = {};\n\nexport default function BlogTitle() {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { postsPageTitle, postsPageId, isTemplate, postSlug } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getEditedEntityRecord, canUser } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\tconst _postsPageRecord = siteSettings?.page_for_posts\n\t\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t'page',\n\t\t\t\t\t\tsiteSettings?.page_for_posts\n\t\t\t\t  )\n\t\t\t\t: EMPTY_OBJECT;\n\t\t\tconst { getEditedPostAttribute, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tpostsPageId: _postsPageRecord?.id,\n\t\t\t\tpostsPageTitle: _postsPageRecord?.title,\n\t\t\t\tisTemplate: getCurrentPostType() === TEMPLATE_POST_TYPE,\n\t\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif (\n\t\t! isTemplate ||\n\t\t! [ 'home', 'index' ].includes( postSlug ) ||\n\t\t! postsPageId\n\t) {\n\t\treturn null;\n\t}\n\n\tconst setPostsPageTitle = ( newValue ) => {\n\t\teditEntityRecord( 'postType', 'page', postsPageId, {\n\t\t\ttitle: newValue,\n\t\t} );\n\t};\n\tconst decodedTitle = decodeEntities( postsPageTitle );\n\treturn (\n\t\t<PostPanelRow label={ __( 'Blog title' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tcontentClassName=\"editor-blog-title-dropdown__content\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t// translators: %s: Current post link.\n\t\t\t\t\t\t\t__( 'Change blog title: %s' ),\n\t\t\t\t\t\t\tdecodedTitle\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ decodedTitle }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Blog title' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<InputControl\n\t\t\t\t\t\t\tplaceholder={ __( 'No title' ) }\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\tvalue={ postsPageTitle }\n\t\t\t\t\t\t\tonChange={ debounce( setPostsPageTitle, 300 ) }\n\t\t\t\t\t\t\tlabel={ __( 'Blog title' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Set the Posts Page title. Appears in search results, and when the page is shared on social media.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tButton,\n\tDropdown,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport { store as editorStore } from '../../store';\nimport PostPanelRow from '../post-panel-row';\n\nexport default function PostsPerPage() {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { postsPerPage, isTemplate, postSlug } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getCurrentPostType } =\n\t\t\tselect( editorStore );\n\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\tconst siteSettings = canUser( 'read', {\n\t\t\tkind: 'root',\n\t\t\tname: 'site',\n\t\t} )\n\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t: undefined;\n\t\treturn {\n\t\t\tisTemplate: getCurrentPostType() === TEMPLATE_POST_TYPE,\n\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\tpostsPerPage: siteSettings?.posts_per_page || 1,\n\t\t};\n\t}, [] );\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! isTemplate || ! [ 'home', 'index' ].includes( postSlug ) ) {\n\t\treturn null;\n\t}\n\tconst setPostsPerPage = ( newValue ) => {\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tposts_per_page: newValue,\n\t\t} );\n\t};\n\treturn (\n\t\t<PostPanelRow label={ __( 'Posts per page' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tcontentClassName=\"editor-posts-per-page-dropdown__content\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-label={ __( 'Change posts per page' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ postsPerPage }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Posts per page' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\tplaceholder={ 0 }\n\t\t\t\t\t\t\tvalue={ postsPerPage }\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\tspinControls=\"custom\"\n\t\t\t\t\t\t\tstep=\"1\"\n\t\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\t\tonChange={ setPostsPerPage }\n\t\t\t\t\t\t\tlabel={ __( 'Posts per page' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Set the default number of posts to display on blog pages, including categories and tags. Some templates may override this setting.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport {\n\tButton,\n\tDropdown,\n\tRadioControl,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useState, useMemo } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\n\nconst COMMENT_OPTIONS = [\n\t{\n\t\tlabel: _x( 'Open', 'Adjective: e.g. \"Comments are open\"' ),\n\t\tvalue: 'open',\n\t\tdescription: __( 'Visitors can add new comments and replies.' ),\n\t},\n\t{\n\t\tlabel: __( 'Closed' ),\n\t\tvalue: '',\n\t\tdescription: [\n\t\t\t__( 'Visitors cannot add new comments or replies.' ),\n\t\t\t__( 'Existing comments remain visible.' ),\n\t\t].join( ' ' ),\n\t},\n];\n\nexport default function SiteDiscussion() {\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst { allowCommentsOnNewPosts, isTemplate, postSlug } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute, getCurrentPostType } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEditedEntityRecord, canUser } = select( coreStore );\n\t\t\tconst siteSettings = canUser( 'read', {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t} )\n\t\t\t\t? getEditedEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\t\t\treturn {\n\t\t\t\tisTemplate: getCurrentPostType() === TEMPLATE_POST_TYPE,\n\t\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\t\tallowCommentsOnNewPosts:\n\t\t\t\t\tsiteSettings?.default_comment_status || '',\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\tplacement: 'left-start',\n\t\t\toffset: 36,\n\t\t\tshift: true,\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tif ( ! isTemplate || ! [ 'home', 'index' ].includes( postSlug ) ) {\n\t\treturn null;\n\t}\n\tconst setAllowCommentsOnNewPosts = ( newValue ) => {\n\t\teditEntityRecord( 'root', 'site', undefined, {\n\t\t\tdefault_comment_status: newValue ? 'open' : null,\n\t\t} );\n\t};\n\treturn (\n\t\t<PostPanelRow label={ __( 'Discussion' ) } ref={ setPopoverAnchor }>\n\t\t\t<Dropdown\n\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\tcontentClassName=\"editor-site-discussion-dropdown__content\"\n\t\t\t\tfocusOnMount\n\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\taria-label={ __( 'Change discussion settings' ) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ allowCommentsOnNewPosts\n\t\t\t\t\t\t\t? __( 'Comments open' )\n\t\t\t\t\t\t\t: __( 'Comments closed' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<InspectorPopoverHeader\n\t\t\t\t\t\t\ttitle={ __( 'Discussion' ) }\n\t\t\t\t\t\t\tonClose={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<VStack spacing={ 3 }>\n\t\t\t\t\t\t\t<Text>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'Changes will apply to new posts only. Individual posts may override these settings.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\t\tclassName=\"editor-site-discussion__options\"\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\tlabel={ __( 'Comment status' ) }\n\t\t\t\t\t\t\t\toptions={ COMMENT_OPTIONS }\n\t\t\t\t\t\t\t\tonChange={ setAllowCommentsOnNewPosts }\n\t\t\t\t\t\t\t\tselected={ allowCommentsOnNewPosts }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</PostPanelRow>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalVStack as VStack } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PluginPostStatusInfo from '../plugin-post-status-info';\nimport PostAuthorPanel from '../post-author/panel';\nimport PostCardPanel from '../post-card-panel';\nimport PostContentInformation from '../post-content-information';\nimport PageAttributesPanel from '../page-attributes/panel';\nimport PostDiscussionPanel from '../post-discussion/panel';\nimport { PrivatePostExcerptPanel as PostExcerptPanel } from '../post-excerpt/panel';\nimport PostFeaturedImagePanel from '../post-featured-image/panel';\nimport PostFormatPanel from '../post-format/panel';\nimport PostLastEditedPanel from '../post-last-edited-panel';\nimport PostPanelSection from '../post-panel-section';\nimport PostSchedulePanel from '../post-schedule/panel';\nimport PostStatusPanel from '../post-status';\nimport PostSyncStatus from '../post-sync-status';\nimport PostTemplatePanel from '../post-template/panel';\nimport PostURLPanel from '../post-url/panel';\nimport BlogTitle from '../blog-title';\nimport PostsPerPage from '../posts-per-page';\nimport SiteDiscussion from '../site-discussion';\nimport { store as editorStore } from '../../store';\nimport { PrivatePostLastRevision } from '../post-last-revision';\nimport PostTrash from '../post-trash';\n\n/**\n * Module Constants\n */\nconst PANEL_NAME = 'post-status';\n\nexport default function PostSummary( { onActionPerformed } ) {\n\tconst { isRemovedPostStatusPanel, postType, postId } = useSelect(\n\t\t( select ) => {\n\t\t\t// We use isEditorPanelRemoved to hide the panel if it was programatically removed. We do\n\t\t\t// not use isEditorPanelEnabled since this panel should not be disabled through the UI.\n\t\t\tconst {\n\t\t\t\tisEditorPanelRemoved,\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetCurrentPostId,\n\t\t\t} = select( editorStore );\n\t\t\treturn {\n\t\t\t\tisRemovedPostStatusPanel: isEditorPanelRemoved( PANEL_NAME ),\n\t\t\t\tpostType: getCurrentPostType(),\n\t\t\t\tpostId: getCurrentPostId(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\treturn (\n\t\t<PostPanelSection className=\"editor-post-summary\">\n\t\t\t<PluginPostStatusInfo.Slot>\n\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t<PostCardPanel\n\t\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\t\tpostId={ postId }\n\t\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PostFeaturedImagePanel withPanelBody={ false } />\n\t\t\t\t\t\t\t<PostExcerptPanel />\n\t\t\t\t\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t\t\t\t\t<PostContentInformation />\n\t\t\t\t\t\t\t\t<PostLastEditedPanel />\n\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t{ ! isRemovedPostStatusPanel && (\n\t\t\t\t\t\t\t\t<VStack spacing={ 4 }>\n\t\t\t\t\t\t\t\t\t<VStack spacing={ 1 }>\n\t\t\t\t\t\t\t\t\t\t<PostStatusPanel />\n\t\t\t\t\t\t\t\t\t\t<PostSchedulePanel />\n\t\t\t\t\t\t\t\t\t\t<PostURLPanel />\n\t\t\t\t\t\t\t\t\t\t<PostAuthorPanel />\n\t\t\t\t\t\t\t\t\t\t<PostTemplatePanel />\n\t\t\t\t\t\t\t\t\t\t<PostDiscussionPanel />\n\t\t\t\t\t\t\t\t\t\t<PrivatePostLastRevision />\n\t\t\t\t\t\t\t\t\t\t<PageAttributesPanel />\n\t\t\t\t\t\t\t\t\t\t<PostSyncStatus />\n\t\t\t\t\t\t\t\t\t\t<BlogTitle />\n\t\t\t\t\t\t\t\t\t\t<PostsPerPage />\n\t\t\t\t\t\t\t\t\t\t<SiteDiscussion />\n\t\t\t\t\t\t\t\t\t\t<PostFormatPanel />\n\t\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t\t\t<PostTrash\n\t\t\t\t\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{ fills }\n\t\t\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</PluginPostStatusInfo.Slot>\n\t\t</PostPanelSection>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { parse } from '@wordpress/blocks';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { EXCLUDED_PATTERN_SOURCES, PATTERN_TYPES } =\n\tunlock( patternsPrivateApis );\n\nfunction injectThemeAttributeInBlockTemplateContent(\n\tblock,\n\tcurrentThemeStylesheet\n) {\n\tblock.innerBlocks = block.innerBlocks.map( ( innerBlock ) => {\n\t\treturn injectThemeAttributeInBlockTemplateContent(\n\t\t\tinnerBlock,\n\t\t\tcurrentThemeStylesheet\n\t\t);\n\t} );\n\n\tif (\n\t\tblock.name === 'core/template-part' &&\n\t\tblock.attributes.theme === undefined\n\t) {\n\t\tblock.attributes.theme = currentThemeStylesheet;\n\t}\n\treturn block;\n}\n\n/**\n * Filter all patterns and return only the ones that are compatible with the current template.\n *\n * @param {Array}  patterns An array of patterns.\n * @param {Object} template The current template.\n * @return {Array} Array of patterns that are compatible with the current template.\n */\nfunction filterPatterns( patterns, template ) {\n\t// Filter out duplicates.\n\tconst filterOutDuplicatesByName = ( currentItem, index, items ) =>\n\t\tindex === items.findIndex( ( item ) => currentItem.name === item.name );\n\n\t// Filter out core/directory patterns not included in theme.json.\n\tconst filterOutExcludedPatternSources = ( pattern ) =>\n\t\t! EXCLUDED_PATTERN_SOURCES.includes( pattern.source );\n\n\t// Looks for patterns that have the same template type as the current template,\n\t// or have a block type that matches the current template area.\n\tconst filterCompatiblePatterns = ( pattern ) =>\n\t\tpattern.templateTypes?.includes( template.slug ) ||\n\t\tpattern.blockTypes?.includes( 'core/template-part/' + template.area );\n\n\treturn patterns.filter( ( pattern, index, items ) => {\n\t\treturn (\n\t\t\tfilterOutDuplicatesByName( pattern, index, items ) &&\n\t\t\tfilterOutExcludedPatternSources( pattern ) &&\n\t\t\tfilterCompatiblePatterns( pattern )\n\t\t);\n\t} );\n}\n\nfunction preparePatterns( patterns, currentThemeStylesheet ) {\n\treturn patterns.map( ( pattern ) => ( {\n\t\t...pattern,\n\t\tkeywords: pattern.keywords || [],\n\t\ttype: PATTERN_TYPES.theme,\n\t\tblocks: parse( pattern.content, {\n\t\t\t__unstableSkipMigrationLogs: true,\n\t\t} ).map( ( block ) =>\n\t\t\tinjectThemeAttributeInBlockTemplateContent(\n\t\t\t\tblock,\n\t\t\t\tcurrentThemeStylesheet\n\t\t\t)\n\t\t),\n\t} ) );\n}\n\nexport function useAvailablePatterns( template ) {\n\tconst { blockPatterns, restBlockPatterns, currentThemeStylesheet } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getEditorSettings } = select( editorStore );\n\t\t\tconst settings = getEditorSettings();\n\n\t\t\treturn {\n\t\t\t\tblockPatterns:\n\t\t\t\t\tsettings.__experimentalAdditionalBlockPatterns ??\n\t\t\t\t\tsettings.__experimentalBlockPatterns,\n\t\t\t\trestBlockPatterns: select( coreStore ).getBlockPatterns(),\n\t\t\t\tcurrentThemeStylesheet:\n\t\t\t\t\tselect( coreStore ).getCurrentTheme().stylesheet,\n\t\t\t};\n\t\t}, [] );\n\n\treturn useMemo( () => {\n\t\tconst mergedPatterns = [\n\t\t\t...( blockPatterns || [] ),\n\t\t\t...( restBlockPatterns || [] ),\n\t\t];\n\t\tconst filteredPatterns = filterPatterns( mergedPatterns, template );\n\t\treturn preparePatterns(\n\t\t\tfilteredPatterns,\n\t\t\ttemplate,\n\t\t\tcurrentThemeStylesheet\n\t\t);\n\t}, [ blockPatterns, restBlockPatterns, template, currentThemeStylesheet ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useAsyncList } from '@wordpress/compose';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { serialize } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { useAvailablePatterns } from './hooks';\nimport {\n\tTEMPLATE_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n} from '../../store/constants';\n\nfunction TemplatesList( { availableTemplates, onSelect } ) {\n\tconst shownTemplates = useAsyncList( availableTemplates );\n\tif ( ! availableTemplates || availableTemplates?.length === 0 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tlabel={ __( 'Templates' ) }\n\t\t\tblockPatterns={ availableTemplates }\n\t\t\tshownPatterns={ shownTemplates }\n\t\t\tonClickPattern={ onSelect }\n\t\t\tshowTitlesAsTooltip\n\t\t/>\n\t);\n}\n\nfunction PostTransform() {\n\tconst { record, postType, postId } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst type = getCurrentPostType();\n\t\tconst id = getCurrentPostId();\n\t\treturn {\n\t\t\tpostType: type,\n\t\t\tpostId: id,\n\t\t\trecord: getEditedEntityRecord( 'postType', type, id ),\n\t\t};\n\t}, [] );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tconst availablePatterns = useAvailablePatterns( record );\n\tconst onTemplateSelect = async ( selectedTemplate ) => {\n\t\tawait editEntityRecord( 'postType', postType, postId, {\n\t\t\tblocks: selectedTemplate.blocks,\n\t\t\tcontent: serialize( selectedTemplate.blocks ),\n\t\t} );\n\t};\n\tif ( ! availablePatterns?.length ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ __( 'Design' ) }\n\t\t\tinitialOpen={ record.type === TEMPLATE_PART_POST_TYPE }\n\t\t>\n\t\t\t<TemplatesList\n\t\t\t\tavailableTemplates={ availablePatterns }\n\t\t\t\tonSelect={ onTemplateSelect }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n\nexport default function PostTransformPanel() {\n\tconst { postType } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tif (\n\t\t! [ TEMPLATE_PART_POST_TYPE, TEMPLATE_POST_TYPE ].includes( postType )\n\t) {\n\t\treturn null;\n\t}\n\n\treturn <PostTransform />;\n}\n","export const sidebars = {\n\tdocument: 'edit-post/document',\n\tblock: 'edit-post/block',\n};\n","/**\n * WordPress dependencies\n */\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { sidebars } from './constants';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nconst SidebarHeader = ( _, ref ) => {\n\tconst { documentLabel } = useSelect( ( select ) => {\n\t\tconst { getPostTypeLabel } = select( editorStore );\n\n\t\treturn {\n\t\t\t// translators: Default label for the Document sidebar tab, not selected.\n\t\t\tdocumentLabel: getPostTypeLabel() || _x( 'Document', 'noun' ),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<Tabs.TabList ref={ ref }>\n\t\t\t<Tabs.Tab\n\t\t\t\ttabId={ sidebars.document }\n\t\t\t\t// Used for focus management in the SettingsSidebar component.\n\t\t\t\tdata-tab-id={ sidebars.document }\n\t\t\t>\n\t\t\t\t{ documentLabel }\n\t\t\t</Tabs.Tab>\n\t\t\t<Tabs.Tab\n\t\t\t\ttabId={ sidebars.block }\n\t\t\t\t// Used for focus management in the SettingsSidebar component.\n\t\t\t\tdata-tab-id={ sidebars.block }\n\t\t\t>\n\t\t\t\t{ /* translators: Text label for the Block Settings Sidebar tab. */ }\n\t\t\t\t{ __( 'Block' ) }\n\t\t\t</Tabs.Tab>\n\t\t</Tabs.TabList>\n\t);\n};\n\nexport default forwardRef( SidebarHeader );\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { applyFilters } from '@wordpress/hooks';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\nconst { BlockQuickNavigation } = unlock( blockEditorPrivateApis );\n\nconst POST_CONTENT_BLOCK_TYPES = [\n\t'core/post-title',\n\t'core/post-featured-image',\n\t'core/post-content',\n];\n\nconst TEMPLATE_PART_BLOCK = 'core/template-part';\n\nexport default function TemplateContentPanel() {\n\tconst postContentBlockTypes = useMemo(\n\t\t() =>\n\t\t\tapplyFilters(\n\t\t\t\t'editor.postContentBlockTypes',\n\t\t\t\tPOST_CONTENT_BLOCK_TYPES\n\t\t\t),\n\t\t[]\n\t);\n\n\tconst { clientIds, postType, renderingMode } = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tgetCurrentPostType,\n\t\t\t\tgetPostBlocksByName,\n\t\t\t\tgetRenderingMode,\n\t\t\t} = unlock( select( editorStore ) );\n\t\t\tconst _postType = getCurrentPostType();\n\t\t\treturn {\n\t\t\t\tpostType: _postType,\n\t\t\t\tclientIds: getPostBlocksByName(\n\t\t\t\t\tTEMPLATE_POST_TYPE === _postType\n\t\t\t\t\t\t? TEMPLATE_PART_BLOCK\n\t\t\t\t\t\t: postContentBlockTypes\n\t\t\t\t),\n\t\t\t\trenderingMode: getRenderingMode(),\n\t\t\t};\n\t\t},\n\t\t[ postContentBlockTypes ]\n\t);\n\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tif (\n\t\t( renderingMode === 'post-only' && postType !== TEMPLATE_POST_TYPE ) ||\n\t\tclientIds.length === 0\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody title={ __( 'Content' ) }>\n\t\t\t<BlockQuickNavigation\n\t\t\t\tclientIds={ clientIds }\n\t\t\t\tonSelect={ () => {\n\t\t\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as blocksStore } from '@wordpress/blocks';\nimport {\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { TEMPLATE_PART_POST_TYPE } from '../../store/constants';\nimport { store as editorStore } from '../../store';\n\nconst { BlockQuickNavigation } = unlock( blockEditorPrivateApis );\n\nfunction TemplatePartContentPanelInner() {\n\tconst blockTypes = useSelect( ( select ) => {\n\t\tconst { getBlockTypes } = select( blocksStore );\n\t\treturn getBlockTypes();\n\t}, [] );\n\tconst themeBlockNames = useMemo( () => {\n\t\treturn blockTypes\n\t\t\t.filter( ( blockType ) => {\n\t\t\t\treturn blockType.category === 'theme';\n\t\t\t} )\n\t\t\t.map( ( { name } ) => name );\n\t}, [ blockTypes ] );\n\tconst themeBlocks = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlocksByName } = select( blockEditorStore );\n\t\t\treturn getBlocksByName( themeBlockNames );\n\t\t},\n\t\t[ themeBlockNames ]\n\t);\n\tif ( themeBlocks.length === 0 ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<PanelBody title={ __( 'Content' ) }>\n\t\t\t<BlockQuickNavigation clientIds={ themeBlocks } />\n\t\t</PanelBody>\n\t);\n}\n\nexport default function TemplatePartContentPanel() {\n\tconst postType = useSelect( ( select ) => {\n\t\tconst { getCurrentPostType } = select( editorStore );\n\t\treturn getCurrentPostType();\n\t}, [] );\n\tif ( postType !== TEMPLATE_PART_POST_TYPE ) {\n\t\treturn null;\n\t}\n\n\treturn <TemplatePartContentPanelInner />;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * This listener hook monitors for block selection and triggers the appropriate\n * sidebar state.\n */\nfunction useAutoSwitchEditorSidebars() {\n\tconst { hasBlockSelection } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\thasBlockSelection:\n\t\t\t\t!! select( blockEditorStore ).getBlockSelectionStart(),\n\t\t};\n\t}, [] );\n\n\tconst { getActiveComplementaryArea } = useSelect( interfaceStore );\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\tconst { get: getPreference } = useSelect( preferencesStore );\n\n\tuseEffect( () => {\n\t\tconst activeGeneralSidebar = getActiveComplementaryArea( 'core' );\n\t\tconst isEditorSidebarOpened = [\n\t\t\t'edit-post/document',\n\t\t\t'edit-post/block',\n\t\t].includes( activeGeneralSidebar );\n\t\tconst isDistractionFree = getPreference( 'core', 'distractionFree' );\n\t\tif ( ! isEditorSidebarOpened || isDistractionFree ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( hasBlockSelection ) {\n\t\t\tenableComplementaryArea( 'core', 'edit-post/block' );\n\t\t} else {\n\t\t\tenableComplementaryArea( 'core', 'edit-post/document' );\n\t\t}\n\t}, [\n\t\thasBlockSelection,\n\t\tgetActiveComplementaryArea,\n\t\tenableComplementaryArea,\n\t\tgetPreference,\n\t] );\n}\n\nexport default useAutoSwitchEditorSidebars;\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockInspector,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tPlatform,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseRef,\n} from '@wordpress/element';\nimport { isRTL, __ } from '@wordpress/i18n';\nimport { drawerLeft, drawerRight } from '@wordpress/icons';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { privateApis as componentsPrivateApis } from '@wordpress/components';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport PatternOverridesPanel from '../pattern-overrides-panel';\nimport PluginDocumentSettingPanel from '../plugin-document-setting-panel';\nimport PluginSidebar from '../plugin-sidebar';\nimport PostSummary from './post-summary';\nimport PostTaxonomiesPanel from '../post-taxonomies/panel';\nimport PostTransformPanel from '../post-transform-panel';\nimport SidebarHeader from './header';\nimport TemplateContentPanel from '../template-content-panel';\nimport TemplatePartContentPanel from '../template-part-content-panel';\nimport useAutoSwitchEditorSidebars from '../provider/use-auto-switch-editor-sidebars';\nimport { sidebars } from './constants';\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport {\n\tNAVIGATION_POST_TYPE,\n\tTEMPLATE_PART_POST_TYPE,\n\tTEMPLATE_POST_TYPE,\n} from '../../store/constants';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nconst SIDEBAR_ACTIVE_BY_DEFAULT = Platform.select( {\n\tweb: true,\n\tnative: false,\n} );\n\nconst SidebarContent = ( {\n\ttabName,\n\tkeyboardShortcut,\n\tonActionPerformed,\n\textraPanels,\n} ) => {\n\tconst tabListRef = useRef( null );\n\t// Because `PluginSidebar` renders a `ComplementaryArea`, we\n\t// need to forward the `Tabs` context so it can be passed through the\n\t// underlying slot/fill.\n\tconst tabsContextValue = useContext( Tabs.Context );\n\n\t// This effect addresses a race condition caused by tabbing from the last\n\t// block in the editor into the settings sidebar. Without this effect, the\n\t// selected tab and browser focus can become separated in an unexpected way\n\t// (e.g the \"block\" tab is focused, but the \"post\" tab is selected).\n\tuseEffect( () => {\n\t\tconst tabsElements = Array.from(\n\t\t\ttabListRef.current?.querySelectorAll( '[role=\"tab\"]' ) || []\n\t\t);\n\t\tconst selectedTabElement = tabsElements.find(\n\t\t\t// We are purposefully using a custom `data-tab-id` attribute here\n\t\t\t// because we don't want rely on any assumptions about `Tabs`\n\t\t\t// component internals.\n\t\t\t( element ) => element.getAttribute( 'data-tab-id' ) === tabName\n\t\t);\n\t\tconst activeElement = selectedTabElement?.ownerDocument.activeElement;\n\t\tconst tabsHasFocus = tabsElements.some( ( element ) => {\n\t\t\treturn activeElement && activeElement.id === element.id;\n\t\t} );\n\t\tif (\n\t\t\ttabsHasFocus &&\n\t\t\tselectedTabElement &&\n\t\t\tselectedTabElement.id !== activeElement?.id\n\t\t) {\n\t\t\tselectedTabElement?.focus();\n\t\t}\n\t}, [ tabName ] );\n\n\treturn (\n\t\t<PluginSidebar\n\t\t\tidentifier={ tabName }\n\t\t\theader={\n\t\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t\t<SidebarHeader ref={ tabListRef } />\n\t\t\t\t</Tabs.Context.Provider>\n\t\t\t}\n\t\t\tcloseLabel={ __( 'Close Settings' ) }\n\t\t\t// This classname is added so we can apply a corrective negative\n\t\t\t// margin to the panel.\n\t\t\t// see https://github.com/WordPress/gutenberg/pull/55360#pullrequestreview-1737671049\n\t\t\tclassName=\"editor-sidebar__panel\"\n\t\t\theaderClassName=\"editor-sidebar__panel-tabs\"\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\ttitle={ __( 'Settings' ) }\n\t\t\ttoggleShortcut={ keyboardShortcut }\n\t\t\ticon={ isRTL() ? drawerLeft : drawerRight }\n\t\t\tisActiveByDefault={ SIDEBAR_ACTIVE_BY_DEFAULT }\n\t\t>\n\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t<Tabs.TabPanel tabId={ sidebars.document } focusable={ false }>\n\t\t\t\t\t<PostSummary onActionPerformed={ onActionPerformed } />\n\t\t\t\t\t<PluginDocumentSettingPanel.Slot />\n\t\t\t\t\t<TemplateContentPanel />\n\t\t\t\t\t<TemplatePartContentPanel />\n\t\t\t\t\t<PostTransformPanel />\n\t\t\t\t\t<PostTaxonomiesPanel />\n\t\t\t\t\t<PatternOverridesPanel />\n\t\t\t\t\t{ extraPanels }\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t<Tabs.TabPanel tabId={ sidebars.block } focusable={ false }>\n\t\t\t\t\t<BlockInspector />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t</Tabs.Context.Provider>\n\t\t</PluginSidebar>\n\t);\n};\n\nconst Sidebar = ( { extraPanels, onActionPerformed } ) => {\n\tuseAutoSwitchEditorSidebars();\n\tconst { tabName, keyboardShortcut, showSummary } = useSelect(\n\t\t( select ) => {\n\t\t\tconst shortcut = select(\n\t\t\t\tkeyboardShortcutsStore\n\t\t\t).getShortcutRepresentation( 'core/editor/toggle-sidebar' );\n\n\t\t\tconst sidebar =\n\t\t\t\tselect( interfaceStore ).getActiveComplementaryArea( 'core' );\n\t\t\tconst _isEditorSidebarOpened = [\n\t\t\t\tsidebars.block,\n\t\t\t\tsidebars.document,\n\t\t\t].includes( sidebar );\n\t\t\tlet _tabName = sidebar;\n\t\t\tif ( ! _isEditorSidebarOpened ) {\n\t\t\t\t_tabName = !! select(\n\t\t\t\t\tblockEditorStore\n\t\t\t\t).getBlockSelectionStart()\n\t\t\t\t\t? sidebars.block\n\t\t\t\t\t: sidebars.document;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttabName: _tabName,\n\t\t\t\tkeyboardShortcut: shortcut,\n\t\t\t\tshowSummary: ! [\n\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\tTEMPLATE_PART_POST_TYPE,\n\t\t\t\t\tNAVIGATION_POST_TYPE,\n\t\t\t\t].includes( select( editorStore ).getCurrentPostType() ),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst { enableComplementaryArea } = useDispatch( interfaceStore );\n\n\tconst onTabSelect = useCallback(\n\t\t( newSelectedTabId ) => {\n\t\t\tif ( !! newSelectedTabId ) {\n\t\t\t\tenableComplementaryArea( 'core', newSelectedTabId );\n\t\t\t}\n\t\t},\n\t\t[ enableComplementaryArea ]\n\t);\n\n\treturn (\n\t\t<Tabs\n\t\t\tselectedTabId={ tabName }\n\t\t\tonSelect={ onTabSelect }\n\t\t\tselectOnMove={ false }\n\t\t>\n\t\t\t<SidebarContent\n\t\t\t\ttabName={ tabName }\n\t\t\t\tkeyboardShortcut={ keyboardShortcut }\n\t\t\t\tshowSummary={ showSummary }\n\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\textraPanels={ extraPanels }\n\t\t\t/>\n\t\t</Tabs>\n\t);\n};\n\nexport default Sidebar;\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { privateApis as preferencesPrivateApis } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst { PreferenceBaseOption } = unlock( preferencesPrivateApis );\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\tisChecked: select( editorStore ).isPublishSidebarEnabled(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { enablePublishSidebar, disablePublishSidebar } =\n\t\t\tdispatch( editorStore );\n\t\treturn {\n\t\t\tonChange: ( isEnabled ) =>\n\t\t\t\tisEnabled ? enablePublishSidebar() : disablePublishSidebar(),\n\t\t};\n\t} )\n)( PreferenceBaseOption );\n","/**\n * WordPress dependencies\n */\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { CheckboxControl } from '@wordpress/components';\n\nfunction BlockTypesChecklist( { blockTypes, value, onItemChange } ) {\n\treturn (\n\t\t<ul className=\"editor-block-manager__checklist\">\n\t\t\t{ blockTypes.map( ( blockType ) => (\n\t\t\t\t<li\n\t\t\t\t\tkey={ blockType.name }\n\t\t\t\t\tclassName=\"editor-block-manager__checklist-item\"\n\t\t\t\t>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ blockType.title }\n\t\t\t\t\t\tchecked={ value.includes( blockType.name ) }\n\t\t\t\t\t\tonChange={ ( ...args ) =>\n\t\t\t\t\t\t\tonItemChange( blockType.name, ...args )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<BlockIcon icon={ blockType.icon } />\n\t\t\t\t</li>\n\t\t\t) ) }\n\t\t</ul>\n\t);\n}\n\nexport default BlockTypesChecklist;\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { CheckboxControl } from '@wordpress/components';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesChecklist from './checklist';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nfunction BlockManagerCategory( { title, blockTypes } ) {\n\tconst instanceId = useInstanceId( BlockManagerCategory );\n\tconst { allowedBlockTypes, hiddenBlockTypes } = useSelect( ( select ) => {\n\t\tconst { getEditorSettings } = select( editorStore );\n\t\tconst { get } = select( preferencesStore );\n\t\treturn {\n\t\t\tallowedBlockTypes: getEditorSettings().allowedBlockTypes,\n\t\t\thiddenBlockTypes: get( 'core', 'hiddenBlockTypes' ),\n\t\t};\n\t}, [] );\n\tconst filteredBlockTypes = useMemo( () => {\n\t\tif ( allowedBlockTypes === true ) {\n\t\t\treturn blockTypes;\n\t\t}\n\t\treturn blockTypes.filter( ( { name } ) => {\n\t\t\treturn allowedBlockTypes?.includes( name );\n\t\t} );\n\t}, [ allowedBlockTypes, blockTypes ] );\n\tconst { showBlockTypes, hideBlockTypes } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\tconst toggleVisible = useCallback(\n\t\t( blockName, nextIsChecked ) => {\n\t\t\tif ( nextIsChecked ) {\n\t\t\t\tshowBlockTypes( blockName );\n\t\t\t} else {\n\t\t\t\thideBlockTypes( blockName );\n\t\t\t}\n\t\t},\n\t\t[ showBlockTypes, hideBlockTypes ]\n\t);\n\tconst toggleAllVisible = useCallback(\n\t\t( nextIsChecked ) => {\n\t\t\tconst blockNames = blockTypes.map( ( { name } ) => name );\n\t\t\tif ( nextIsChecked ) {\n\t\t\t\tshowBlockTypes( blockNames );\n\t\t\t} else {\n\t\t\t\thideBlockTypes( blockNames );\n\t\t\t}\n\t\t},\n\t\t[ blockTypes, showBlockTypes, hideBlockTypes ]\n\t);\n\n\tif ( ! filteredBlockTypes.length ) {\n\t\treturn null;\n\t}\n\n\tconst checkedBlockNames = filteredBlockTypes\n\t\t.map( ( { name } ) => name )\n\t\t.filter( ( type ) => ! ( hiddenBlockTypes ?? [] ).includes( type ) );\n\n\tconst titleId = 'editor-block-manager__category-title-' + instanceId;\n\n\tconst isAllChecked = checkedBlockNames.length === filteredBlockTypes.length;\n\tconst isIndeterminate = ! isAllChecked && checkedBlockNames.length > 0;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"group\"\n\t\t\taria-labelledby={ titleId }\n\t\t\tclassName=\"editor-block-manager__category\"\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tchecked={ isAllChecked }\n\t\t\t\tonChange={ toggleAllVisible }\n\t\t\t\tclassName=\"editor-block-manager__category-title\"\n\t\t\t\tindeterminate={ isIndeterminate }\n\t\t\t\tlabel={ <span id={ titleId }>{ title }</span> }\n\t\t\t/>\n\t\t\t<BlockTypesChecklist\n\t\t\t\tblockTypes={ filteredBlockTypes }\n\t\t\t\tvalue={ checkedBlockNames }\n\t\t\t\tonItemChange={ toggleVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default BlockManagerCategory;\n","/**\n * WordPress dependencies\n */\nimport { store as blocksStore } from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { SearchControl, Button } from '@wordpress/components';\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { useEffect, useState } from '@wordpress/element';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport BlockManagerCategory from './category';\n\nexport default function BlockManager() {\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\tconst [ search, setSearch ] = useState( '' );\n\tconst { showBlockTypes } = unlock( useDispatch( editorStore ) );\n\n\tconst {\n\t\tblockTypes,\n\t\tcategories,\n\t\thasBlockSupport,\n\t\tisMatchingSearchTerm,\n\t\tnumberOfHiddenBlocks,\n\t} = useSelect( ( select ) => {\n\t\t// Some hidden blocks become unregistered\n\t\t// by removing for instance the plugin that registered them, yet\n\t\t// they're still remain as hidden by the user's action.\n\t\t// We consider \"hidden\", blocks which were hidden and\n\t\t// are still registered.\n\t\tconst _blockTypes = select( blocksStore ).getBlockTypes();\n\t\tconst hiddenBlockTypes = (\n\t\t\tselect( preferencesStore ).get( 'core', 'hiddenBlockTypes' ) ?? []\n\t\t).filter( ( hiddenBlock ) => {\n\t\t\treturn _blockTypes.some(\n\t\t\t\t( registeredBlock ) => registeredBlock.name === hiddenBlock\n\t\t\t);\n\t\t} );\n\n\t\treturn {\n\t\t\tblockTypes: _blockTypes,\n\t\t\tcategories: select( blocksStore ).getCategories(),\n\t\t\thasBlockSupport: select( blocksStore ).hasBlockSupport,\n\t\t\tisMatchingSearchTerm: select( blocksStore ).isMatchingSearchTerm,\n\t\t\tnumberOfHiddenBlocks:\n\t\t\t\tArray.isArray( hiddenBlockTypes ) && hiddenBlockTypes.length,\n\t\t};\n\t}, [] );\n\n\tfunction enableAllBlockTypes( newBlockTypes ) {\n\t\tconst blockNames = newBlockTypes.map( ( { name } ) => name );\n\t\tshowBlockTypes( blockNames );\n\t}\n\n\tconst filteredBlockTypes = blockTypes.filter(\n\t\t( blockType ) =>\n\t\t\thasBlockSupport( blockType, 'inserter', true ) &&\n\t\t\t( ! search || isMatchingSearchTerm( blockType, search ) ) &&\n\t\t\t( ! blockType.parent ||\n\t\t\t\tblockType.parent.includes( 'core/post-content' ) )\n\t);\n\n\t// Announce search results on change\n\tuseEffect( () => {\n\t\tif ( ! search ) {\n\t\t\treturn;\n\t\t}\n\t\tconst count = filteredBlockTypes.length;\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results. */\n\t\t\t_n( '%d result found.', '%d results found.', count ),\n\t\t\tcount\n\t\t);\n\t\tdebouncedSpeak( resultsFoundMessage );\n\t}, [ filteredBlockTypes?.length, search, debouncedSpeak ] );\n\n\treturn (\n\t\t<div className=\"editor-block-manager__content\">\n\t\t\t{ !! numberOfHiddenBlocks && (\n\t\t\t\t<div className=\"editor-block-manager__disabled-blocks-count\">\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t/* translators: %d: number of blocks. */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'%d block is hidden.',\n\t\t\t\t\t\t\t'%d blocks are hidden.',\n\t\t\t\t\t\t\tnumberOfHiddenBlocks\n\t\t\t\t\t\t),\n\t\t\t\t\t\tnumberOfHiddenBlocks\n\t\t\t\t\t) }\n\t\t\t\t\t<Button\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\tenableAllBlockTypes( filteredBlockTypes )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<SearchControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Search for a block' ) }\n\t\t\t\tplaceholder={ __( 'Search for a block' ) }\n\t\t\t\tvalue={ search }\n\t\t\t\tonChange={ ( nextSearch ) => setSearch( nextSearch ) }\n\t\t\t\tclassName=\"editor-block-manager__search\"\n\t\t\t/>\n\t\t\t<div\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\trole=\"region\"\n\t\t\t\taria-label={ __( 'Available block types' ) }\n\t\t\t\tclassName=\"editor-block-manager__results\"\n\t\t\t>\n\t\t\t\t{ filteredBlockTypes.length === 0 && (\n\t\t\t\t\t<p className=\"editor-block-manager__no-results\">\n\t\t\t\t\t\t{ __( 'No blocks found.' ) }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t\t{ categories.map( ( category ) => (\n\t\t\t\t\t<BlockManagerCategory\n\t\t\t\t\t\tkey={ category.slug }\n\t\t\t\t\t\ttitle={ category.title }\n\t\t\t\t\t\tblockTypes={ filteredBlockTypes.filter(\n\t\t\t\t\t\t\t( blockType ) =>\n\t\t\t\t\t\t\t\tblockType.category === category.slug\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) ) }\n\t\t\t\t<BlockManagerCategory\n\t\t\t\t\ttitle={ __( 'Uncategorized' ) }\n\t\t\t\t\tblockTypes={ filteredBlockTypes.filter(\n\t\t\t\t\t\t( { category } ) => ! category\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport {\n\tstore as preferencesStore,\n\tprivateApis as preferencesPrivateApis,\n} from '@wordpress/preferences';\nimport { store as interfaceStore } from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport EnablePanelOption from './enable-panel';\nimport EnablePluginDocumentSettingPanelOption from './enable-plugin-document-setting-panel';\nimport EnablePublishSidebarOption from './enable-publish-sidebar';\nimport BlockManager from '../block-manager';\nimport PostTaxonomies from '../post-taxonomies';\nimport PostFeaturedImageCheck from '../post-featured-image/check';\nimport PostExcerptCheck from '../post-excerpt/check';\nimport PageAttributesCheck from '../page-attributes/check';\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport { useStartPatterns } from '../start-page-options';\n\nconst {\n\tPreferencesModal,\n\tPreferencesModalTabs,\n\tPreferencesModalSection,\n\tPreferenceToggleControl,\n} = unlock( preferencesPrivateApis );\n\nexport default function EditorPreferencesModal( { extraSections = {} } ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst { isActive, showBlockBreadcrumbsOption } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditorSettings } = select( editorStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst { isModalActive } = select( interfaceStore );\n\t\t\tconst isRichEditingEnabled = getEditorSettings().richEditingEnabled;\n\t\t\tconst isDistractionFreeEnabled = get( 'core', 'distractionFree' );\n\t\t\treturn {\n\t\t\t\tshowBlockBreadcrumbsOption:\n\t\t\t\t\t! isDistractionFreeEnabled &&\n\t\t\t\t\tisLargeViewport &&\n\t\t\t\t\tisRichEditingEnabled,\n\t\t\t\tisActive: isModalActive( 'editor/preferences' ),\n\t\t\t};\n\t\t},\n\t\t[ isLargeViewport ]\n\t);\n\tconst { closeModal } = useDispatch( interfaceStore );\n\tconst { setIsListViewOpened, setIsInserterOpened } =\n\t\tuseDispatch( editorStore );\n\tconst { set: setPreference } = useDispatch( preferencesStore );\n\tconst hasStarterPatterns = !! useStartPatterns().length;\n\n\tconst sections = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: 'general',\n\t\t\t\t\ttabLabel: __( 'General' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Interface' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"showListViewByDefault\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Opens the List View sidebar by default.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Always open List View' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ showBlockBreadcrumbsOption && (\n\t\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\t\tfeatureName=\"showBlockBreadcrumbs\"\n\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Display the block hierarchy trail at the bottom of the editor.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Show block breadcrumbs' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"allowRightClickOverrides\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Allows contextual List View menus via right-click, overriding browser defaults.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Allow right-click contextual menus'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{ hasStarterPatterns && (\n\t\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\t\tfeatureName=\"enableChoosePatternModal\"\n\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Shows starter patterns when creating a new page.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Show starter patterns' ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Document settings' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t'Select what settings are shown in the document panel.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EnablePluginDocumentSettingPanelOption.Slot />\n\t\t\t\t\t\t\t\t<PostTaxonomies\n\t\t\t\t\t\t\t\t\ttaxonomyWrapper={ ( content, taxonomy ) => (\n\t\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\t\tlabel={ taxonomy.labels.menu_name }\n\t\t\t\t\t\t\t\t\t\t\tpanelName={ `taxonomy-panel-${ taxonomy.slug }` }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PostFeaturedImageCheck>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Featured image' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"featured-image\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PostFeaturedImageCheck>\n\t\t\t\t\t\t\t\t<PostExcerptCheck>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Excerpt' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"post-excerpt\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PostExcerptCheck>\n\t\t\t\t\t\t\t\t<PostTypeSupportCheck\n\t\t\t\t\t\t\t\t\tsupportKeys={ [ 'comments', 'trackbacks' ] }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Discussion' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"discussion-panel\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PostTypeSupportCheck>\n\t\t\t\t\t\t\t\t<PageAttributesCheck>\n\t\t\t\t\t\t\t\t\t<EnablePanelOption\n\t\t\t\t\t\t\t\t\t\tlabel={ __( 'Page attributes' ) }\n\t\t\t\t\t\t\t\t\t\tpanelName=\"page-attributes\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PageAttributesCheck>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t{ isLargeViewport && (\n\t\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\t\ttitle={ __( 'Publishing' ) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<EnablePublishSidebarOption\n\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Review settings, such as visibility and tags.'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Enable pre-publish checks'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ extraSections?.general }\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'appearance',\n\t\t\t\t\ttabLabel: __( 'Appearance' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\ttitle={ __( 'Appearance' ) }\n\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t'Customize the editor interface to suit your needs.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tfeatureName=\"fixedToolbar\"\n\t\t\t\t\t\t\t\tonToggle={ () =>\n\t\t\t\t\t\t\t\t\tsetPreference(\n\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t'distractionFree',\n\t\t\t\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Access all block and document tools in a single place.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Top toolbar' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tfeatureName=\"distractionFree\"\n\t\t\t\t\t\t\t\tonToggle={ () => {\n\t\t\t\t\t\t\t\t\tsetPreference(\n\t\t\t\t\t\t\t\t\t\t'core',\n\t\t\t\t\t\t\t\t\t\t'fixedToolbar',\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tsetIsInserterOpened( false );\n\t\t\t\t\t\t\t\t\tsetIsListViewOpened( false );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Reduce visual distractions by hiding the toolbar and other elements to focus on writing.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Distraction free' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\tfeatureName=\"focusMode\"\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Highlights the current block and fades other content.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Spotlight mode' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ extraSections?.appearance }\n\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'accessibility',\n\t\t\t\t\ttabLabel: __( 'Accessibility' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Navigation' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t'Optimize the editing experience for enhanced control.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"keepCaretInsideBlock\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Keeps the text cursor within the block boundaries, aiding users with screen readers by preventing unintentional cursor movement outside the block.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t\t'Contain text cursor inside block'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Interface' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"showIconLabels\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Show button text labels' ) }\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Show text instead of icons on buttons across the interface.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'blocks',\n\t\t\t\t\ttabLabel: __( 'Blocks' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection title={ __( 'Inserter' ) }>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"mostUsedBlocks\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Adds a category with the most frequently used blocks in the inserter.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Show most used blocks' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'Manage block visibility' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t\"Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later.\"\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<BlockManager />\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\twindow.__experimentalMediaProcessing && {\n\t\t\t\t\tname: 'media',\n\t\t\t\t\ttabLabel: __( 'Media' ),\n\t\t\t\t\tcontent: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PreferencesModalSection\n\t\t\t\t\t\t\t\ttitle={ __( 'General' ) }\n\t\t\t\t\t\t\t\tdescription={ __(\n\t\t\t\t\t\t\t\t\t'Customize options related to the media upload flow.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core/media\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"optimizeOnUpload\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Compress media items before uploading to the server.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Pre-upload compression' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<PreferenceToggleControl\n\t\t\t\t\t\t\t\t\tscope=\"core/media\"\n\t\t\t\t\t\t\t\t\tfeatureName=\"requireApproval\"\n\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t'Require approval step when optimizing existing media.'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Approval step' ) }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PreferencesModalSection>\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t].filter( Boolean ),\n\t\t[\n\t\t\tshowBlockBreadcrumbsOption,\n\t\t\textraSections,\n\t\t\tsetIsInserterOpened,\n\t\t\tsetIsListViewOpened,\n\t\t\tsetPreference,\n\t\t\tisLargeViewport,\n\t\t\thasStarterPatterns,\n\t\t]\n\t);\n\n\tif ( ! isActive ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PreferencesModal closeModal={ closeModal }>\n\t\t\t<PreferencesModalTabs sections={ sections } />\n\t\t</PreferencesModal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nconst CONTENT = 'content';\n\nexport default {\n\tname: 'core/pattern-overrides',\n\tgetValues( { select, clientId, context, bindings } ) {\n\t\tconst patternOverridesContent = context[ 'pattern/overrides' ];\n\t\tconst { getBlockAttributes } = select( blockEditorStore );\n\t\tconst currentBlockAttributes = getBlockAttributes( clientId );\n\n\t\tconst overridesValues = {};\n\t\tfor ( const attributeName of Object.keys( bindings ) ) {\n\t\t\tconst overridableValue =\n\t\t\t\tpatternOverridesContent?.[\n\t\t\t\t\tcurrentBlockAttributes?.metadata?.name\n\t\t\t\t]?.[ attributeName ];\n\n\t\t\t// If it has not been overriden, return the original value.\n\t\t\t// Check undefined because empty string is a valid value.\n\t\t\tif ( overridableValue === undefined ) {\n\t\t\t\toverridesValues[ attributeName ] =\n\t\t\t\t\tcurrentBlockAttributes[ attributeName ];\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\toverridesValues[ attributeName ] =\n\t\t\t\t\toverridableValue === '' ? undefined : overridableValue;\n\t\t\t}\n\t\t}\n\t\treturn overridesValues;\n\t},\n\tsetValues( { select, dispatch, clientId, bindings } ) {\n\t\tconst { getBlockAttributes, getBlockParentsByBlockName, getBlocks } =\n\t\t\tselect( blockEditorStore );\n\t\tconst currentBlockAttributes = getBlockAttributes( clientId );\n\t\tconst blockName = currentBlockAttributes?.metadata?.name;\n\t\tif ( ! blockName ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [ patternClientId ] = getBlockParentsByBlockName(\n\t\t\tclientId,\n\t\t\t'core/block',\n\t\t\ttrue\n\t\t);\n\n\t\t// Extract the updated attributes from the source bindings.\n\t\tconst attributes = Object.entries( bindings ).reduce(\n\t\t\t( attrs, [ key, { newValue } ] ) => {\n\t\t\t\tattrs[ key ] = newValue;\n\t\t\t\treturn attrs;\n\t\t\t},\n\t\t\t{}\n\t\t);\n\n\t\t// If there is no pattern client ID, sync blocks with the same name and same attributes.\n\t\tif ( ! patternClientId ) {\n\t\t\tconst syncBlocksWithSameName = ( blocks ) => {\n\t\t\t\tfor ( const block of blocks ) {\n\t\t\t\t\tif ( block.attributes?.metadata?.name === blockName ) {\n\t\t\t\t\t\tdispatch( blockEditorStore ).updateBlockAttributes(\n\t\t\t\t\t\t\tblock.clientId,\n\t\t\t\t\t\t\tattributes\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tsyncBlocksWithSameName( block.innerBlocks );\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tsyncBlocksWithSameName( getBlocks() );\n\t\t\treturn;\n\t\t}\n\t\tconst currentBindingValue =\n\t\t\tgetBlockAttributes( patternClientId )?.[ CONTENT ];\n\n\t\tdispatch( blockEditorStore ).updateBlockAttributes( patternClientId, {\n\t\t\t[ CONTENT ]: {\n\t\t\t\t...currentBindingValue,\n\t\t\t\t[ blockName ]: {\n\t\t\t\t\t...currentBindingValue?.[ blockName ],\n\t\t\t\t\t...Object.entries( attributes ).reduce(\n\t\t\t\t\t\t( acc, [ key, value ] ) => {\n\t\t\t\t\t\t\t// TODO: We need a way to represent `undefined` in the serialized overrides.\n\t\t\t\t\t\t\t// Also see: https://github.com/WordPress/gutenberg/pull/57249#discussion_r1452987871\n\t\t\t\t\t\t\t// We use an empty string to represent undefined for now until\n\t\t\t\t\t\t\t// we support a richer format for overrides and the block bindings API.\n\t\t\t\t\t\t\tacc[ key ] = value === undefined ? '' : value;\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t},\n\t\t} );\n\t},\n\tcanUserEditValue: () => true,\n};\n","/**\n * WordPress dependencies\n */\nimport { store as coreDataStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Gets a list of post meta fields with their values and labels\n * to be consumed in the needed callbacks.\n * If the value is not available based on context, like in templates,\n * it falls back to the default value, label, or key.\n *\n * @param {Object} select  The select function from the data store.\n * @param {Object} context The context provided.\n * @return {Object} List of post meta fields with their value and label.\n *\n * @example\n * ```js\n * {\n *     field_1_key: {\n *         label: 'Field 1 Label',\n *         value: 'Field 1 Value',\n *     },\n *     field_2_key: {\n *         label: 'Field 2 Label',\n *         value: 'Field 2 Value',\n *     },\n *     ...\n * }\n * ```\n */\nfunction getPostMetaFields( select, context ) {\n\tconst { getEditedEntityRecord } = select( coreDataStore );\n\tconst { getRegisteredPostMeta } = unlock( select( coreDataStore ) );\n\n\tlet entityMetaValues;\n\t// Try to get the current entity meta values.\n\tif ( context?.postType && context?.postId ) {\n\t\tentityMetaValues = getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tcontext?.postType,\n\t\t\tcontext?.postId\n\t\t).meta;\n\t}\n\n\tconst registeredFields = getRegisteredPostMeta( context?.postType );\n\tconst metaFields = {};\n\tObject.entries( registeredFields || {} ).forEach( ( [ key, props ] ) => {\n\t\t// Don't include footnotes or private fields.\n\t\tif ( key !== 'footnotes' && key.charAt( 0 ) !== '_' ) {\n\t\t\tmetaFields[ key ] = {\n\t\t\t\tlabel: props.title || key,\n\t\t\t\tvalue:\n\t\t\t\t\t// When using the entity value, an empty string IS a valid value.\n\t\t\t\t\tentityMetaValues?.[ key ] ??\n\t\t\t\t\t// When using the default, an empty string IS NOT a valid value.\n\t\t\t\t\t( props.default || undefined ),\n\t\t\t};\n\t\t}\n\t} );\n\n\tif ( ! Object.keys( metaFields || {} ).length ) {\n\t\treturn null;\n\t}\n\n\treturn metaFields;\n}\n\nexport default {\n\tname: 'core/post-meta',\n\tgetValues( { select, context, bindings } ) {\n\t\tconst metaFields = getPostMetaFields( select, context );\n\n\t\tconst newValues = {};\n\t\tfor ( const [ attributeName, source ] of Object.entries( bindings ) ) {\n\t\t\t// Use the value, the field label, or the field key.\n\t\t\tconst fieldKey = source.args.key;\n\t\t\tconst { value: fieldValue, label: fieldLabel } =\n\t\t\t\tmetaFields?.[ fieldKey ] || {};\n\t\t\tnewValues[ attributeName ] = fieldValue ?? fieldLabel ?? fieldKey;\n\t\t}\n\t\treturn newValues;\n\t},\n\tsetValues( { dispatch, context, bindings } ) {\n\t\tconst newMeta = {};\n\t\tObject.values( bindings ).forEach( ( { args, newValue } ) => {\n\t\t\tnewMeta[ args.key ] = newValue;\n\t\t} );\n\n\t\tdispatch( coreDataStore ).editEntityRecord(\n\t\t\t'postType',\n\t\t\tcontext?.postType,\n\t\t\tcontext?.postId,\n\t\t\t{\n\t\t\t\tmeta: newMeta,\n\t\t\t}\n\t\t);\n\t},\n\tcanUserEditValue( { select, context, args } ) {\n\t\t// Lock editing in query loop.\n\t\tif ( context?.query || context?.queryId ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postType =\n\t\t\tcontext?.postType || select( editorStore ).getCurrentPostType();\n\n\t\t// Check that editing is happening in the post editor and not a template.\n\t\tif ( postType === 'wp_template' ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst fieldValue = getPostMetaFields( select, context )?.[ args.key ]\n\t\t\t?.value;\n\t\t// Empty string or `false` could be a valid value, so we need to check if the field value is undefined.\n\t\tif ( fieldValue === undefined ) {\n\t\t\treturn false;\n\t\t}\n\t\t// Check that custom fields metabox is not enabled.\n\t\tconst areCustomFieldsEnabled =\n\t\t\tselect( editorStore ).getEditorSettings().enableCustomFields;\n\t\tif ( areCustomFieldsEnabled ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check that the user has the capability to edit post meta.\n\t\tconst canUserEdit = select( coreDataStore ).canUser( 'update', {\n\t\t\tkind: 'postType',\n\t\t\tname: context?.postType,\n\t\t\tid: context?.postId,\n\t\t} );\n\t\tif ( ! canUserEdit ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\tgetFieldsList( { select, context } ) {\n\t\treturn getPostMetaFields( select, context );\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport * as interfaceApis from '@wordpress/interface';\n\n/**\n * Internal dependencies\n */\nimport { lock } from './lock-unlock';\nimport { EntitiesSavedStatesExtensible } from './components/entities-saved-states';\nimport EditorContentSlotFill from './components/editor-interface/content-slot-fill';\nimport BackButton from './components/header/back-button';\nimport CreateTemplatePartModal from './components/create-template-part-modal';\nimport Editor from './components/editor';\nimport PluginPostExcerpt from './components/post-excerpt/plugin';\nimport PostCardPanel from './components/post-card-panel';\nimport PreferencesModal from './components/preferences-modal';\nimport { usePostActions } from './components/post-actions/actions';\nimport ToolsMoreMenuGroup from './components/more-menu/tools-more-menu-group';\nimport ViewMoreMenuGroup from './components/more-menu/view-more-menu-group';\nimport ResizableEditor from './components/resizable-editor';\nimport {\n\tmergeBaseAndUserConfigs,\n\tGlobalStylesProvider,\n} from './components/global-styles-provider';\nimport {\n\tregisterCoreBlockBindingsSources,\n\tbootstrapBlockBindingsSourcesFromServer,\n} from './bindings/api';\n\nconst { store: interfaceStore, ...remainingInterfaceApis } = interfaceApis;\n\nexport const privateApis = {};\nlock( privateApis, {\n\tCreateTemplatePartModal,\n\tBackButton,\n\tEntitiesSavedStatesExtensible,\n\tEditor,\n\tEditorContentSlotFill,\n\tGlobalStylesProvider,\n\tmergeBaseAndUserConfigs,\n\tPluginPostExcerpt,\n\tPostCardPanel,\n\tPreferencesModal,\n\tusePostActions,\n\tToolsMoreMenuGroup,\n\tViewMoreMenuGroup,\n\tResizableEditor,\n\tregisterCoreBlockBindingsSources,\n\tbootstrapBlockBindingsSourcesFromServer,\n\n\t// This is a temporary private API while we're updating the site editor to use EditorProvider.\n\tinterfaceStore,\n\t...remainingInterfaceApis,\n} );\n","/**\n * WordPress dependencies\n */\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../lock-unlock';\nimport { store as editorStore } from '../store';\n\n/**\n * @typedef {import('@wordpress/dataviews').Action} Action\n */\n\n/**\n * Registers a new DataViews action.\n *\n * This is an experimental API and is subject to change.\n * it's only available in the Gutenberg plugin for now.\n *\n * @param {string} kind   Entity kind.\n * @param {string} name   Entity name.\n * @param {Action} config Action configuration.\n */\n\nexport function registerEntityAction( kind, name, config ) {\n\tconst { registerEntityAction: _registerEntityAction } = unlock(\n\t\tdispatch( editorStore )\n\t);\n\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t_registerEntityAction( kind, name, config );\n\t}\n}\n\n/**\n * Unregisters a DataViews action.\n *\n * This is an experimental API and is subject to change.\n * it's only available in the Gutenberg plugin for now.\n *\n * @param {string} kind     Entity kind.\n * @param {string} name     Entity name.\n * @param {string} actionId Action ID.\n */\nexport function unregisterEntityAction( kind, name, actionId ) {\n\tconst { unregisterEntityAction: _unregisterEntityAction } = unlock(\n\t\tdispatch( editorStore )\n\t);\n\n\tif ( globalThis.IS_GUTENBERG_PLUGIN ) {\n\t\t_unregisterEntityAction( kind, name, actionId );\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { Notice } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_POST_TYPE } from '../../store/constants';\nimport EditorInterface from '../editor-interface';\nimport { ExperimentalEditorProvider } from '../provider';\nimport Sidebar from '../sidebar';\n\nfunction Editor( {\n\tpostType,\n\tpostId,\n\ttemplateId,\n\tsettings,\n\tchildren,\n\tinitialEdits,\n\n\t// This could be part of the settings.\n\tonActionPerformed,\n\n\t// The following abstractions are not ideal but necessary\n\t// to account for site editor and post editor differences for now.\n\textraContent,\n\textraSidebarPanels,\n\t...props\n} ) {\n\tconst { post, template, hasLoadedPost } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\treturn {\n\t\t\t\tpost: getEntityRecord( 'postType', postType, postId ),\n\t\t\t\ttemplate: templateId\n\t\t\t\t\t? getEntityRecord(\n\t\t\t\t\t\t\t'postType',\n\t\t\t\t\t\t\tTEMPLATE_POST_TYPE,\n\t\t\t\t\t\t\ttemplateId\n\t\t\t\t\t  )\n\t\t\t\t\t: undefined,\n\t\t\t\thasLoadedPost: hasFinishedResolution( 'getEntityRecord', [\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ postType, postId, templateId ]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ hasLoadedPost && ! post && (\n\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t\"You attempted to edit an item that doesn't exist. Perhaps it was deleted?\"\n\t\t\t\t\t) }\n\t\t\t\t</Notice>\n\t\t\t) }\n\t\t\t{ !! post && (\n\t\t\t\t<ExperimentalEditorProvider\n\t\t\t\t\tpost={ post }\n\t\t\t\t\t__unstableTemplate={ template }\n\t\t\t\t\tsettings={ settings }\n\t\t\t\t\tinitialEdits={ initialEdits }\n\t\t\t\t\tuseSubRegistry={ false }\n\t\t\t\t>\n\t\t\t\t\t<EditorInterface { ...props }>\n\t\t\t\t\t\t{ extraContent }\n\t\t\t\t\t</EditorInterface>\n\t\t\t\t\t{ children }\n\t\t\t\t\t<Sidebar\n\t\t\t\t\t\tonActionPerformed={ onActionPerformed }\n\t\t\t\t\t\textraPanels={ extraSidebarPanels }\n\t\t\t\t\t/>\n\t\t\t\t</ExperimentalEditorProvider>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default Editor;\n","/**\n * WordPress dependencies\n */\nimport {\n\tstore as blocksStore,\n\tregisterBlockBindingsSource,\n} from '@wordpress/blocks';\nimport { dispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport patternOverrides from './pattern-overrides';\nimport postMeta from './post-meta';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Function to register core block bindings sources provided by the editor.\n *\n * @example\n * ```js\n * import { registerCoreBlockBindingsSources } from '@wordpress/editor';\n *\n * registerCoreBlockBindingsSources();\n * ```\n */\nexport function registerCoreBlockBindingsSources() {\n\tregisterBlockBindingsSource( patternOverrides );\n\tregisterBlockBindingsSource( postMeta );\n}\n\n/**\n * Function to bootstrap core block bindings sources defined in the server.\n *\n * @param {Object} sources Object containing the sources to bootstrap.\n *\n * @example\n * ```js\n * import { bootstrapBlockBindingsSourcesFromServer } from '@wordpress/editor';\n *\n * bootstrapBlockBindingsSourcesFromServer( sources );\n * ```\n */\nexport function bootstrapBlockBindingsSourcesFromServer( sources ) {\n\tif ( sources ) {\n\t\tconst { addBootstrappedBlockBindingsSource } = unlock(\n\t\t\tdispatch( blocksStore )\n\t\t);\n\t\tfor ( const [ name, args ] of Object.entries( sources ) ) {\n\t\t\taddBootstrappedBlockBindingsSource( {\n\t\t\t\tname,\n\t\t\t\t...args,\n\t\t\t} );\n\t\t}\n\t}\n}\n"],"names":["module","exports","keys","values","map","Map","has","key","indexOf","get","set","value","push","delete","index","splice","createEvent","name","Event","bubbles","e","evt","document","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","window","removeEventListener","Object","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","scrollHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","autosize","options","Array","prototype","call","length","x","default","prop","currentStyle","replace","word","letter","toUpperCase","isMergeableObject","isNonNullObject","stringValue","toString","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","val","isArray","defaultArrayMerge","target","source","concat","element","getKeys","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","object","property","_","arrayMerge","sourceIsArray","destination","hasOwnProperty","propertyIsUnsafe","customMerge","getMergeFunction","mergeObject","all","array","Error","reduce","prev","next","deepmerge_1","equal","a","b","constructor","i","RegExp","flags","valueOf","computedStyle","lnHeightStr","lnHeight","_lnHeightStyle","lineHeight","_node","createElement","innerHTML","setAttribute","fontSizeStr","fontSize","padding","border","body","appendChild","removeChild","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","bool","func","number","string","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","extendStatics","__extends","this","setPrototypeOf","__proto__","d","p","__","create","__assign","t","s","n","arguments","__rest","__esModule","React","getLineHeight","RESIZED","TextareaAutosizeClass","_super","_this","apply","state","textarea","onResize","updateLineHeight","setState","onChange","currentValue","currentTarget","componentDidMount","_a","maxRows","async","setTimeout","componentWillUnmount","render","_b","children","innerRef","maxHeight","ref","current","componentDidUpdate","defaultProps","rows","propTypes","Component","TextareaAutosize","forwardRef","TextareaAutosize_1","characterMap","chars","join","allAccents","firstAccent","matcher","match","removeAccents","remove","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","o","defineProperty","enumerable","obj","r","toStringTag","EDITOR_SETTINGS_DEFAULTS","SETTINGS_DEFAULTS","richEditingEnabled","codeEditingEnabled","fontLibraryEnabled","enableCustomFields","defaultRenderingMode","combineReducers","actions","action","_state$action$kind$ac","type","kind","_action","id","config","_state$action$kind$ac2","actionId","isReady","getPostRawValue","raw","postId","postType","templateId","saving","pending","deleting","postLock","isLocked","lock","template","isValid","postSavingLock","lockName","removedLockName","restState","editorSettings","settings","postAutosavingLock","renderingMode","mode","deviceType","removedPanels","includes","panelName","blockInserterPanel","isOpen","inserterSidebarToggleRef","listViewPanel","listViewToggleRef","publishSidebarActive","dataviews","dataviewsReducer","_jsx","SVG","xmlns","viewBox","Path","EDIT_MERGE_PROPERTIES","Set","SAVE_POST_NOTICE_ID","TRASH_POST_NOTICE_ID","PERMALINK_POSTNAME_REGEX","ONE_MINUTE_IN_MS","AUTOSAVE_PROPERTIES","TEMPLATE_PART_AREA_DEFAULT_CATEGORY","TEMPLATE_POST_TYPE","TEMPLATE_PART_POST_TYPE","PATTERN_POST_TYPE","NAVIGATION_POST_TYPE","TEMPLATE_ORIGINS","custom","theme","plugin","TEMPLATE_POST_TYPES","GLOBAL_POST_TYPES","fillRule","getTemplatePartIcon","iconName","headerIcon","footerIcon","sidebarIcon","symbolFilledIcon","EMPTY_OBJECT","hasEditorUndo","createRegistrySelector","select","coreStore","hasUndo","hasEditorRedo","hasRedo","isEditedPostNew","getCurrentPost","status","hasChangedContent","getPostEdits","isEditedPostDirty","getCurrentPostType","getCurrentPostId","hasEditsForEntityRecord","hasNonPostEntityChanges","dirtyEntityRecords","__experimentalGetDirtyEntityRecords","some","entityRecord","isCleanNewPost","getRawEntityRecord","getCurrentTemplateId","getCurrentPostRevisionsCount","_getCurrentPost$_link","_links","count","getCurrentPostLastRevisionId","_getCurrentPost$_link2","getEntityRecordEdits","getCurrentPostAttribute","attributeName","post","getNestedEditedPostProperty","createSelector","edits","getEditedPostAttribute","getEditedPostContent","getAutosaveAttribute","currentUserId","getCurrentUser","autosave","getAutosave","getEditedPostVisibility","isCurrentPostPending","isCurrentPostPublished","currentPost","isInTheFuture","Date","Number","getDate","date","isCurrentPostScheduled","isEditedPostPublishable","isEditedPostSaveable","isSavingPost","isEditedPostEmpty","Platform","OS","record","getEditedEntityRecord","content","blocks","blockName","getDefaultBlockName","getFreeformContentHandlerName","isEditedPostAutosaveable","isPostAutosavingLocked","hasFetchedAutosave","hasFetchedAutosaves","field","isEditedPostBeingScheduled","checkedDate","isEditedPostDateFloating","modified","isDeletingPost","isSavingNonPostEntityChanges","entitiesBeingSaved","__experimentalGetEntitiesBeingSaved","didPostSaveRequestSucceed","getLastEntitySaveError","didPostSaveRequestFail","isAutosavingPost","Boolean","isAutosave","isPreviewingPost","isPreview","getEditedPostPreviewLink","previewLink","addQueryArgs","preview","featuredImageId","_thumbnail_id","getSuggestedPostFormat","blockEditorStore","getBlocks","provider","attributes","providerNameSlug","__unstableSerializeAndClean","isPublishingPost","isPermalinkEditable","permalinkTemplate","test","getPermalink","permalinkParts","getPermalinkParts","prefix","postName","suffix","getEditedPostSlug","cleanForSlug","split","isPostLocked","isPostSavingLocked","isPostLockTakeover","isTakeover","getPostLockUser","user","getActivePostLock","activePostLock","canUserUseUnfilteredHTML","isPublishSidebarEnabled","preferencesStore","getEditorBlocks","parse","isEditorPanelRemoved","isEditorPanelEnabled","inactivePanels","isEditorPanelOpened","openPanels","getEditorSelectionStart","deprecated","since","alternative","selectionStart","getEditorSelectionEnd","selectionEnd","getEditorSelection","__unstableIsEditorReady","getEditorSettings","getRenderingMode","getDeviceType","__unstableGetEditorMode","isListViewOpened","isInserterOpened","getEditorMode","_select$get","getStateBeforeOptimisticTransaction","hint","inSomeHistory","getBlockEditorSelector","args","version","getBlockName","isBlockValid","getBlockAttributes","getBlock","getClientIdsOfDescendants","getClientIdsWithDescendants","getGlobalBlockCount","getBlocksByClientId","getBlockCount","getBlockSelectionStart","getBlockSelectionEnd","getSelectedBlockCount","hasSelectedBlock","getSelectedBlockClientId","getSelectedBlock","getBlockRootClientId","getBlockHierarchyRootClientId","getAdjacentBlockClientId","getPreviousBlockClientId","getNextBlockClientId","getSelectedBlocksInitialCaretPosition","getMultiSelectedBlockClientIds","getMultiSelectedBlocks","getFirstMultiSelectedBlockClientId","getLastMultiSelectedBlockClientId","isFirstMultiSelectedBlock","isBlockMultiSelected","isAncestorMultiSelected","getMultiSelectedBlocksStartClientId","getMultiSelectedBlocksEndClientId","getBlockOrder","getBlockIndex","isBlockSelected","hasSelectedInnerBlock","isBlockWithinSelection","hasMultiSelection","isMultiSelecting","isSelectionEnabled","getBlockMode","isTyping","isCaretWithinFormattedText","getBlockInsertionPoint","isBlockInsertionPointVisible","isValidTemplate","getTemplate","getTemplateLock","canInsertBlockType","getInserterItems","hasInserterItems","getBlockListSettings","__experimentalGetDefaultTemplateTypes","defaultTemplateTypes","__experimentalGetDefaultTemplatePartAreas","_getEditorSettings$de","defaultTemplatePartAreas","item","icon","__experimentalGetDefaultTemplateType","slug","_Object$values$find","templateTypes","find","__experimentalGetTemplateInfo","description","title","area","defaultTitle","defaultDescription","templateTitle","rendered","layout","getPostTypeLabel","currentPostType","getPostType","labels","singular_name","isPublishSidebarOpened","postKey","isPostNew","localAutosaveClear","sessionStorage","removeItem","unlock","__dangerousOptInToUnstableAPIsOnlyForCoreModules","setupEditor","dispatch","setEditedPost","synchronizeBlocksWithTemplate","resetEditorBlocks","__unstableShouldCreateUndoLevel","edit","_post$key$raw","editPost","__experimentalTearDownEditor","resetPost","updatePost","setupEditorState","registry","editEntityRecord","savePost","undoIgnore","previousRecord","getEntityRecordNonTransientEdits","error","applyFiltersAsync","saveEntityRecord","message","code","applyFilters","Promise","resolve","doActionAsync","data","publishStatus","isPublished","messages","publish","private","future","noticeMessage","getNotificationArgumentsForSaveFail","noticesStore","createErrorNotice","updatedRecord","_postType$viewable","previousPost","willPublish","willTrash","isDraft","shouldShowLink","viewable","item_trashed","item_reverted_to_draft","item_published","item_published_privately","item_scheduled","item_updated","label","view_item","url","link","getNotificationArgumentsForSaveSuccess","resolveSelect","createSuccessNotice","__unstableMarkLastChangeAsPersistent","refreshPost","trashPost","postTypeSlug","removeNotice","rest_base","restBase","rest_namespace","restNamespace","apiFetch","path","method","local","excerpt","setItem","JSON","stringify","post_title","localAutosaveSet","__unstableSaveForPreview","forceIsAutosaveable","redo","undo","createUndoLevel","updatePostLock","enablePublishSidebar","disablePublishSidebar","lockPostSaving","unlockPostSaving","lockPostAutosaving","unlockPostAutosaving","selection","__unstableCreateUndoLevel","blocksForSerialization","updateEditorSettings","setRenderingMode","clearSelectedBlock","setDeviceType","toggleEditorPanelEnabled","_registry$select$get","updatedInactivePanels","invactivePanelName","toggleEditorPanelOpened","_registry$select$get2","updatedOpenPanels","openPanelName","removeEditorPanel","setIsInserterOpened","setInsertionPoint","rootClientId","insertionIndex","setIsListViewOpened","toggleDistractionFree","isDistractionFree","batch","createInfoNotice","onClick","toggle","switchEditorMode","speak","openPublishSidebar","closePublishSidebar","togglePublishSidebar","getBlockEditorAction","resetBlocks","receiveBlocks","updateBlock","updateBlockAttributes","selectBlock","startMultiSelect","stopMultiSelect","multiSelect","toggleSelection","replaceBlocks","replaceBlock","moveBlocksDown","moveBlocksUp","moveBlockToPosition","insertBlock","insertBlocks","showInsertionPoint","hideInsertionPoint","setTemplateValidity","synchronizeTemplate","mergeBlocks","removeBlocks","removeBlock","toggleBlockMode","startTyping","stopTyping","enterFormattedText","exitFormattedText","insertDefaultBlock","updateBlockListSettings","_x","isPrimary","external","isEligible","callback","posts","onActionPerformed","open","context","items","_items$0$_links$versi","revisionsCount","sprintf","_post$_links$predeces","_post$_links$version","lastRevisionId","href","revision","sort","direction","isInteger","elements","validValues","f","Edit","valueA","valueB","localeCompare","timeA","getTime","timeB","FORM_CONTROLS","datetime","hideLabelFromVision","getValue","onChangeControl","useCallback","newValue","_jsxs","className","BaseControl","VisualLabel","as","VisuallyHidden","TimePicker","currentTime","integer","_field$getValue","NumberControl","help","__next40pxDefaultSize","radio","RadioControl","selected","_field$elements","SelectControl","__nextHasNoMarginBottom","text","placeholder","TextControl","getControlByType","normalizeFields","fields","_field$sort","_field$isValid","_field$enableHiding","_field$enableSorting","fieldTypeDefinition","getControl","renderFromElements","header","enableHiding","enableSorting","DropdownHeader","onClose","VStack","spacing","HStack","alignment","Heading","level","size","Spacer","Button","closeSmall","FormField","popoverAnchor","setPopoverAnchor","useState","popoverProps","useMemo","anchor","placement","offset","shift","Dropdown","contentClassName","focusOnMount","toggleProps","variant","tooltipPosition","renderToggle","onToggle","renderContent","_Fragment","FORM_LAYOUTS","component","form","visibleFields","_form$fields","fieldId","DataForm","_form$type","isTemplateOrTemplatePart","getItemTitle","decodeEntities","isTemplateRemovable","has_theme_file","formDuplicateAction","duplicatePost","RenderModal","closeModal","isCreatingPage","setIsCreatingPage","useDispatch","onSubmit","event","preventDefault","newItemOject","comment_status","meta","parent","password","format","featured_media","menu_order","ping_status","startsWith","slice","assignablePropertiesPrefix","newItem","throwOnError","typedError","errorMessage","changes","justify","isBusy","CreatePatternModalContents","useDuplicatePatternProps","patternsPrivateApis","duplicatePattern","modalHeader","duplicatedProps","pattern","onSuccess","confirmLabel","PATTERN_TYPES","renamePost","isTemplate","is_custom","permissions","isTemplatePart","setTitle","saveEditedEntityRecord","required","isItemValid","every","formOrderAction","reorderPage","orderInput","isSaveDisabled","accessibleWhenDisabled","disabled","lowerCase","str","toLowerCase","SuppressedError","DEFAULT_SPLIT_REGEXP","DEFAULT_STRIP_REGEXP","input","re","paramCase","splitRegexp","stripRegexp","transform","delimiter","result","start","end","charAt","noCase","dotCase","Blob","Response","DataView","setUint32","ArrayBuffer","Uint8Array","buffer","TextEncoder","encode","String","min","File","isFile","lastModified","stream","headers","now","ReadableStream","isView","asyncIterator","TypeError","pull","desiredSize","close","enqueue","byteLength","cancel","throw","u","BigInt","l","URL","pathname","findLast","decodeURIComponent","c","subarray","Uint32Array","y","w","getSeconds","getMinutes","getHours","getMonth","getFullYear","setUint16","B","decode","TextDecoder","fatal","g","m","getReader","done","read","I","setBigUint64","v","h","D","N","iterator","buffersAreUTF8","getJsonFromItem","__file","syncStatus","wp_pattern_sync_status","download","supportsBulk","downloadBlob","kebabCase","nameCount","filesToZip","metadata","S","downloadZip","blob","backup","allSettled","promiseResult","successMessage","reason","errorMessages","failedPromises","failedPromise","add","revertTemplate","allowUndo","noticeId","templateOrTemplatePart","templateEntityConfig","getEntityConfig","fileTemplatePath","baseURL","origin","fileTemplate","serializeBlocks","edited","undoRevert","resetPostAction","hideModalHeader","setIsBusy","Text","fallbackErrorMessage","onConfirm","clipRule","deletePostAction","trash","isResetting","_n","notice","success","getMessage","getBatchMessage","errors","callbacks","deleteEntityRecord","allSettledResults","force","_notice$success$type","_notice$error$type","getErrorMessagesFromPromises","onActionError","deletePostWithNotices","useExistingTemplateParts","useSelect","getEntityRecords","per_page","getUniqueTemplatePartTitle","templateParts","lowercaseTitle","existingTitles","templatePart","getCleanTemplatePartSlug","CreateTemplatePartModal","modalTitle","restProps","defaultModalTitle","add_new_item","Modal","onRequestClose","overlayClassName","CreateTemplatePartModalContents","defaultArea","onCreate","onError","existingTemplateParts","setArea","isSubmitting","setIsSubmitting","instanceId","useInstanceId","templatePartAreas","editorStore","uniqueTitle","cleanSlug","serialize","createTemplatePart","RadioGroup","checked","Radio","Flex","align","FlexItem","Icon","FlexBlock","check","duplicateTemplatePart","_item$blocks","__unstableSkipMigrationLogs","registerEntityAction","unregisterEntityAction","setIsReady","registerPostTypeActions","isEntityReady","postTypeConfig","canCreate","canUser","currentTheme","getCurrentTheme","viewPost","supports","revisions","viewPostRevisions","is_block_theme","exportPattern","restorePost","deletePost","permanentlyDeletePost","doAction","setCurrentTemplateId","createTemplate","savedTemplate","showBlockTypes","blockNames","newBlockNames","hideBlockTypes","existingBlockNames","mergedBlockNames","saveDirtyEntities","onSave","entitiesToSkip","PUBLISH_ON_SAVE_ENTITIES","saveNoticeId","homeUrl","getEntityRecord","home","entitiesToSave","elt","siteItemsToSave","pendingSavedRecords","typeToPublish","__experimentalSaveSpecifiedEntityEdits","then","catch","removeTemplates","EMPTY_ARRAY","EMPTY_INSERTION_POINT","filterValue","getInserter","postContentClientId","getBlocksByName","getListViewToggleRef","getInserterSidebarToggleRef","CARD_ICONS","wp_block","wp_navigation","navigation","page","pageIcon","verse","getPostIcon","postTypeEntity","hasPostMetaChanges","currentPostId","originalPostMeta","fastDeepEqual","footnotes","getEntityActions","_state$actions$kind$n","_getEntityActions","_isEntityReady","getPostBlocksByName","getBlockParents","clientId","parentClientId","parentBlockName","storeConfig","reducer","selectors","store","createReduxStore","getUserLabel","avatar","avatar_urls","alt","src","register","registerPrivateActions","privateActions","registerPrivateSelectors","privateSelectors","addFilter","_settings$attributes","metaAttributes","fromEntries","entries","attributeKey","createHigherOrderComponent","BlockEdit","setAttributes","setMeta","useEntityProp","mergedAttributes","metaKey","nextAttributes","nextMeta","createWithMetaAttributeSource","triggerPrefix","useItems","users","getUsers","search","encodeURIComponent","getOptionCompletion","completers","userAutocompleter","MediaUpload","PatternOverridesControls","ResetOverridesControl","PatternOverridesBlockControls","PARTIAL_SYNCING_SUPPORTED_BLOCKS","PATTERN_SYNC_TYPES","withPatternOverrideControls","isSupportedBlock","isSelected","ControlsWithStoreSubscription","blockEditingMode","useBlockEditingMode","hasPatternOverridesSource","isEditingSyncedPattern","getBlockBindingsSource","unsynced","bindings","hasPatternBindings","binding","shouldShowPatternOverridesControls","shouldShowResetOverridesControl","normalizeComplementaryAreaScope","scope","normalizeComplementaryAreaName","setDefaultComplementaryArea","enableComplementaryArea","disableComplementaryArea","pinItem","pinnedItems","unpinItem","toggleFeature","featureName","setFeatureValue","setFeatureDefaults","defaults","setDefaults","openModal","getActiveComplementaryArea","isComplementaryAreaVisible","complementaryAreas","isComplementaryAreaLoading","isVisible","identifier","isItemPinned","_pinnedItems$item","isFeatureActive","isModalActive","modalName","activeModal","withPluginContext","ownProps","complementaryAreaContext","selectedIcon","shortcut","ComponentToUse","interfaceStore","role","ComplementaryAreaHeader","smallScreenTitle","toggleButtonProps","toggleButton","ComplementaryAreaToggle","clsx","tabIndex","noop","ActionItem","Fill","fpOnClick","Slot","ButtonGroup","fillProps","bubblesVirtually","fills","Children","toArray","initializedByPlugins","__unstableExplicitMenuItem","__unstableTarget","child","PluginsMenuItem","MenuItem","ComplementaryAreaMoreMenuItem","PinnedItems","variants","closed","mobileOpen","ComplementaryAreaFill","activeArea","isActive","disableMotion","useReducedMotion","isMobileViewport","useViewportMatch","previousActiveArea","usePrevious","previousIsActive","useEffect","transition","duration","ease","AnimatePresence","initial","motion","div","animate","exit","ComplementaryAreaWrapped","withComplementaryAreaContext","closeLabel","headerClassName","isPinnable","panelClassName","toggleShortcut","isActiveByDefault","isLoading","isPinned","isSmall","isLarge","showIconLabels","_activeArea","viewportStore","isViewportMatch","previousIsSmallRef","useRef","shouldOpenWhenNotSmallRef","useAdjustComplementaryListener","isPressed","showTooltip","starFilled","starEmpty","Panel","FullscreenMode","isSticky","classList","contains","NavigableRegion","ariaLabel","Tag","commonTransition","headerVariants","hidden","opacity","marginTop","visible","distractionFreeHover","delay","delayChildren","distractionFreeHidden","distractionFreeDisabled","footer","editorNotices","sidebar","secondarySidebar","enableRegionNavigation","shortcuts","secondarySidebarResizeListener","secondarySidebarSize","useResizeObserver","defaultTransition","navigateRegionsProps","useNavigateRegions","querySelector","useHTMLClass","mergedLabels","useMergeRefs","whileHover","position","left","EditorKeyboardShortcuts","isModeToggleDisabled","useShortcut","isDisabled","sidebarToOpen","AutosaveMonitor","super","needsAutosave","isDirty","isAutosaveable","disableIntervalChecks","setAutosaveTimer","prevProps","editsReference","interval","clearTimeout","timerId","isAutosaving","timeout","autosaveTimerHandler","compose","withSelect","getReferenceByDistinctEdits","autosaveInterval","withDispatch","MotionButton","DocumentBar","postTypeLabel","documentTitle","isNotFound","isUnsyncedPattern","onNavigateToPreviousEntityRecord","getTemplateInfo","isResolving","isResolvingSelector","_postType","_postId","_document","_templateInfo","_postTypeLabel","openCommandCenter","commandsStore","isReducedMotion","isGlobalEntity","hasBackButton","entityTitle","mountedRef","isRTL","chevronRightSmall","chevronLeftSmall","stopPropagation","BlockIcon","displayShortcut","primary","TableOfContentsItem","onSelect","emptyHeadingContent","incorrectLevelContent","singleH1Headings","multipleH1Headings","EmptyOutlineIllustration","fill","Rect","rx","Line","x1","y1","x2","y2","stroke","computeOutlineHeadings","flatMap","block","isEmpty","isEmptyHeading","innerBlocks","heading","trim","DocumentOutline","isTitleSupported","hasOutlineItemsDisabled","_postType$supports$ti","headings","prevHeadingLevel","titleNode","hasTitle","hasMultipleH1","acc","DocumentOutlineItem","isIncorrectLevel","getTextContent","html","DocumentOutlineCheck","hasHeadings","registerShortcut","keyboardShortcutsStore","category","keyCombination","modifier","character","aliases","isAppleOS","BlockEditorKeyboardShortcuts","Register","primaryShift","undoIcon","redoIcon","TemplateValidationNotice","showConfirmDialog","setShowConfirmDialog","Notice","isDismissible","ConfirmDialog","confirmButtonText","onCancel","notices","getNotices","dismissibleNotices","nonDismissibleNotices","NoticeList","onRemove","MAX_VISIBLE_NOTICES","EditorSnackbars","snackbarNotices","SnackbarList","EntityRecordItem","entityRecordTitle","PanelRow","CheckboxControl","getGlobalStylesChanges","GlobalStylesContext","blockEditorPrivateApis","GlobalStylesDescription","currentEditorGlobalStyles","useContext","savedRecord","globalStylesChanges","maxResults","change","EntityDescription","entity","getEntityDescription","EntityTypeList","list","unselectedEntities","setUnselectedEntities","firstRecord","entityLabel","PanelBody","initialOpen","useIsDirty","editedEntities","siteEdits","siteEntityConfig","_siteEntityConfig$met","editedEntitiesWithoutSite","siteEntityLabels","editedSiteEntities","_setUnselectedEntities","identity","EntitiesSavedStates","renderDialog","isDirtyProps","EntitiesSavedStatesExtensible","additionalPrompt","saveEnabled","saveEnabledProp","saveLabel","saveButtonRef","partitionedSavables","site","siteSavables","wp_template","templateSavables","wp_template_part","templatePartSavables","contentSavables","sortedPartitionedSavables","dismissPanel","saveDialogRef","saveDialogProps","useDialog","dialogLabel","dialogDescription","gap","isBlock","createInterpolateElement","strong","getContent","CopyButton","useCopyToClipboard","ErrorBoundary","componentDidCatch","getDerivedStateFromError","stack","Warning","requestIdleCallback","requestAnimationFrame","hasStorageSupport","ifCondition","hasSessionStorageSupport","deferredAutosave","hasRemoteAutosave","createWarningNotice","localAutosave","getItem","localAutosaveGet","editsContent","editsWithoutContent","useAutosaveNotice","didError","lastIsDirtyRef","lastIsAutosavingRef","wasEditedPostNew","prevPostId","useAutosavePurge","localAutosaveInterval","supportsPageAttributes","supportKeys","isSupported","PageAttributesOrder","order","_select$getEditedPost","setOrderInput","newOrder","onBlur","PageAttributesOrderWithChecks","PostTypeSupportCheck","buildTermsTree","flatTerms","flatTermsWithParentAndChildren","term","termsByParent","fillWithChildren","terms","unescapeString","arg","unescapeTerm","unescapeTerms","getTitle","getItemPriority","searchValue","normalizedName","normalizedSearch","Infinity","PageAttributesParent","fieldValue","setFieldValue","isHierarchical","parentPostId","parentPostTitle","pageItems","_pType$hierarchical","pageId","pType","postIsHierarchical","hierarchical","query","exclude","parent_exclude","orderby","_fields","parentPost","parentOptions","getOptionsFromTree","tree","sortedNodes","treeNode","repeat","rawName","flat","opts","optsHasParent","unshift","ComboboxControl","onFilterValueChange","debounce","inputValue","selectedPostId","PostParentToggle","parentTitle","ParentRow","PostPanelRow","InspectorPopoverHeader","filterURLForDisplay","wbr","ExternalLink","PANEL_NAME","AttributesPanel","isEnabled","PageAttributesPanel","PageAttributesCheck","DEFAULT_TITLE","CreateNewTemplateModal","defaultBlockTemplate","onNavigateToEntityRecord","getTemplateId","newTemplateContent","createBlock","tagName","inherit","newTemplate","useEditedPostContext","useAllowSwitchingTemplates","siteSettings","templates","isPostsPage","page_for_posts","isFrontPage","page_on_front","useTemplates","post_type","useAvailableTemplates","currentTemplateSlug","useCurrentTemplateSlug","allowSwitchingTemplate","entityTemplate","POPOVER_PROPS","PostTemplateToggle","templateSlug","supportsTemplateMode","availableTemplates","PostTemplateDropdownContent","_options$find","_selectedOption$value","fetchedTemplates","selectedTemplateSlug","canEdit","currentTemplateId","canCreateTemplates","_currentTemplateId","selectedOption","option","isCreateModalOpen","setIsCreateModalOpen","addTemplate","PreferenceBaseOption","preferencesPrivateApis","isRemoved","isChecked","createSlotFill","EnablePluginDocumentSettingPanelOption","EnablePanelOption","PluginDocumentSettingPanel","pluginName","usePluginContext","opened","PluginBlockSettingsMenuItem","allowedBlocks","small","BlockSettingsMenuControls","selectedBlocks","shouldRenderItem","allowed","isEverySelectedBlockAllowed","_ownProps$as","PluginPostPublishPanel","pluginIcon","PluginPostStatusInfo","PluginPrePublishPanel","PluginSidebar","postTitle","ComplementaryArea","PluginSidebarMoreMenuItem","SwapTemplateButton","showModal","setShowModal","isFullScreen","TemplatesList","templatesAsPatterns","shownTemplates","useAsyncList","BlockPatternsList","blockPatterns","shownPatterns","onClickPattern","ResetDefaultTemplate","CreateNewTemplate","BlockThemeControl","isTemplateHidden","hasGoBack","_getEditorSettings","getPreference","editedRecord","hasResolved","useEntityRecord","canCreateTemplate","notificationAction","DropdownMenu","MenuGroup","PostTemplatePanel","isBlockTheme","__unstableIsBlockBasedTheme","_select$canUser","canViewTemplates","_select$canUser2","ClassicThemeControl","BASE_QUERY","AUTHORS_QUERY","who","useAuthorsQuery","authorId","authors","postAuthor","getUser","_authorId","authorOptions","fetchedAuthors","author","foundAuthor","findIndex","currentAuthor","PostAuthorCombobox","postAuthorId","allowReset","PostAuthorSelect","PostAuthorCheck","hasAssignAuthorAction","hasAuthors","_post$_links$wpActio","PostAuthorToggle","authorName","PostAuthorForm","COMMENT_OPTIONS","commentStatus","newCommentStatus","pingStatus","onTogglePingback","ModalContents","PostComments","PostPingbacks","PostDiscussionToggle","commentsSupported","trackbacksSupported","_getEditedPostAttribu","_getEditedPostAttribu2","comments","trackbacks","PostDiscussionPanel","PostExcerpt","updateOnBlur","shouldUseDescriptionLabel","usedAttribute","_usedAttribute","localExcerpt","setLocalExcerpt","TextareaControl","PluginPostExcerpt","ExcerptPanel","isOpened","toggleExcerptPanel","PostExcerptForm","PostExcerptPanel","PostExcerptCheck","PrivatePostExcerptPanel","PrivateExcerpt","shouldRender","shouldBeUsedAsDescription","allowEditing","isPattern","_shouldBeUsedAsDescription","_shouldRender","headerTitle","excerptText","numberOfLines","truncate","excerptPlaceholder","triggerEditLabel","ThemeSupportCheck","themeSupports","getThemeSupports","_themeSupports$key","supported","ALLOWED_MEDIA_TYPES","DEFAULT_FEATURE_IMAGE_LABEL","DEFAULT_SET_FEATURE_IMAGE_LABEL","instructions","applyWithSelect","getMedia","media","applyWithDispatch","noticeOperations","onUpdateImage","image","onDropImage","filesList","getSettings","mediaUpload","allowedTypes","onFileChange","removeAllNotices","onRemoveImage","withNotices","withFilters","noticeUI","toggleRef","setIsLoading","mediaSourceUrl","_media$media_details$","_media$media_details$2","defaultSize","media_details","sizes","mediaWidth","mediaHeight","source_url","fallbackSize","getMediaDetails","onDropFiles","isBlobURL","PostFeaturedImageCheck","alt_text","full","file","MediaUploadCheck","fallback","featured_image","unstableFeaturedImageFlow","modalClass","Spinner","set_featured_image","focus","DropZone","onFilesDrop","PostFeaturedImagePanel","withPanelBody","_postType$labels$feat","PostFeaturedImage","disablePostFormats","POST_FORMATS","caption","normalizedA","normalizedB","PostFormat","postFormatSelectorId","postFormat","suggestedFormat","supportedFormats","_postFormat","formats","suggestion","onUpdatePostFormat","PostFormatCheck","usePostLastRevisionInfo","PrivatePostLastRevision","PostLastRevisionCheck","iconPosition","PostLastRevision","PostLockedModal","hookName","postLockUtils","releasePostLock","FormData","append","unlockNonce","navigator","sendBeacon","ajaxUrl","xhr","XMLHttpRequest","send","addAction","post_id","received","lock_error","avatar_src_2x","new_lock","removeAction","userDisplayName","userAvatar","unlockUrl","lockKey","_wpnonce","nonce","allPostsUrl","allPostsLabel","shouldCloseOnClickOutside","shouldCloseOnEsc","PreviewLink","hasPublishAction","PostPendingStatusCheck","togglePendingStatus","PostPreviewButton","textContent","onPreview","currentPostLink","isSaveable","isViewable","editor","targetId","previewWindow","targetDocument","markup","renderToString","write","writeInterstitialMessage","PublishButtonLabel","isSmallerThanMediumViewport","isBeingScheduled","isSaving","isPublishing","postStatusHasChanged","postStatus","PostPublishButton","createOnClick","closeEntitiesSavedStates","entitiesSavedStatesCallback","setEntitiesSavedStatesCallback","savedEntities","forceIsDirty","isPublishable","isAutoSaving","isToggle","savePostStatus","visibility","isButtonDisabled","isToggleDisabled","buttonProps","onClickButton","onClickToggle","componentProps","visibilityOptions","public","info","PostVisibility","hasPassword","setHasPassword","showPrivateConfirmDialog","setShowPrivateConfirmDialog","PostVisibilityChoice","setPublic","setPrivate","setPasswordProtected","htmlFor","confirmPrivate","handleDialogCancel","PostVisibilityLabel","usePostVisibilityLabel","toDate","argument","argStr","NaN","startOfMonth","_date","setDate","setHours","endOfMonth","month","setFullYear","pow","millisecondsInMinute","millisecondsInHour","patterns","dateTimeDelimiter","timeZoneDelimiter","timezone","dateRegex","timeRegex","timezoneRegex","parseDateUnit","parseInt","parseTimeUnit","daysInMonths","isLeapYearIndex","year","PrivatePublishDateTimePicker","PostSchedule","PrivatePostSchedule","showPopoverHeaderActions","isCompact","postDate","previewedMonth","setPreviewedMonth","eventsByPostType","after","toISOString","before","events","eventDate","is12HourTime","time","reverse","currentDate","is12Hour","dateOrder","onMonthPreviewed","additionalDigits","dateStrings","dateString","timeString","substr","token","exec","splitDateString","parseYearResult","regex","captures","restDateString","century","parseYear","isWeekDate","dayOfYear","day","week","dayOfWeek","_year","validateWeekDate","isoWeekYear","setUTCFullYear","diff","getUTCDay","setUTCDate","getUTCDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","max","parseDate","timestamp","hours","minutes","seconds","validateTime","parseTime","dirtyDate","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","timezoneString","sign","_hours","validateTimezone","parseTimezone","parseISO","PostScheduleLabel","usePostScheduleLabel","isFloating","getFullPostScheduleLabel","dateAttribute","getTimezoneOffset","isTimezoneSameAsSiteTimezone","isSameDay","dateI18n","tomorrow","getPostScheduleLabel","timezoneAbbreviation","abbr","offsetFormatted","getTimezoneAbbreviation","formattedDate","right","MIN_MOST_USED_TERMS","DEFAULT_QUERY","hide_empty","MostUsedTerms","taxonomy","_terms","showTerms","mostUsedTerms","most_used","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","termNamesToIds","names","termName","FlatTermSelector","_taxonomy$labels$add_","_taxonomy$labels$sing2","setValues","setSearch","debouncedSearch","useDebounce","termIds","hasAssignAction","hasCreateAction","hasResolvedTerms","_post$_links","_post$_links2","getTaxonomy","hasFinishedResolution","_taxonomy","_termIds","include","searchResults","newValues","suggestions","onUpdateTerms","newTermIds","newTermLabel","singularName","termAddedLabel","termRemovedLabel","removeTermLabel","FormTokenField","termNames","availableTerms","uniqueTerms","newTermNames","newTerm","term_id","findOrCreateTerm","newTerms","newAvailableTerms","onInputChange","maxSuggestions","added","removed","_taxonomy$labels$sing","defaultName","termAddedMessage","TagsPanel","panelBodyTitle","MaybeTagsPanel","hasTags","isPostTypeSupported","tagsTaxonomy","_isPostTypeSupported","types","areTagsFetched","tags","hadTagsWhenOpeningThePanel","getSuggestion","suggestedPostFormat","PostFormatSuggestion","suggestionText","PostFormatPanel","currentPostFormat","_select$getThemeSuppo","MIN_TERMS_COUNT_FOR_FILTER","HierarchicalTermSelector","_taxonomy$labels$sear","_taxonomy$name","adding","setAdding","formName","setFormName","formParent","setFormParent","showForm","setShowForm","setFilterValue","filteredTermsTree","setFilteredTermsTree","debouncedSpeak","loading","availableTermsTree","termsTree","treeHasSelection","termTree","newTermTree","termOrChildIsSelected","termASelected","termBSelected","sortBySelected","renderTerms","renderedTerms","termId","labelWithFallback","labelProperty","fallbackIsCategory","fallbackIsNotCategory","_taxonomy$labels$labe","newTermButtonLabel","parentSelectLabel","noParentOption","newTermSubmitLabel","filterLabel","search_items","groupLabel","showFilter","SearchControl","newFilteredTermsTree","matchTermsForFilter","originalTerm","getFilterMatcher","getResultCount","resultCount","resultsFoundMessage","onToggleForm","existingTerm","findTerm","TreeSelect","noOptionLabel","parentId","selectedId","hasNoCategory","categoriesTaxonomy","defaultCategoryId","default_category","defaultCategory","postTypeSupportsCategories","categories","shouldShowPanel","setShouldShowPanel","randomUUID","crypto","getRandomValues","rnds8","rng","byteToHex","buf","rnds","random","unsafeStringify","flattenBlocks","getMediaInfo","mediaUrl","mediaAlt","mediaId","Image","img","onKeyDown","scale","objectFit","borderRadius","cursor","MaybeUploadMediaPanel","isUploading","setIsUploading","isAnimating","setIsAnimating","hadUploadError","setHadUploadError","editorBlocks","blocksWithExternalMedia","hasExternalMedia","display","flexWrap","onExitComplete","mediaUrls","uploadPromises","urls","basenames","filename","getFilename","basename","parts","pop","uuid","generateUniqueBasenames","filePromise","fetch","response","reject","updateBlockWithUploadedMedia","finally","isRequestingSiteIcon","siteIconUrl","siteTitle","siteHome","siteData","site_icon_url","prePublishTitle","prePublishBodyText","siteIcon","wordpress","MaybeUploadMedia","MaybePostFormatPanel","MaybeCategoryPanel","POSTNAME","PAGENAME","onCopy","PostPublishPanelPostpublish","showCopyConfirmation","onSelectInput","postLink","createRef","dismissCopyConfirmation","isScheduled","postLabel","viewPostLabel","addNewPostLabel","permalink_template","getFuturePostUrl","addLink","postPublishNonLinkHeader","readOnly","safeDecodeURIComponent","onFocus","PostPublishPanel","cancelButtonNode","timeoutID","isPostTypeViewable","onTogglePublishSidebar","PostPublishExtension","PrePublishExtension","additionalProps","propsForPanel","isPublishedOrScheduled","isPrePublish","isPostPublish","PostPublishPanelPrepublish","withFocusReturn","withConstrainedTabbing","cloneElement","PostStickyCheck","hasStickyAction","PostSticky","postSticky","sticky","postStatusesInfo","drafts","draft","notAllowed","scheduled","published","STATUS_OPTIONS","DESIGN_POST_TYPES","PostStatus","showPassword","setShowPassword","passwordInputId","newStatus","newPassword","newDate","handleTogglePassword","handleStatus","maxLength","PostSavedState","forceSavedMessage","setForceSavedMessage","isLargeViewport","isNew","isPending","wasSaving","timeoutId","isIneligibleStatus","shortLabel","isSaved","isSavedState","getAnimateClassName","cloudUpload","cloud","PostScheduleCheck","_select$getCurrentPos","PostSchedulePanel","fullLabel","PostScheduleForm","PostSlugCheck","PostSlugControl","postSlug","forceEmptyField","setForceEmptyField","autoComplete","spellCheck","PostSlug","PostSwitchToDraftButton","alertMessage","flexGrow","justifyContent","handleConfirm","PostSyncStatus","taxonomyWrapper","taxonomies","getTaxonomies","show_ui","TaxonomyComponent","taxonomyComponentProps","Fragment","PostTaxonomiesCheck","TaxonomyPanel","taxonomyMenuName","menu_name","PostTaxonomiesForm","PostTextEditor","_type","_id","Function","Textarea","dir","DEFAULT_CLASSNAMES","REGEXP_NEWLINES","usePostTitleFocus","forwardedRef","_isCleanNewPost","useImperativeHandle","defaultView","ownerDocument","activeElement","usePostTitle","newTitle","titlePlaceholder","setIsSelected","focusRef","onUpdate","setSelection","decodedPlaceholder","richTextRef","useRichText","onSelectionChange","newStart","newEnd","sel","__unstableDisableFormats","onInsertBlockAfter","contentEditable","keyCode","ENTER","onPaste","clipboardData","plainText","getData","console","log","pasteHandler","HTML","firstBlock","contentNoHTML","stripHTML","insert","PostTrashCheck","canTrashPost","canUserDelete","PostTrash","useRegistry","isDeleting","isDestructive","PostURL","isEditable","permalinkPrefix","permalinkSuffix","permalink","createNotice","copyButtonRef","InputControl","InputControlPrefixWrapper","InputControlSuffixWrapper","copySmall","PostURLCheck","PostURLLabel","usePostURLLabel","PostURLPanel","PostURLToggle","decodedSlug","Truncate","PostVisibilityCheck","WordCount","wordCountType","wordCount","AVERAGE_READING_RATE","TimeToRead","minutesToRead","minutesToReadString","span","CharacterCount","characterCount","headingCount","paragraphCount","numberOfBlocks","repositionDropdown","hasBlocks","TableOfContentsPanel","UnsavedChangesWarning","warnIfUnsavedChanges","returnValue","WrappedComponent","useSubRegistry","subRegistries","WeakMap","subRegistry","createRegistry","blockEditorStoreConfig","registerStore","getSubRegistry","RegistryProvider","getExternalLink","getExternalLinkAttributes","getOpenverseCaption","foreign_landing_url","foreignLandingUrl","creator","creator_url","creatorUrl","license","license_version","licenseVersion","license_url","licenseUrl","fullLicense","getOpenverseLicense","licenseName","_creator","_caption","coreMediaFetch","getMediaItems","orderBy","mediaItem","previewUrl","medium","mediaType","media_type","finalQuery","mature","excluded_source","mapFromInserterMediaRequest","queryKey","searchParams","json","results","sourceId","thumbnail","getReportUrl","isExternalResource","additionalData","maxUploadFileSize","wpAllowedMimeTypes","allowedMimeTypes","imageIsUploading","wp_id","postData","clearSaveLock","uploadMedia","isObject","isPlainObject","ctor","prot","cleanEmptyObject","mergeBaseAndUserConfigs","base","baseConfig","userConfig","useGlobalStylesContext","isUserConfigReady","setUserConfig","globalStylesId","styles","_globalStylesId","__experimentalGetCurrentGlobalStylesId","userCanEditGlobalStyles","callbackOrObject","_record$styles","_record$settings","_record$_links","currentConfig","updatedConfig","useGlobalStylesUserConfig","isBaseConfigReady","__experimentalGetCurrentThemeBaseGlobalStyles","useGlobalStylesBaseConfig","mergedConfig","merged","__experimentalReusableBlocksSelect","reusableBlocks","BLOCK_EDITOR_SETTINGS","globalStylesDataKey","globalStylesLinksDataKey","selectBlockPatternsKey","reusableBlocksSelectKey","sectionRootClientIdKey","privateApis","POST_CONTENT_BLOCK_TYPES","usePostContentBlocks","contentOnlyBlockTypes","contentOnlyIds","DisableNonPageContentBlocks","disabledIds","setBlockEditingMode","unsetBlockEditingMode","NavigationBlockEditingMode","blockClientId","POST_TYPES_ALLOWING_POST_CONTENT_TEMPLATE_PART","RenamePatternModal","PatternRenameModal","DuplicatePatternModal","PatternDuplicateModal","useEditorCommandLoader","editorMode","isListViewOpen","showBlockBreadcrumbs","isTopToolbar","isFocusMode","isPreviewMode","isCodeEditingEnabled","isRichEditingEnabled","_get","_getPostType$viewable","__unstableIsPreviewMode","allowSwitchEditorMode","commands","keyboard","listView","drawerLeft","drawerRight","activeSidebar","blockDefault","formatListBullets","useEditedEntityContextualCommands","patternRenameModalName","patternDuplicateModalName","BlockRemovalWarningModal","TEMPLATE_BLOCKS","BLOCK_REMOVAL_RULES","postTypes","removedBlocks","BlockRemovalWarnings","removalRulesForPostType","rule","rules","useStartPatterns","blockPatternsWithPostContentBlockType","getPatternsByBlockTypes","PatternSelection","onChoosePattern","shownBlockPatterns","_pattern","StartPageOptionsModal","startPatterns","StartPageOptions","isClosed","setIsClosed","shouldEnableModal","preferencesModalActive","textFormattingShortcuts","KeyCombination","forceAriaLabel","displayShortcutList","shortcutAriaLabel","alias","getShortcutKeyCombination","getShortcutDescription","getShortcutAliases","Shortcut","KEYBOARD_SHORTCUT_HELP_MODAL_NAME","ShortcutList","DynamicShortcut","ShortcutSection","ShortcutCategorySection","categoryName","additionalShortcuts","categoryShortcuts","getCategoryShortcuts","toggleModal","closeButtonLabel","ContentOnlySettingsMenuItems","postContentBlocks","canEditTemplates","getBlockParentsByBlockName","patternParent","TemplateLockContentOnlyMenuItems","helpText","BlockSettingsMenuFirstItem","contentLockingParent","getContentLockingParent","blockDisplayInformation","useBlockDisplayInformation","blockEditorActions","modifyContentLockBlock","ContentOnlySettingsMenu","selectedClientIds","fallbackContent","useEntityBlockEditor","getBlockPatterns","currentThemeStylesheet","stylesheet","templateType","innerBlock","injectThemeAttributeInBlockTemplateContent","StartModal","isCustom","getDefaultTemplateId","ignore_empty","useFallbackTemplateContent","expanded","StartTemplateOptions","shouldOpenModal","templateRecord","ConvertToRegularBlocks","canRemoveBlock","ConvertToTemplatePart","clientIds","isModalOpen","setIsModalOpen","symbolFilled","TemplatePartMenuItems","TemplatePartConverterMenuItem","isContentOnly","getBlockEditingMode","ExperimentalBlockEditorProvider","PatternsMenuItems","editPatternsPrivateApis","NON_CONTEXTUAL_POST_TYPES","ExperimentalEditorProvider","withRegistryProvider","recovery","initialEdits","BlockEditorProviderComponent","__unstableTemplate","getPostTypes","shouldRenderTemplate","rootLevelPost","defaultBlockContext","postContext","postTypesSlugs","blockEditorSettings","_mergedGlobalStyles$s","_mergedGlobalStyles$_","_settings$__experimen","_settings$__experimen2","allowRightClickOverrides","blockTypes","focusMode","hasFixedToolbar","keepCaretInsideBlock","hasUploadPermissions","hiddenBlockTypes","canUseUnfilteredHTML","userCanCreatePages","pageOnFront","pageForPosts","userPatternCategories","restBlockPatternCategories","sectionRootClientId","_canUser","getUserPatternCategories","getBlockPatternCategories","getBlockTypes","blocksStore","_getBlocksByName$","_getBlocksByName$find","mergedGlobalStyles","globalStylesData","globalStylesLinksData","settingsBlockPatterns","__experimentalAdditionalBlockPatterns","__experimentalBlockPatterns","settingsBlockPatternCategories","__experimentalAdditionalBlockPatternCategories","__experimentalBlockPatternCategories","blockPatternCategories","createPageEntity","allowedBlockTypes","forceDisableFocusMode","getBlockPatternsForPostType","__experimentalUserPatternCategories","__experimentalFetchLinkSuggestions","searchOptions","fetchLinkSuggestions","inserterMediaCategories","__experimentalFetchRichUrlData","fetchUrlData","__experimentalCanUserUseUnfilteredHTML","__experimentalUndo","outlineMode","__experimentalCreatePageEntity","__experimentalUserCanCreatePages","__experimentalPreferPatternsOnRoot","templateLock","__experimentalSetIsInserterOpened","useBlockEditorSettings","onInput","postBlocks","templateBlocks","onInputTemplate","onChangeTemplate","maybeNavigationBlocks","useBlockEditorProps","useLayoutEffect","editLink","_settings$defaultRend","canInsert","blockType","removeFilter","useHideBlocksFromInserter","useCommandLoader","hook","EntityProvider","BlockContextProvider","KeyboardShortcutHelpModal","BlockEditorProvider","deprecateComponent","Wrapped","staticsToHoist","staticName","deprecateFunction","RichText","RootRichText","Autocomplete","RootAutocomplete","AlignmentToolbar","RootAlignmentToolbar","BlockAlignmentToolbar","RootBlockAlignmentToolbar","BlockControls","RootBlockControls","RootBlockEdit","RootBlockEditorKeyboardShortcuts","BlockFormatControls","RootBlockFormatControls","RootBlockIcon","BlockInspector","RootBlockInspector","BlockList","RootBlockList","BlockMover","RootBlockMover","BlockNavigationDropdown","RootBlockNavigationDropdown","BlockSelectionClearer","RootBlockSelectionClearer","BlockSettingsMenu","RootBlockSettingsMenu","BlockTitle","RootBlockTitle","BlockToolbar","RootBlockToolbar","ColorPalette","RootColorPalette","ContrastChecker","RootContrastChecker","CopyHandler","RootCopyHandler","DefaultBlockAppender","RootDefaultBlockAppender","FontSizePicker","RootFontSizePicker","Inserter","RootInserter","InnerBlocks","RootInnerBlocks","InspectorAdvancedControls","RootInspectorAdvancedControls","InspectorControls","RootInspectorControls","PanelColorSettings","RootPanelColorSettings","PlainText","RootPlainText","RichTextShortcut","RootRichTextShortcut","RichTextToolbarButton","RootRichTextToolbarButton","__unstableRichTextInputEvent","__unstableRootRichTextInputEvent","MediaPlaceholder","RootMediaPlaceholder","RootMediaUpload","RootMediaUploadCheck","MultiSelectScrollIntoView","RootMultiSelectScrollIntoView","NavigableToolbar","RootNavigableToolbar","ObserveTyping","RootObserveTyping","SkipToSelectedBlock","RootSkipToSelectedBlock","URLInput","RootURLInput","URLInputButton","RootURLInputButton","URLPopover","RootURLPopover","RootWarning","WritingFlow","RootWritingFlow","createCustomColorsHOC","rootCreateCustomColorsHOC","getColorClassName","rootGetColorClassName","getColorObjectByAttributeValues","rootGetColorObjectByAttributeValues","getColorObjectByColorValue","rootGetColorObjectByColorValue","getFontSize","rootGetFontSize","getFontSizeClass","rootGetFontSizeClass","withColorContext","rootWithColorContext","withColors","rootWithColors","withFontSizes","rootWithFontSizes","VisualEditorGlobalKeyboardShortcuts","TextEditorGlobalKeyboardShortcuts","urlCleanForSlug","createPrivateSlotFill","componentsPrivateApis","slotName","BackButton","BackButtonSlot","useSlotFills","useHasBlockToolbar","CollapsibleBlockToolbar","isCollapsed","blockSelectionStart","hasBlockToolbar","hasBlockSelection","hideDragHandle","Popover","previous","disableBlockTools","listViewShortcut","getShortcutRepresentation","isVisualMode","isZoomedOutView","isWideViewport","toolbarAriaLabel","toggleListView","toggleInserter","longLabel","ToolbarItem","onMouseDown","plus","ToolSelector","EditorHistoryUndo","EditorHistoryRedo","CopyContentMenuItem","MODES","selectedMode","choices","choice","MenuItemsChoice","ToolsMoreMenuGroup","ViewMoreMenuGroup","MoreMenu","setPreference","turnOffDistractionFree","moreVertical","PreferenceToggleMenuItem","messageActivated","messageDeactivated","handleToggling","ModeSwitcher","access","rel","IS_TOGGLE","IS_BUTTON","PostViewLink","hasLoaded","PreviewDropdown","_currentPostType","__unstableSetEditorMode","resetZoomLevel","handleDevicePreviewChange","newDeviceType","menuProps","deviceIcons","desktop","mobile","tablet","disableOpenOnArrowDown","strokeWidth","strokeLinecap","ZoomOutToggle","isZoomOut","setZoomLevel","handleZoomOut","zoomOutIcon","toolbarVariations","backButtonVariations","customSaveButton","forceDisableBlockTools","isEditorIframed","isTooNarrowForDocumentBar","useMediaQuery","isTextEditor","isNestedEntity","_isPublishSidebarOpened","isBlockToolsCollapsed","setIsBlockToolsCollapsed","hasCenter","useHasBackButton","DocumentTools","PostPublishButtonOrToggle","PrivateInserterLibrary","InserterSidebar","blockSectionRootClientId","inserter","showMostUsedBlocks","sidebarIsOpened","getSectionRootClientId","getBlockSectionRootClientId","libraryRef","closeInserterSidebar","closeOnEscape","ESCAPE","defaultPrevented","inserterContents","showInserterHelpPanel","shouldFocusBlock","__experimentalInitialTab","tab","__experimentalInitialCategory","__experimentalFilterValue","onPatternCategorySelection","ListViewOutline","TabbedSidebar","ListViewSidebar","focusOnMountRef","useFocusOnMount","closeListView","dropZoneElement","setDropZoneElement","setTab","sidebarRef","tabsRef","listViewRef","listViewContainerRef","handleToggleListViewShortcut","currentTab","tabPanelFocus","tabbable","listViewApplicationFocus","handleSidebarFocus","tabs","panel","ListView","panelRef","tabName","defaultTabId","SavePublishPanels","isEntitiesSavedStatesOpen","forceIsDirtyPublishPanel","publishSidebarOpened","hasOtherEntitiesChanges","_hasOtherEntitiesChanges","openEntitiesSavedStates","unmountableContent","TextEditor","autoFocus","titleRef","PostTitleRaw","EditTemplateBlocksNotification","contentRef","canEditTemplate","isDialogOpen","setIsDialogOpen","handleDblClick","dataset","canvas","ResizeHandle","resizeWidthBy","resizableHandleHelpId","Tooltip","button","LEFT","RIGHT","active","scaleY","whileFocus","whileTap","HANDLE_STYLES_OVERRIDE","userSelect","top","bottom","enableResizing","setWidth","resizableRef","deltaPixels","ResizableBox","api","resizable","onResizeStop","minWidth","maxWidth","enable","showHandle","resizeRatio","handleComponent","handleClasses","handleStyles","clamp","distanceFromRect","rect","dx","dy","sqrt","useSelectNearestEditableBlock","getEnabledClientIdsTree","useRefEffect","handleClick","selectNearestEditableBlock","editableBlockClientIds","nearestDistance","nearestClientId","distance","getBoundingClientRect","clientX","clientY","LayoutStyle","useLayoutClasses","useLayoutStyles","ExperimentalBlockCanvas","BlockCanvas","useFlashEditableBlocks","getPostContentAttributes","nestedPostContent","checkForPostContentAtRootLevel","disableIframe","iframeProps","resizeObserver","isTabletViewport","postContentAttributes","editedPostTemplate","wrapperBlockName","wrapperUniqueId","isFocusedEntity","isDesignPostType","_renderingMode","_wrapperBlockName","postTypeObject","hasRootPaddingAwareAlignments","themeHasDisabledLayoutStyles","themeSupportsLayout","isZoomedOut","_isZoomOut","_settings","disableLayoutStyles","supportsLayout","__experimentalFeatures","useRootPaddingAwareAlignments","deviceStyles","useResizeCanvas","globalLayoutSettings","useSettings","fallbackLayout","newestPostContentAttributes","parseableContent","hasPostContentAtRootLevel","postContentLayoutClasses","blockListLayoutClass","postContentLayoutStyles","postContentLayout","contentSize","wideSize","blockListLayout","postEditorLayout","observeTypingRef","useTypingObserver","localRef","typewriterRef","useTypewriter","zoomOutProps","frameSize","forceFullHeight","shouldIframe","iframeStyles","css","ResizableEditor","selector","PostTitle","RecursionProvider","uniqueId","__unstableDisableDropZone","interfaceLabels","EditorInterface","customSavePanel","previousShortcut","nextShortcut","documentLabel","getAllShortcutKeyCombinations","secondarySidebarLabel","InterfaceSkeleton","Header","EditorNotices","EditorContentSlotFill","editorCanvasView","VisualEditor","BlockBreadcrumb","rootLabelText","OverridesPanel","PatternOverridesPanel","usePostActions","defaultActions","existingCallback","argsObject","_items","ExistingRenderModal","DropdownMenuV2","PostActions","isActionsMenuOpen","setIsActionsMenuOpen","getEntityRecordPermissions","itemWithPermissions","allActions","trigger","onOpenChange","ActionsDropdownMenuGroup","DropdownMenuItemTrigger","Item","hideOnClick","ItemLabel","ActionWithModal","ActionTrigger","actionTriggerProps","__experimentalHideHeader","Group","PostCardPanel","isSync","_record","_isSync","weight","PostContentInformation","postContent","wordsCounted","readingTime","wordsCountText","toLocaleString","minutesText","activeFormat","PostFormatForm","PostLastEditedPanel","lastEditedText","humanTimeDiff","BlogTitle","postsPageTitle","postsPageId","_postsPageRecord","setPostsPageTitle","decodedTitle","PostsPerPage","postsPerPage","posts_per_page","setPostsPerPage","spinControls","step","SiteDiscussion","allowCommentsOnNewPosts","default_comment_status","setAllowCommentsOnNewPosts","PostSummary","isRemovedPostStatusPanel","PostPanelSection","PostStatusPanel","PostAuthorPanel","EXCLUDED_PATTERN_SOURCES","preparePatterns","keywords","showTitlesAsTooltip","PostTransform","availablePatterns","restBlockPatterns","filterOutDuplicatesByName","currentItem","filterOutExcludedPatternSources","filterCompatiblePatterns","filterPatterns","useAvailablePatterns","selectedTemplate","PostTransformPanel","sidebars","Tabs","SidebarHeader","TabList","Tab","tabId","BlockQuickNavigation","TemplateContentPanel","postContentBlockTypes","TemplatePartContentPanelInner","themeBlockNames","themeBlocks","TemplatePartContentPanel","SIDEBAR_ACTIVE_BY_DEFAULT","web","native","SidebarContent","keyboardShortcut","extraPanels","tabListRef","tabsContextValue","Context","tabsElements","from","querySelectorAll","selectedTabElement","getAttribute","Provider","TabPanel","focusable","PostTaxonomiesPanel","Sidebar","activeGeneralSidebar","isEditorSidebarOpened","useAutoSwitchEditorSidebars","showSummary","_tabName","onTabSelect","newSelectedTabId","selectedTabId","selectOnMove","onItemChange","BlockManagerCategory","filteredBlockTypes","toggleVisible","nextIsChecked","toggleAllVisible","checkedBlockNames","titleId","isAllChecked","isIndeterminate","indeterminate","BlockTypesChecklist","BlockManager","hasBlockSupport","isMatchingSearchTerm","numberOfHiddenBlocks","_blockTypes","hiddenBlock","registeredBlock","getCategories","newBlockTypes","enableAllBlockTypes","nextSearch","PreferencesModal","PreferencesModalTabs","PreferencesModalSection","PreferenceToggleControl","CONTENT","getValues","patternOverridesContent","currentBlockAttributes","overridesValues","overridableValue","patternClientId","attrs","syncBlocksWithSameName","currentBindingValue","canUserEditValue","getPostMetaFields","coreDataStore","getRegisteredPostMeta","entityMetaValues","registeredFields","metaFields","_entityMetaValues$key","_ref","fieldKey","fieldLabel","newMeta","queryId","getFieldsList","remainingInterfaceApis","interfaceApis","_registerEntityAction","_unregisterEntityAction","Editor","extraContent","extraSidebarPanels","hasLoadedPost","GlobalStylesProvider","extraSections","showBlockBreadcrumbsOption","hasStarterPatterns","sections","tabLabel","PostTaxonomies","EnablePublishSidebarOption","general","appearance","__experimentalMediaProcessing","registerCoreBlockBindingsSources","registerBlockBindingsSource","patternOverrides","postMeta","bootstrapBlockBindingsSourcesFromServer","sources","addBootstrappedBlockBindingsSource"],"sourceRoot":""}